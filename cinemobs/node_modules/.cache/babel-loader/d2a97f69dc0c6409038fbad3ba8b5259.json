{"ast":null,"code":"var _jsxFileName = \"/var/www/html/REACT_WORK/cinemobs/src/container/Playlist/playlist_video.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport OwlCarousel from 'react-owl-carousel';\nimport 'owl.carousel/dist/assets/owl.carousel.css';\nimport 'owl.carousel/dist/assets/owl.theme.default.css';\nimport axios from 'axios';\nimport ReactJWPlayer from 'react-jw-player';\nimport Loader from '../../component/loader/video_player_loader';\nimport Horizontal_Banner from '../../component/horizontal_banner/horizontal_banner';\nimport Vertical_Banner from '../../component/vertical_banner/vertical_banner';\nimport Duration from '../../component/duration';\nimport { CATEGORY_DATA, COUNTRYCODE, PARTNER_ID, USERID, PLAYLIST_VIEW, PLAYLIST_METADATA, PLAYLIST } from '../../url';\nimport Not_Found from '../../component/not_found/not_found';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport { toast, cssTransition } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Authenticator from '../Authentication/Authentication';\nimport LinesEllipsis from 'react-lines-ellipsis';\nconst Zoom = cssTransition({\n  enter: 'zoomIn',\n  exit: 'zoomOut',\n  duration: 750\n});\n\nclass Category_list extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      playlistData: [],\n      isLoading: false,\n      not_found: false,\n      play_id: 0,\n      videoUrl: '',\n      video_banner: '',\n      currententryId: '',\n      playlist: []\n    };\n\n    this.getData = async () => {\n      var formData = new FormData();\n      formData.append('userid', USERID);\n      formData.append('countrycode', COUNTRYCODE);\n      formData.append('partnerid', PARTNER_ID);\n      formData.append('pid', this.state.play_id);\n      let response = await axios.post(PLAYLIST_METADATA, formData, {\n        headers: {\n          'token': localStorage.getItem('token')\n        }\n      });\n\n      if (response.status == '200') {\n        var result = response.data;\n\n        if (result.UserView.length == 0) {\n          //this.setState({not_found:true,isLoading:true})\n          toast(\"Playlist is empty\", {\n            transition: Zoom\n          });\n          setTimeout(() => this.props.history.push('/playlist'), 100); //  return false;\n        } else {\n          var output = [];\n          var res1 = result.UserView;\n\n          for (var i = 0; i < res1.length; i++) {\n            var feed = {\n              file: res1[i].downloadurl,\n              image: res1[i].thumbnail.h_thumburl,\n              entryid: res1[i].entry_id\n            };\n            output.push(feed);\n          } //console.log(output);\n\n\n          this.setState({\n            playlistData: result.UserView,\n            playlist: output,\n            videoUrl: result.UserView[0].downloadurl,\n            video_banner: result.UserView[0].thumbnail.h_thumburl\n          });\n          setTimeout(() => this.setState({\n            isLoading: true,\n            not_found: false\n          }), 1000);\n        }\n      } else {\n        this.setState({\n          not_found: true\n        });\n      }\n    };\n\n    this.onVideoLoad = event => {\n      //console.log(event.item.sources[0].entryid);\n      this.setState({\n        currententryId: event.item.sources[0].entryid\n      }, function () {//  this.switchPlaylist(event.item.sources[0].entryid)\n      });\n    };\n\n    this.deletePlaylistItem = async entryid => {\n      var formData = new FormData();\n      formData.append('userid', USERID);\n      formData.append('countrycode', COUNTRYCODE);\n      formData.append('partnerid', PARTNER_ID);\n      formData.append('entryid', entryid);\n      formData.append('tag', 'delete');\n      formData.append('pid', this.state.play_id);\n      let response = await axios.post(PLAYLIST, formData, {\n        headers: {\n          'token': localStorage.getItem('token')\n        }\n      });\n\n      if (response.status == 200) {\n        //  console.log(response.data);\n        // var res=this.state.playlistData.filter((data)=>{return data.entry_id!=entryid});\n        // var array2=this.state.playlist.filter((data)=>{return data.entryid!=entryid});\n        // this.setState({playlistData:res,playlist:array2})\n        toast(response.data.Message, {\n          transition: Zoom\n        });\n        this.getData();\n      } else {}\n    };\n\n    this.switchPlaylist = entryid => {\n      var array1 = this.state.playlist.filter(data => {\n        return data.entryid == entryid;\n      });\n      var array2 = this.state.playlist.filter(data => {\n        return data.entryid != entryid;\n      });\n      var array3 = array1.concat(array2);\n      this.setState({\n        playlist: array3,\n        currententryId: entryid\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      play_id: this.props.match.params.id\n    }, function () {\n      this.getData();\n    });\n  }\n\n  componentDidUpdate() {\n    if (this.props.match.params.id != this.state.play_id) {\n      this.setState({\n        not_found: false,\n        isLoading: false,\n        play_id: this.props.match.params.id\n      }, function () {\n        this.getData();\n      });\n    }\n  }\n\n  render() {\n    const playlistData = this.state.playlistData;\n    const UpNext = playlistData.length > 0 && playlistData.map((res, key) => {\n      return React.createElement(\"li\", {\n        class: this.state.currententryId == res.entry_id ? 'current_vdo' : '',\n        style: {\n          cursor: 'pointer'\n        },\n        key: key,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"img\",\n        onClick: () => this.switchPlaylist(res.entry_id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        class: \"load_place_horiz\",\n        src: res.thumbnail.h_thumburl,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        class: \"duration\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(Duration, {\n        sec1: res.Duration,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        class: \"desc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        class: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, \"Demo\"), React.createElement(\"span\", {\n        class: \"subtitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        class: \"det\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"LinesEllipsis\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(LinesEllipsis, {\n        text: res.longdescription,\n        maxLine: \"3\",\n        ellipsis: \"...\",\n        trimRight: true,\n        basedOn: \"letters\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      })))), React.createElement(\"button\", {\n        class: \"delete\",\n        onClick: () => this.deletePlaylistItem(res.entry_id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"fa fa-trash\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      })), this.state.currententryId == res.entry_id && React.createElement(\"div\", {\n        class: \"icon_pl_pu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"fa fa-play\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      })), this.state.currententryId != res.entry_id && React.createElement(\"div\", {\n        class: \"icon_pl_pu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, key + 1));\n    });\n\n    if (this.state.isLoading) {\n      if (this.state.not_found) {\n        return React.createElement(Not_Found, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(\"div\", {\n          class: \"inner_wrap\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }, React.createElement(\"section\", {\n          class: \"catdet_video\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, React.createElement(\"article\", {\n          class: \"vd_area\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"col-md-7 col-lg-8\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, React.createElement(ReactJWPlayer, {\n          ref: ref => {\n            this.player = ref;\n          },\n          playerId: \"jw-player\" //  file={response_data.downloadurl}\n          ,\n          onVideoLoad: this.onVideoLoad,\n          playlist: this.state.playlist,\n          image: this.state.video_banner,\n          playerScript: \"https://content.jwplatform.com/libraries/jvJ1Gu3c.js\",\n          file: this.state.videoUrl,\n          aspectRatio: \"16:9\",\n          className: \"col-md-12\",\n          isAutoPlay: false,\n          controls: true,\n          customProps: {\n            controls: true,\n            defaultBandwidthEstimate: 400000,\n            stretching: 'fill',\n            preload: 'auto',\n            volume: 100,\n            width: '100%',\n            height: '100%'\n          } // onTime={(e)=>{this.onTimeChange(e)}}\n          ,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          class: \"col-md-5 col-lg-4\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"side_playlist play_list\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210\n          },\n          __self: this\n        }, React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211\n          },\n          __self: this\n        }, \"Up next\"), React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        }, UpNext), React.createElement(\"div\", {\n          class: \"clearfix\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216\n          },\n          __self: this\n        })))), React.createElement(\"div\", {\n          class: \"clearfix\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          class: \"clearfix\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 222\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          class: \"clearfix\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224\n          },\n          __self: this\n        })));\n      }\n    } else {\n      return React.createElement(Loader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nexport default Authenticator(Category_list);","map":{"version":3,"sources":["/var/www/html/REACT_WORK/cinemobs/src/container/Playlist/playlist_video.js"],"names":["React","Link","OwlCarousel","axios","ReactJWPlayer","Loader","Horizontal_Banner","Vertical_Banner","Duration","CATEGORY_DATA","COUNTRYCODE","PARTNER_ID","USERID","PLAYLIST_VIEW","PLAYLIST_METADATA","PLAYLIST","Not_Found","InfiniteScroll","toast","cssTransition","Authenticator","LinesEllipsis","Zoom","enter","exit","duration","Category_list","Component","state","playlistData","isLoading","not_found","play_id","videoUrl","video_banner","currententryId","playlist","getData","formData","FormData","append","response","post","headers","localStorage","getItem","status","result","data","UserView","length","transition","setTimeout","props","history","push","output","res1","i","feed","file","downloadurl","image","thumbnail","h_thumburl","entryid","entry_id","setState","onVideoLoad","event","item","sources","deletePlaylistItem","Message","switchPlaylist","array1","filter","array2","array3","concat","componentDidMount","match","params","id","componentDidUpdate","render","UpNext","map","res","key","cursor","longdescription","ref","player","controls","defaultBandwidthEstimate","stretching","preload","volume","width","height"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {Link} from 'react-router-dom';\nimport OwlCarousel from 'react-owl-carousel';\nimport 'owl.carousel/dist/assets/owl.carousel.css';\nimport 'owl.carousel/dist/assets/owl.theme.default.css';\nimport axios from 'axios';\nimport ReactJWPlayer from 'react-jw-player';\nimport Loader from '../../component/loader/video_player_loader';\nimport Horizontal_Banner from '../../component/horizontal_banner/horizontal_banner';\nimport Vertical_Banner from '../../component/vertical_banner/vertical_banner';\nimport Duration from '../../component/duration'\nimport {CATEGORY_DATA,COUNTRYCODE,PARTNER_ID,USERID,PLAYLIST_VIEW,PLAYLIST_METADATA,PLAYLIST} from '../../url';\nimport Not_Found from '../../component/not_found/not_found'\nimport InfiniteScroll from 'react-infinite-scroller';\nimport {  toast,cssTransition} from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Authenticator from '../Authentication/Authentication'\nimport LinesEllipsis from 'react-lines-ellipsis'\nconst Zoom = cssTransition({\nenter: 'zoomIn',\nexit: 'zoomOut',\nduration: 750,\n});\nclass Category_list extends React.Component\n{\n  state={playlistData:[],isLoading:false,not_found:false,play_id:0,videoUrl:'',video_banner:'',currententryId:'',\n  playlist:[]\n}\n  componentDidMount()\n  {\n    this.setState({play_id:this.props.match.params.id},function(){\n      this.getData();\n    })\n  }\n   getData=async ()=>{\n    var formData=new FormData();\n    formData.append('userid',USERID);\n    formData.append('countrycode',COUNTRYCODE);\n    formData.append('partnerid',PARTNER_ID);\n    formData.append('pid',this.state.play_id);\n    let response= await axios.post(PLAYLIST_METADATA,formData,{headers:{'token':localStorage.getItem('token')}});\n      if(response.status=='200')\n      {\n          var result=response.data;\n          if(result.UserView.length==0)\n          {\n            //this.setState({not_found:true,isLoading:true})\n            toast(\"Playlist is empty\",{ transition: Zoom,});\n            setTimeout(()=>this.props.history.push('/playlist'),100)\n          //  return false;\n          }\n          else {\n            var output=[]\n            var res1=result.UserView;\n              for(var i=0;i<res1.length;i++)\n              {\n                var feed={file:res1[i].downloadurl,image:res1[i].thumbnail.h_thumburl,entryid:res1[i].entry_id}\n                  output.push(feed)\n              }\n              //console.log(output);\n            this.setState({playlistData:result.UserView,playlist:output,videoUrl:result.UserView[0].downloadurl,video_banner:result.UserView[0].thumbnail.h_thumburl})\n            setTimeout(()=>this.setState({isLoading:true,not_found:false}),1000)\n          }\n\n      }\n      else {\n        this.setState({not_found:true})\n      }\n  }\n  componentDidUpdate(){\n    if(this.props.match.params.id!=this.state.play_id){\n      this.setState({not_found:false,isLoading:false,play_id:this.props.match.params.id},function(){this.getData()})\n    }\n  }\n  onVideoLoad=(event)=>{\n //console.log(event.item.sources[0].entryid);\n  this.setState({currententryId:event.item.sources[0].entryid},function(){\n  //  this.switchPlaylist(event.item.sources[0].entryid)\n  })\n\n  }\n  deletePlaylistItem=async(entryid)=>{\n      var formData=new FormData();\n      formData.append('userid',USERID);\n      formData.append('countrycode',COUNTRYCODE);\n      formData.append('partnerid',PARTNER_ID);\n      formData.append('entryid',entryid);\n      formData.append('tag','delete');\n      formData.append('pid',this.state.play_id);\n      let response= await axios.post(PLAYLIST,formData,{headers:{'token':localStorage.getItem('token')}});\n      if(response.status==200)\n      {\n      //  console.log(response.data);\n        // var res=this.state.playlistData.filter((data)=>{return data.entry_id!=entryid});\n        // var array2=this.state.playlist.filter((data)=>{return data.entryid!=entryid});\n        // this.setState({playlistData:res,playlist:array2})\n        toast(response.data.Message,{ transition: Zoom,});\n        this.getData()\n      }\n      else {\n\n      }\n  }\n  switchPlaylist=(entryid)=>{\n    var array1=this.state.playlist.filter((data)=>{return data.entryid==entryid});\n    var array2=this.state.playlist.filter((data)=>{return data.entryid!=entryid});\n    var array3=array1.concat(array2)\n    this.setState({playlist:array3,currententryId:entryid})\n  }\n  render()\n  {\n    const {playlistData}=this.state\n    const UpNext=(playlistData.length>0 && playlistData.map((res,key)=>{\n      return(\n            <li class={this.state.currententryId==res.entry_id?'current_vdo':''} style={{cursor:'pointer'}} key={key}>\n              <div class=\"img\" onClick={()=>this.switchPlaylist(res.entry_id)}>\n                  <img  class=\"load_place_horiz\" src={res.thumbnail.h_thumburl} alt=\"\" />\n                  <p class=\"duration\"><Duration sec1={res.Duration}/></p>\n              </div>\n              <div class=\"desc\">\n                 <span class=\"title\">Demo</span>\n                 <span class=\"subtitle\"></span>\n                 <div class=\"det\">\n                  <div class=\"LinesEllipsis\"><LinesEllipsis\n     text={res.longdescription}\n     maxLine='3'\n     ellipsis='...'\n     trimRight\n     basedOn='letters'\n   /></div>\n                 </div>\n              </div>\n              <button class=\"delete\"  onClick={()=>this.deletePlaylistItem(res.entry_id)}><i class=\"fa fa-trash\" aria-hidden=\"true\"></i></button>\n              {this.state.currententryId==res.entry_id && <div class=\"icon_pl_pu\"><i class=\"fa fa-play\" aria-hidden=\"true\"></i></div>}\n              {this.state.currententryId!=res.entry_id && <div class=\"icon_pl_pu\">{key+1}</div>}\n            </li>\n      )\n    }))\n          if(this.state.isLoading)\n          {\n            if(this.state.not_found)\n            {\n              return(<Not_Found/>)\n            }\n            else {\n    return(\n      <div class=\"inner_wrap\">\n        <section class=\"catdet_video\">\n            <div class=\"container\">\n                <article class=\"vd_area\">\n                  <div class=\"row\">\n                    <div class=\"col-md-7 col-lg-8\">\n                      <ReactJWPlayer\n                      ref={(ref) => { this.player = ref }}\n                      playerId='jw-player'\n\n                  //  file={response_data.downloadurl}\n                    onVideoLoad={this.onVideoLoad}\n                    playlist={this.state.playlist}\n                     image={this.state.video_banner}\n                      playerScript='https://content.jwplatform.com/libraries/jvJ1Gu3c.js'\n                       file={this.state.videoUrl}\n                      aspectRatio=\"16:9\"\n                      className=\"col-md-12\"\n                      isAutoPlay={false}\n                      controls={true}\n                        customProps={{\n                          controls: true,\n                          defaultBandwidthEstimate: 400000,\n                          stretching: 'fill',\n                          preload: 'auto',\n                          volume: 100,\n                          width: '100%',\n                          height: '100%',\n                      }}\n                      // onTime={(e)=>{this.onTimeChange(e)}}\n                      />\n                      {/*<div class=\"view_info\">\n                          <div class=\"ttl_info\">\n                              <div class=\"row\">\n                                  <div class=\"col-sm-8\">\n                                      <h2>{response_data.name}</h2>\n                                      <ul class=\"time_list\">\n                                          <li>2018</li>\n                                          <li><Duration sec1={response_data.duration}/></li>\n                                          <li>{response_data.SubGenre}</li>\n                                          <li><span>U/A</span></li>\n                                      </ul>\n                                  </div>\n                                  <div class=\"col-sm-4\">\n                                      <ul class=\"icon_list\">\n                                          <li><a href=\"javascript:;\"><i class=\"fa fa-hand-o-up\" aria-hidden=\"true\"></i></a></li>\n                                          <li><a href=\"javascript:;\"><i class=\"fa fa-thumbs-o-down\" aria-hidden=\"true\"></i></a></li>\n                                          <li><a href=\"javascript:;\" onClick={()=>this.addWatchLater()}><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i></a></li>\n                                          <li><a href=\"javascript:;\" onClick={()=>this.addFavourites()}><i class=\"fa fa-heart\" aria-hidden=\"true\"></i></a></li>\n                                      </ul>\n                                  </div>\n                              </div>\n                              <div class=\"clearfix\"></div>\n                          </div>\n                          <div class=\"desc\">\n                              <h4>Description</h4>\n                              <p>{response_data.longdescription}</p>\n                              <div class=\"clearfix\"></div>\n                          </div>\n                          <div class=\"clearfix\"></div>\n                      </div>*/}\n                    </div>\n                    <div class=\"col-md-5 col-lg-4\">\n                      <div class=\"side_playlist play_list\">\n                        <h4>Up next</h4>\n                        <ul>\n                          {UpNext}\n\n                        </ul>\n                        <div class=\"clearfix\"></div>\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"clearfix\"></div>\n                </article>\n                <div class=\"clearfix\"></div>\n            </div>\n            <div class=\"clearfix\"></div>\n        </section>\n        </div>\n    );\n  }\n}\n  else {\n    return(<Loader/>)\n  }\n  }\n}\nexport default Authenticator(Category_list);\n"]},"metadata":{},"sourceType":"module"}