{"ast":null,"code":"var _jsxFileName = \"/var/www/html/REACT_WORK/NEW_PLANETSHARE/web_planetshare/src/Container/Login/login.js\";\nimport React, { Component } from 'react';\nimport './login.css';\nimport $ from 'jquery';\nimport axios from 'axios';\nimport { Redirect } from 'react-router-dom';\nimport { LOGIN, TAG, REGISTER } from '../../url.js';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport ActivityLoader from 'react-loader-spinner';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { withLastLocation } from 'react-router-last-location';\nimport { ToastContainer, toast, cssTransition } from 'react-toastify';\nimport cogoToast from 'cogo-toast';\nconst Zoom = cssTransition({\n  enter: 'zoomIn',\n  exit: 'zoomOut',\n  duration: 750\n});\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      err_result: [],\n      isLoading: false,\n      sigin: true,\n      signup: false,\n      loading: false,\n      loading_msg: '',\n      url: '',\n      submitDisabled: false,\n      lpswdvisible: false\n    };\n\n    this.loginFormSubmit = e => {\n      e.preventDefault();\n      $('#err_msg_effect').removeClass('err_slide');\n      $('#login_err_msg').html('');\n      this.setState({\n        submitDisabled: true,\n        err_result: []\n      });\n      var emailid = e.target.lemail.value.trim();\n      var password = e.target.lpassword.value.trim();\n      axios.post(LOGIN, {\n        email: emailid,\n        password: password,\n        tag: TAG\n      }).then(response => {\n        if (response.data.success == 3) {\n          this.setState({\n            submitDisabled: false,\n            err_result: response.data.error\n          });\n          $('#err_msg_effect').addClass('err_slide');\n          $(\"html, body\").animate({\n            scrollTop: 0\n          }, \"slow\");\n          return false;\n        }\n\n        if (response.data.success == '1') {\n          localStorage.setItem('status', 'Y');\n          localStorage.setItem('name', response.data.name);\n          localStorage.setItem('planetshare_web_token', response.data.token);\n          localStorage.setItem('vendor_id', response.data.vendor_id);\n          localStorage.setItem('email', response.data.email);\n          localStorage.setItem('seller_id', response.data.seller_id);\n          localStorage.setItem('user_id', response.data.user_id);\n          localStorage.setItem('account_id', response.data.account_id);\n          this.setState({\n            loading: true,\n            loading_msg: 'Logging In Please Wait',\n            submitDisabled: false\n          }); //    setTimeout(()=>this.props.history.push('/dashboard/ve')),1500);\n          //    setTimeout(()=>window.location.href='/',1000);\n\n          setTimeout(() => {\n            setTimeout(() => this.props.history.push(localStorage.getItem('url')), 200);\n          }, 1500);\n        } else {\n          this.setState({\n            submitDisabled: false\n          });\n          $('#login_err_msg').html('Invalid Credentials');\n        }\n      }).catch(error => {\n        this.setState({\n          submitDisabled: false\n        });\n      });\n    };\n\n    this.normalLogin = (emailid, password) => {\n      $('#login_err_msg').html('');\n      axios.post(LOGIN, {\n        email: emailid,\n        password: password,\n        tag: TAG\n      }).then(response => {\n        if (response.data.success == '1') {\n          localStorage.setItem('status', 'Y');\n          localStorage.setItem('name', response.data.name);\n          localStorage.setItem('planetshare_web_token', response.data.token);\n          localStorage.setItem('email', response.data.email);\n          localStorage.setItem('seller_id', response.data.seller_id);\n          localStorage.setItem('vendor_id', response.data.vendor_id);\n          localStorage.setItem('account_id', response.data.account_id);\n          localStorage.setItem('user_id', response.data.user_id); //setTimeout(()=>this.props.history.push('/'),1500);\n\n          this.setState({\n            loading: true,\n            loading_msg: 'Logging In Please Wait',\n            submitDisabled: false\n          });\n          setTimeout(() => window.location.href = '/', 1000);\n        } else {\n          this.setState({\n            submitDisabled: false\n          });\n          $('#login_err_msg').html('Invalid Credentials');\n        }\n      }).catch(error => {\n        this.setState({\n          submitDisabled: false\n        });\n        console.log(error);\n      });\n    };\n\n    this.registerFormSubmit = e => {\n      e.preventDefault();\n      $('#register_err_msg').html('');\n      $('#err_msg_effect').removeClass('err_slide');\n      this.setState({\n        submitDisabled: true,\n        err_result: []\n      });\n      var name = e.target.pname.value.trim();\n      var emailid = e.target.pemail.value.trim();\n      var password = e.target.ppass.value.trim();\n      var cpassword = e.target.pcpass.value.trim(); // if(name=='' || emailid=='' || password=='' || cpassword=='')\n      // {\n      //   toast('All Fields Must Be Filled',{ transition: Zoom,});\n      //   this.setState({submitDisabled:false})\n      //   return false;\n      // }\n\n      if (password != cpassword) {\n        cogoToast.error('Password must be same');\n        this.setState({\n          submitDisabled: false\n        });\n        return false;\n      }\n\n      axios.post(REGISTER, {\n        name: name,\n        email: emailid,\n        password: password,\n        tag: TAG\n      }).then(response => {\n        if (response.data.success == 3) {\n          this.setState({\n            submitDisabled: false,\n            err_result: response.data.error\n          });\n          $('#err_msg_effect').addClass('err_slide');\n          $(\"html, body\").animate({\n            scrollTop: 0\n          }, \"slow\");\n          return false;\n        }\n\n        if (response.data.success == '1') {\n          //setTimeout(()=>this.props.history.push('/'),1500);\n          this.setState({\n            submitDisabled: false,\n            loading: true,\n            loading_msg: `Registering ${name} Please Wait`\n          });\n          setTimeout(() => this.normalLogin(emailid, password), 1000); //setTimeout(()=>window.location.href='/',1000);\n        } else if (response.data.success == '2') {\n          toast(response.data.msg, {\n            transition: Zoom\n          });\n          this.setState({\n            submitDisabled: false\n          });\n          $('#register_err_msg').html(response.data.msg);\n        } else {\n          toast('Something Went Wrong Please try again', {\n            transition: Zoom\n          });\n          this.setState({\n            submitDisabled: false\n          });\n          $('#register_err_msg').html('Invalid Credentials');\n        }\n      }).catch(error => {\n        this.setState({\n          submitDisabled: false\n        });\n        console.log(error);\n      });\n    };\n\n    this.togglePass = (id, id2) => {\n      var x = document.getElementById(id);\n\n      if (x.type === \"password\") {\n        $('#' + id2).removeClass('fa fa-eye-slash');\n        $('#' + id2).addClass('fa fa-eye');\n        x.type = \"text\";\n      } else {\n        $('#' + id2).removeClass('fa fa-eye');\n        $('#' + id2).addClass('fa fa-eye-slash');\n        x.type = \"password\";\n      }\n    };\n  }\n\n  componentDidMount() {\n    if (localStorage.getItem('user_id') != 0) {\n      this.props.history.push(this.props.lastLocation.pathname);\n      return false; //return (<Redirect to={this.props.lastLocation.pathname}/>);\n    }\n\n    if (this.props.lastLocation != null) {\n      localStorage.setItem('url', this.props.lastLocation.pathname); //    this.setState({url:this.props.lastLocation.pathname})\n    }\n  }\n\n  render() {\n    const _this$state = this.state,\n          signup = _this$state.signup,\n          sigin = _this$state.sigin,\n          isLoading = _this$state.isLoading,\n          loading = _this$state.loading,\n          loading_msg = _this$state.loading_msg,\n          submitDisabled = _this$state.submitDisabled,\n          err_result = _this$state.err_result;\n\n    if (!isLoading) {\n      if (!loading) {\n        return React.createElement(\"section\", {\n          class: \"login_page\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193\n          },\n          __self: this\n        }, err_result.length > 0 && React.createElement(\"div\", {\n          class: \"error_box\",\n          id: \"err_msg_effect\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195\n          },\n          __self: this\n        }, err_result.map((res, key) => {\n          return React.createElement(\"li\", {\n            key: key,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 197\n            },\n            __self: this\n          }, React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 197\n            },\n            __self: this\n          }, res));\n        }))), React.createElement(ToastContainer, {\n          autoClose: 1000,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201\n          },\n          __self: this\n        }), sigin && React.createElement(\"article\", {\n          class: \"login\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        }, React.createElement(\"form\", {\n          onSubmit: this.loginFormSubmit,\n          id: \"login_form\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"logo\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"index.html\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: \"images/logo.png\",\n          alt: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206\n          },\n          __self: this\n        }))), React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209\n          },\n          __self: this\n        }, \"Log In\"), React.createElement(\"div\", {\n          class: \"fields\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"inputbox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        }, \"Email\"), React.createElement(\"input\", {\n          type: \"email\",\n          placeholder: \"email\",\n          name: \"lemail\",\n          id: \"lemail\",\n          required: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          class: \"inputbox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 215\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216\n          },\n          __self: this\n        }, \"Password\"), React.createElement(\"input\", {\n          type: \"password\",\n          placeholder: \"password\",\n          name: \"lpassword\",\n          id: \"lpassword\",\n          required: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 217\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          onClick: () => this.togglePass('lpassword', 'leyepass'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          id: \"leyepass\",\n          class: \"fa fa-eye-slash\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218\n          },\n          __self: this\n        })))), React.createElement(\"span\", {\n          id: \"login_err_msg\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 221\n          },\n          __self: this\n        }), React.createElement(\"a\", {\n          href: \"javascript:;\",\n          class: \"register\",\n          onClick: () => this.setState({\n            sigin: false,\n            signup: true,\n            err_result: []\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 222\n          },\n          __self: this\n        }, \"Create An Account\"), React.createElement(\"div\", {\n          class: \"buttons\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"submit\",\n          class: \"btn btn_submit\",\n          disabled: this.state.submitDisabled,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224\n          },\n          __self: this\n        }, submitDisabled ? \"Loading...\" : \"Login\")))), signup && React.createElement(\"article\", {\n          class: \"login\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 229\n          },\n          __self: this\n        }, React.createElement(\"form\", {\n          onSubmit: this.registerFormSubmit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"logo\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 231\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"index.html\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 232\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: \"images/logo.png\",\n          alt: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          class: \"fields\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 237\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"inputbox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 238\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 239\n          },\n          __self: this\n        }, \"Name\"), React.createElement(\"input\", {\n          type: \"text\",\n          placeholder: \"Full Name\",\n          name: \"pname\",\n          required: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 240\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          class: \"inputbox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 242\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 243\n          },\n          __self: this\n        }, \"Email\"), React.createElement(\"input\", {\n          type: \"email\",\n          placeholder: \"email\",\n          name: \"pemail\",\n          required: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          class: \"inputbox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 246\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 247\n          },\n          __self: this\n        }, \"Password\"), React.createElement(\"input\", {\n          type: \"password\",\n          placeholder: \"password\",\n          name: \"ppass\",\n          id: \"ppass\",\n          required: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 248\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          onClick: () => this.togglePass('ppass', 'reyepass'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 249\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          id: \"reyepass\",\n          class: \"fa fa-eye-slash\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 249\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          class: \"inputbox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 251\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 252\n          },\n          __self: this\n        }, \"Confirm Password\"), React.createElement(\"input\", {\n          type: \"password\",\n          placeholder: \"confirm password\",\n          name: \"pcpass\",\n          id: \"pcpass\",\n          required: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 253\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          onClick: () => this.togglePass('pcpass', 'reyecpass'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 254\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          id: \"reyecpass\",\n          class: \"fa fa-eye-slash\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 254\n          },\n          __self: this\n        })))), React.createElement(\"span\", {\n          id: \"register_err_msg\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 257\n          },\n          __self: this\n        }), React.createElement(\"a\", {\n          href: \"javascript:;\",\n          class: \"register\",\n          onClick: () => this.setState({\n            sigin: true,\n            signup: false,\n            err_result: []\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 258\n          },\n          __self: this\n        }, \"Already a member\"), React.createElement(\"div\", {\n          class: \"buttons\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 259\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"submit\",\n          class: \"btn btn_submit\",\n          disabled: this.state.submitDisabled,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 260\n          },\n          __self: this\n        }, submitDisabled ? \"Loading...\" : \"Register\")))), React.createElement(\"div\", {\n          class: \"clearfix\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 264\n          },\n          __self: this\n        }));\n      } else {\n        return React.createElement(\"div\", {\n          class: \"container loader_cont\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 269\n          },\n          __self: this\n        }, React.createElement(ActivityLoader, {\n          type: \"Triangle\",\n          color: \"black\",\n          height: 100,\n          width: 100,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 269\n          },\n          __self: this\n        }), React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 274\n          },\n          __self: this\n        }, loading_msg));\n      }\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, \"Loading..\");\n    }\n  }\n\n}\n\nexport default withLastLocation(Login);","map":{"version":3,"sources":["/var/www/html/REACT_WORK/NEW_PLANETSHARE/web_planetshare/src/Container/Login/login.js"],"names":["React","Component","$","axios","Redirect","LOGIN","TAG","REGISTER","ActivityLoader","withLastLocation","ToastContainer","toast","cssTransition","cogoToast","Zoom","enter","exit","duration","Login","state","err_result","isLoading","sigin","signup","loading","loading_msg","url","submitDisabled","lpswdvisible","loginFormSubmit","e","preventDefault","removeClass","html","setState","emailid","target","lemail","value","trim","password","lpassword","post","email","tag","then","response","data","success","error","addClass","animate","scrollTop","localStorage","setItem","name","token","vendor_id","seller_id","user_id","account_id","setTimeout","props","history","push","getItem","catch","normalLogin","window","location","href","console","log","registerFormSubmit","pname","pemail","ppass","cpassword","pcpass","msg","transition","togglePass","id","id2","x","document","getElementById","type","componentDidMount","lastLocation","pathname","render","length","map","res","key"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,aAAP;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,QAAR,QAAuB,kBAAvB;AACA,SAAQC,KAAR,EAAcC,GAAd,EAAkBC,QAAlB,QAAiC,cAAjC;AACA,OAAO,+DAAP;AACA,OAAOC,cAAP,MAA2B,sBAA3B;AACA,OAAO,uCAAP;AACA,SAASC,gBAAT,QAAiC,4BAAjC;AACA,SAASC,cAAT,EAAyBC,KAAzB,EAA+BC,aAA/B,QAAmD,gBAAnD;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,MAAMC,IAAI,GAAGF,aAAa,CAAC;AAC3BG,EAAAA,KAAK,EAAE,QADoB;AAE3BC,EAAAA,IAAI,EAAE,SAFqB;AAG3BC,EAAAA,QAAQ,EAAE;AAHiB,CAAD,CAA1B;;AAKA,MAAMC,KAAN,SAAoBjB,SAApB,CAA8B;AAAA;AAAA;AAAA,SAC5BkB,KAD4B,GACtB;AAACC,MAAAA,UAAU,EAAC,EAAZ;AAAeC,MAAAA,SAAS,EAAC,KAAzB;AAA+BC,MAAAA,KAAK,EAAC,IAArC;AAA0CC,MAAAA,MAAM,EAAC,KAAjD;AAAuDC,MAAAA,OAAO,EAAC,KAA/D;AAAqEC,MAAAA,WAAW,EAAC,EAAjF;AAAoFC,MAAAA,GAAG,EAAC,EAAxF;AAA2FC,MAAAA,cAAc,EAAC,KAA1G;AAAgHC,MAAAA,YAAY,EAAC;AAA7H,KADsB;;AAAA,SAgB9BC,eAhB8B,GAgBbC,CAAD,IAChB;AACIA,MAAAA,CAAC,CAACC,cAAF;AACA7B,MAAAA,CAAC,CAAC,iBAAD,CAAD,CAAqB8B,WAArB,CAAiC,WAAjC;AACA9B,MAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoB+B,IAApB,CAAyB,EAAzB;AACA,WAAKC,QAAL,CAAc;AAACP,QAAAA,cAAc,EAAC,IAAhB;AAAqBP,QAAAA,UAAU,EAAC;AAAhC,OAAd;AACE,UAAIe,OAAO,GAACL,CAAC,CAACM,MAAF,CAASC,MAAT,CAAgBC,KAAhB,CAAsBC,IAAtB,EAAZ;AACA,UAAIC,QAAQ,GAACV,CAAC,CAACM,MAAF,CAASK,SAAT,CAAmBH,KAAnB,CAAyBC,IAAzB,EAAb;AACApC,MAAAA,KAAK,CAACuC,IAAN,CAAWrC,KAAX,EAAkB;AAClBsC,QAAAA,KAAK,EAACR,OADY;AAElBK,QAAAA,QAAQ,EAACA,QAFS;AAGlBI,QAAAA,GAAG,EAACtC;AAHc,OAAlB,EAKDuC,IALC,CAKIC,QAAQ,IAAE;AACZ,YAAGA,QAAQ,CAACC,IAAT,CAAcC,OAAd,IAAuB,CAA1B,EACA;AACE,eAAKd,QAAL,CAAc;AAACP,YAAAA,cAAc,EAAC,KAAhB;AAAsBP,YAAAA,UAAU,EAAC0B,QAAQ,CAACC,IAAT,CAAcE;AAA/C,WAAd;AACA/C,UAAAA,CAAC,CAAC,iBAAD,CAAD,CAAqBgD,QAArB,CAA8B,WAA9B;AACAhD,UAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBiD,OAAhB,CAAwB;AAAEC,YAAAA,SAAS,EAAE;AAAb,WAAxB,EAA0C,MAA1C;AACA,iBAAO,KAAP;AACD;;AACD,YAAGN,QAAQ,CAACC,IAAT,CAAcC,OAAd,IAAuB,GAA1B,EAA8B;AAC5BK,UAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA8B,GAA9B;AACAD,UAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA4BR,QAAQ,CAACC,IAAT,CAAcQ,IAA1C;AACAF,UAAAA,YAAY,CAACC,OAAb,CAAqB,uBAArB,EAA6CR,QAAQ,CAACC,IAAT,CAAcS,KAA3D;AACAH,UAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAiCR,QAAQ,CAACC,IAAT,CAAcU,SAA/C;AACAJ,UAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6BR,QAAQ,CAACC,IAAT,CAAcJ,KAA3C;AACAU,UAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAiCR,QAAQ,CAACC,IAAT,CAAcW,SAA/C;AACAL,UAAAA,YAAY,CAACC,OAAb,CAAqB,SAArB,EAA+BR,QAAQ,CAACC,IAAT,CAAcY,OAA7C;AACAN,UAAAA,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAkCR,QAAQ,CAACC,IAAT,CAAca,UAAhD;AACE,eAAK1B,QAAL,CAAc;AAACV,YAAAA,OAAO,EAAC,IAAT;AAAcC,YAAAA,WAAW,EAAC,wBAA1B;AAAmDE,YAAAA,cAAc,EAAC;AAAlE,WAAd,EAT0B,CAUpB;AACF;;AACPkC,UAAAA,UAAU,CAAC,MAAI;AAACA,YAAAA,UAAU,CAAC,MAAI,KAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwBX,YAAY,CAACY,OAAb,CAAqB,KAArB,CAAxB,CAAL,EAA0D,GAA1D,CAAV;AAAyE,WAA/E,EAAgF,IAAhF,CAAV;AAEA,SAdD,MAeK;AACH,eAAK/B,QAAL,CAAc;AAACP,YAAAA,cAAc,EAAC;AAAhB,WAAd;AACAzB,UAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoB+B,IAApB,CAAyB,qBAAzB;AACD;AACJ,OAhCC,EAiCDiC,KAjCC,CAiCMjB,KAAD,IAAU;AACf,aAAKf,QAAL,CAAc;AAACP,UAAAA,cAAc,EAAC;AAAhB,SAAd;AACD,OAnCC;AAoCL,KA5D6B;;AAAA,SA6D9BwC,WA7D8B,GA6DlB,CAAChC,OAAD,EAASK,QAAT,KACZ;AACItC,MAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoB+B,IAApB,CAAyB,EAAzB;AACE9B,MAAAA,KAAK,CAACuC,IAAN,CAAWrC,KAAX,EAAkB;AAClBsC,QAAAA,KAAK,EAACR,OADY;AAElBK,QAAAA,QAAQ,EAACA,QAFS;AAGlBI,QAAAA,GAAG,EAACtC;AAHc,OAAlB,EAKDuC,IALC,CAKIC,QAAQ,IAAE;AACZ,YAAGA,QAAQ,CAACC,IAAT,CAAcC,OAAd,IAAuB,GAA1B,EAA8B;AAC5BK,UAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA8B,GAA9B;AACAD,UAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA4BR,QAAQ,CAACC,IAAT,CAAcQ,IAA1C;AACAF,UAAAA,YAAY,CAACC,OAAb,CAAqB,uBAArB,EAA6CR,QAAQ,CAACC,IAAT,CAAcS,KAA3D;AACAH,UAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6BR,QAAQ,CAACC,IAAT,CAAcJ,KAA3C;AACAU,UAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAiCR,QAAQ,CAACC,IAAT,CAAcW,SAA/C;AACAL,UAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAiCR,QAAQ,CAACC,IAAT,CAAcU,SAA/C;AACAJ,UAAAA,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAkCR,QAAQ,CAACC,IAAT,CAAca,UAAhD;AACAP,UAAAA,YAAY,CAACC,OAAb,CAAqB,SAArB,EAA+BR,QAAQ,CAACC,IAAT,CAAcY,OAA7C,EAR4B,CAU5B;;AACA,eAAKzB,QAAL,CAAc;AAACV,YAAAA,OAAO,EAAC,IAAT;AAAcC,YAAAA,WAAW,EAAC,wBAA1B;AAAmDE,YAAAA,cAAc,EAAC;AAAlE,WAAd;AACAkC,UAAAA,UAAU,CAAC,MAAIO,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAqB,GAA1B,EAA8B,IAA9B,CAAV;AAED,SAdD,MAeK;AACH,eAAKpC,QAAL,CAAc;AAACP,YAAAA,cAAc,EAAC;AAAhB,WAAd;AACAzB,UAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoB+B,IAApB,CAAyB,qBAAzB;AACD;AACJ,OAzBC,EA0BDiC,KA1BC,CA0BOjB,KAAD,IAAU;AAChB,aAAKf,QAAL,CAAc;AAACP,UAAAA,cAAc,EAAC;AAAhB,SAAd;AACA4C,QAAAA,OAAO,CAACC,GAAR,CAAYvB,KAAZ;AACD,OA7BC;AA8BL,KA9F6B;;AAAA,SA+F9BwB,kBA/F8B,GA+FV3C,CAAD,IACnB;AACIA,MAAAA,CAAC,CAACC,cAAF;AACA7B,MAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuB+B,IAAvB,CAA4B,EAA5B;AACA/B,MAAAA,CAAC,CAAC,iBAAD,CAAD,CAAqB8B,WAArB,CAAiC,WAAjC;AACA,WAAKE,QAAL,CAAc;AAACP,QAAAA,cAAc,EAAC,IAAhB;AAAqBP,QAAAA,UAAU,EAAC;AAAhC,OAAd;AACE,UAAImC,IAAI,GAACzB,CAAC,CAACM,MAAF,CAASsC,KAAT,CAAepC,KAAf,CAAqBC,IAArB,EAAT;AACA,UAAIJ,OAAO,GAACL,CAAC,CAACM,MAAF,CAASuC,MAAT,CAAgBrC,KAAhB,CAAsBC,IAAtB,EAAZ;AACA,UAAIC,QAAQ,GAACV,CAAC,CAACM,MAAF,CAASwC,KAAT,CAAetC,KAAf,CAAqBC,IAArB,EAAb;AACA,UAAIsC,SAAS,GAAC/C,CAAC,CAACM,MAAF,CAAS0C,MAAT,CAAgBxC,KAAhB,CAAsBC,IAAtB,EAAd,CARN,CASM;AACA;AACA;AACA;AACA;AACA;;AACA,UAAGC,QAAQ,IAAEqC,SAAb,EACA;AACEhE,QAAAA,SAAS,CAACoC,KAAV,CAAgB,uBAAhB;AACA,aAAKf,QAAL,CAAc;AAACP,UAAAA,cAAc,EAAC;AAAhB,SAAd;AACA,eAAO,KAAP;AACD;;AACDxB,MAAAA,KAAK,CAACuC,IAAN,CAAWnC,QAAX,EAAqB;AACrBgD,QAAAA,IAAI,EAACA,IADgB;AAErBZ,QAAAA,KAAK,EAACR,OAFe;AAGrBK,QAAAA,QAAQ,EAACA,QAHY;AAIrBI,QAAAA,GAAG,EAACtC;AAJiB,OAArB,EAMDuC,IANC,CAMIC,QAAQ,IAAE;AACd,YAAGA,QAAQ,CAACC,IAAT,CAAcC,OAAd,IAAuB,CAA1B,EACA;AACI,eAAKd,QAAL,CAAc;AAACP,YAAAA,cAAc,EAAC,KAAhB;AAAsBP,YAAAA,UAAU,EAAC0B,QAAQ,CAACC,IAAT,CAAcE;AAA/C,WAAd;AACA/C,UAAAA,CAAC,CAAC,iBAAD,CAAD,CAAqBgD,QAArB,CAA8B,WAA9B;AACIhD,UAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBiD,OAAhB,CAAwB;AAAEC,YAAAA,SAAS,EAAE;AAAb,WAAxB,EAA0C,MAA1C;AACN,iBAAO,KAAP;AACD;;AACC,YAAGN,QAAQ,CAACC,IAAT,CAAcC,OAAd,IAAuB,GAA1B,EAA8B;AAC5B;AACA,eAAKd,QAAL,CAAc;AAACP,YAAAA,cAAc,EAAC,KAAhB;AAAsBH,YAAAA,OAAO,EAAC,IAA9B;AAAmCC,YAAAA,WAAW,EAAE,eAAc8B,IAAK;AAAnE,WAAd;AACAM,UAAAA,UAAU,CAAC,MAAI,KAAKM,WAAL,CAAiBhC,OAAjB,EAAyBK,QAAzB,CAAL,EAAwC,IAAxC,CAAV,CAH4B,CAI5B;AAED,SAND,MAOK,IAAGM,QAAQ,CAACC,IAAT,CAAcC,OAAd,IAAuB,GAA1B,EACL;AACErC,UAAAA,KAAK,CAACmC,QAAQ,CAACC,IAAT,CAAcgC,GAAf,EAAmB;AAAEC,YAAAA,UAAU,EAAElE;AAAd,WAAnB,CAAL;AACA,eAAKoB,QAAL,CAAc;AAACP,YAAAA,cAAc,EAAC;AAAhB,WAAd;AACAzB,UAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuB+B,IAAvB,CAA4Ba,QAAQ,CAACC,IAAT,CAAcgC,GAA1C;AACD,SALI,MAMA;AACHpE,UAAAA,KAAK,CAAC,uCAAD,EAAyC;AAAEqE,YAAAA,UAAU,EAAElE;AAAd,WAAzC,CAAL;AACA,eAAKoB,QAAL,CAAc;AAACP,YAAAA,cAAc,EAAC;AAAhB,WAAd;AACAzB,UAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuB+B,IAAvB,CAA4B,qBAA5B;AACD;AACJ,OAhCC,EAiCDiC,KAjCC,CAiCMjB,KAAD,IAAS;AACd,aAAKf,QAAL,CAAc;AAACP,UAAAA,cAAc,EAAC;AAAhB,SAAd;AACA4C,QAAAA,OAAO,CAACC,GAAR,CAAYvB,KAAZ;AACD,OApCC;AAqCL,KA1J6B;;AAAA,SA2J9BgC,UA3J8B,GA2JnB,CAACC,EAAD,EAAIC,GAAJ,KAAU;AACrB,UAAIC,CAAC,GAAGC,QAAQ,CAACC,cAAT,CAAwBJ,EAAxB,CAAR;;AACA,UAAIE,CAAC,CAACG,IAAF,KAAW,UAAf,EAA2B;AAC1BrF,QAAAA,CAAC,CAAC,MAAIiF,GAAL,CAAD,CAAWnD,WAAX,CAAuB,iBAAvB;AACA9B,QAAAA,CAAC,CAAC,MAAIiF,GAAL,CAAD,CAAWjC,QAAX,CAAoB,WAApB;AACAkC,QAAAA,CAAC,CAACG,IAAF,GAAS,MAAT;AACA,OAJD,MAIO;AACLrF,QAAAA,CAAC,CAAC,MAAIiF,GAAL,CAAD,CAAWnD,WAAX,CAAuB,WAAvB;AACA9B,QAAAA,CAAC,CAAC,MAAIiF,GAAL,CAAD,CAAWjC,QAAX,CAAoB,iBAApB;AACDkC,QAAAA,CAAC,CAACG,IAAF,GAAS,UAAT;AACA;AACA,KAtK6B;AAAA;;AAE5BC,EAAAA,iBAAiB,GACjB;AACE,QAAGnC,YAAY,CAACY,OAAb,CAAqB,SAArB,KAAiC,CAApC,EACA;AACE,WAAKH,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,KAAKF,KAAL,CAAW2B,YAAX,CAAwBC,QAAhD;AACA,aAAO,KAAP,CAFF,CAGA;AACC;;AACD,QAAG,KAAK5B,KAAL,CAAW2B,YAAX,IAAyB,IAA5B,EACA;AACEpC,MAAAA,YAAY,CAACC,OAAb,CAAqB,KAArB,EAA2B,KAAKQ,KAAL,CAAW2B,YAAX,CAAwBC,QAAnD,EADF,CAEE;AACD;AACF;;AAyJDC,EAAAA,MAAM,GAAG;AAAA,wBACsE,KAAKxE,KAD3E;AAAA,UACAI,MADA,eACAA,MADA;AAAA,UACOD,KADP,eACOA,KADP;AAAA,UACaD,SADb,eACaA,SADb;AAAA,UACuBG,OADvB,eACuBA,OADvB;AAAA,UAC+BC,WAD/B,eAC+BA,WAD/B;AAAA,UAC2CE,cAD3C,eAC2CA,cAD3C;AAAA,UAC0DP,UAD1D,eAC0DA,UAD1D;;AAEP,QAAG,CAACC,SAAJ,EACA;AACE,UAAG,CAACG,OAAJ,EACA;AACF,eACE;AAAS,UAAA,KAAK,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACCJ,UAAU,CAACwE,MAAX,GAAmB,CAAnB,IAAwB;AAAK,UAAA,KAAK,EAAC,WAAX;AAAuB,UAAA,EAAE,EAAC,gBAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACGxE,UAAU,CAACyE,GAAX,CAAe,CAACC,GAAD,EAAKC,GAAL,KAAW;AACzB,iBAAO;AAAI,YAAA,GAAG,EAAEA,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAID,GAAJ,CAAd,CAAP;AACD,SAFA,CADH,CADiB,CADzB,EAQI,oBAAC,cAAD;AAAgB,UAAA,SAAS,EAAE,IAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UARJ,EASKxE,KAAK,IAAI;AAAS,UAAA,KAAK,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACN;AAAM,UAAA,QAAQ,EAAE,KAAKO,eAArB;AAAsC,UAAA,EAAE,EAAC,YAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAK,UAAA,KAAK,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAG,UAAA,IAAI,EAAC,YAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAK,UAAA,GAAG,EAAC,iBAAT;AAA2B,UAAA,GAAG,EAAC,EAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CADJ,CADJ,EAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBANJ,EAOI;AAAK,UAAA,KAAK,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAK,UAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,EAEI;AAAO,UAAA,IAAI,EAAC,OAAZ;AAAoB,UAAA,WAAW,EAAC,OAAhC;AAAwC,UAAA,IAAI,EAAC,QAA7C;AAAsD,UAAA,EAAE,EAAC,QAAzD;AAAkE,UAAA,QAAQ,MAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ,CADJ,EAKI;AAAK,UAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,EAEI;AAAO,UAAA,IAAI,EAAC,UAAZ;AAAuB,UAAA,WAAW,EAAC,UAAnC;AAA8C,UAAA,IAAI,EAAC,WAAnD;AAA+D,UAAA,EAAE,EAAC,WAAlE;AAA8E,UAAA,QAAQ,MAAtF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ,EAGI;AAAM,UAAA,OAAO,EAAE,MAAI,KAAKoD,UAAL,CAAgB,WAAhB,EAA4B,UAA5B,CAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA4D;AAAG,UAAA,EAAE,EAAC,UAAN;AAAiB,UAAA,KAAK,EAAC,iBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAA5D,CAHJ,CALJ,CAPJ,EAkBQ;AAAM,UAAA,EAAE,EAAC,eAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAlBR,EAmBI;AAAG,UAAA,IAAI,EAAC,cAAR;AAAuB,UAAA,KAAK,EAAC,UAA7B;AAAwC,UAAA,OAAO,EAAE,MAAI,KAAK/C,QAAL,CAAc;AAACZ,YAAAA,KAAK,EAAC,KAAP;AAAaC,YAAAA,MAAM,EAAC,IAApB;AAAyBH,YAAAA,UAAU,EAAC;AAApC,WAAd,CAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAnBJ,EAoBI;AAAK,UAAA,KAAK,EAAC,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAQ,UAAA,IAAI,EAAC,QAAb;AAAsB,UAAA,KAAK,EAAC,gBAA5B;AAA6C,UAAA,QAAQ,EAAE,KAAKD,KAAL,CAAWQ,cAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAmFA,cAAc,GAAC,YAAD,GAAc,OAA/G,CADJ,CApBJ,CADM,CATd,EAoCKJ,MAAM,IAAI;AAAS,UAAA,KAAK,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACP;AAAM,UAAA,QAAQ,EAAE,KAAKkD,kBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAK,UAAA,KAAK,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAG,UAAA,IAAI,EAAC,YAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAK,UAAA,GAAG,EAAC,iBAAT;AAA2B,UAAA,GAAG,EAAC,EAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CADJ,CADJ,EAOI;AAAK,UAAA,KAAK,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAK,UAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,EAEI;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,WAAW,EAAC,WAA/B;AAA2C,UAAA,IAAI,EAAC,OAAhD;AAAwD,UAAA,QAAQ,MAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ,CADJ,EAKI;AAAK,UAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,EAEI;AAAO,UAAA,IAAI,EAAC,OAAZ;AAAoB,UAAA,WAAW,EAAC,OAAhC;AAAwC,UAAA,IAAI,EAAC,QAA7C;AAAsD,UAAA,QAAQ,MAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ,CALJ,EASI;AAAK,UAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,EAEI;AAAO,UAAA,IAAI,EAAC,UAAZ;AAAuB,UAAA,WAAW,EAAC,UAAnC;AAA8C,UAAA,IAAI,EAAC,OAAnD;AAA2D,UAAA,EAAE,EAAC,OAA9D;AAAsE,UAAA,QAAQ,MAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ,EAGI;AAAM,UAAA,OAAO,EAAE,MAAI,KAAKQ,UAAL,CAAgB,OAAhB,EAAwB,UAAxB,CAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAwD;AAAG,UAAA,EAAE,EAAC,UAAN;AAAiB,UAAA,KAAK,EAAC,iBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAxD,CAHJ,CATJ,EAcI;AAAK,UAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADJ,EAEI;AAAO,UAAA,IAAI,EAAC,UAAZ;AAAuB,UAAA,WAAW,EAAC,kBAAnC;AAAsD,UAAA,IAAI,EAAC,QAA3D;AAAoE,UAAA,EAAE,EAAC,QAAvE;AAAgF,UAAA,QAAQ,MAAxF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ,EAGI;AAAM,UAAA,OAAO,EAAE,MAAI,KAAKA,UAAL,CAAgB,QAAhB,EAAyB,WAAzB,CAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA0D;AAAG,UAAA,EAAE,EAAC,WAAN;AAAkB,UAAA,KAAK,EAAC,iBAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAA1D,CAHJ,CAdJ,CAPJ,EA2BM;AAAM,UAAA,EAAE,EAAC,kBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UA3BN,EA4BI;AAAG,UAAA,IAAI,EAAC,cAAR;AAAuB,UAAA,KAAK,EAAC,UAA7B;AAAwC,UAAA,OAAO,EAAE,MAAI,KAAK/C,QAAL,CAAc;AAACZ,YAAAA,KAAK,EAAC,IAAP;AAAYC,YAAAA,MAAM,EAAC,KAAnB;AAAyBH,YAAAA,UAAU,EAAC;AAApC,WAAd,CAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BA5BJ,EA6BI;AAAK,UAAA,KAAK,EAAC,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAQ,UAAA,IAAI,EAAC,QAAb;AAAsB,UAAA,KAAK,EAAC,gBAA5B;AAA6C,UAAA,QAAQ,EAAE,KAAKD,KAAL,CAAWQ,cAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAmFA,cAAc,GAAC,YAAD,GAAc,UAA/G,CADJ,CA7BJ,CADO,CApCf,EAuEI;AAAK,UAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAvEJ,CADF;AA2EH,OA7EK,MA8ED;AACH,eAAO;AAAK,UAAA,KAAK,EAAC,uBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAmC,oBAAC,cAAD;AACxC,UAAA,IAAI,EAAC,UADmC;AAEvC,UAAA,KAAK,EAAC,OAFiC;AAGvC,UAAA,MAAM,EAAE,GAH+B;AAIvC,UAAA,KAAK,EAAE,GAJgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAnC,EAKJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKF,WAAL,CALI,CAAP;AAOD;AACA,KAzFG,MA0FC;AACH,aAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAP;AACD;AACA;;AAvQ6B;;AAyQ9B,eAAehB,gBAAgB,CAACS,KAAD,CAA/B","sourcesContent":["import React, { Component } from 'react';\nimport './login.css';\nimport $ from 'jquery';\nimport axios from 'axios';\nimport {Redirect} from 'react-router-dom';\nimport {LOGIN,TAG,REGISTER} from '../../url.js';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport ActivityLoader from 'react-loader-spinner';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { withLastLocation } from 'react-router-last-location';\nimport { ToastContainer, toast,cssTransition} from 'react-toastify';\nimport cogoToast from 'cogo-toast';\nconst Zoom = cssTransition({\nenter: 'zoomIn',\nexit: 'zoomOut',\nduration: 750,\n});\nclass Login extends Component {\n  state={err_result:[],isLoading:false,sigin:true,signup:false,loading:false,loading_msg:'',url:'',submitDisabled:false,lpswdvisible:false}\n  componentDidMount()\n  {\n    if(localStorage.getItem('user_id')!=0)\n    {\n      this.props.history.push(this.props.lastLocation.pathname);\n      return false;\n    //return (<Redirect to={this.props.lastLocation.pathname}/>);\n    }\n    if(this.props.lastLocation!=null)\n    {\n      localStorage.setItem('url',this.props.lastLocation.pathname)\n      //    this.setState({url:this.props.lastLocation.pathname})\n    }\n  }\nloginFormSubmit=(e)=>\n{\n    e.preventDefault();\n    $('#err_msg_effect').removeClass('err_slide');\n    $('#login_err_msg').html('');\n    this.setState({submitDisabled:true,err_result:[]})\n      var emailid=e.target.lemail.value.trim();\n      var password=e.target.lpassword.value.trim();\n      axios.post(LOGIN, {\n      email:emailid,\n      password:password,\n      tag:TAG\n    })\n    .then(response=>{\n        if(response.data.success==3)\n        {\n          this.setState({submitDisabled:false,err_result:response.data.error});\n          $('#err_msg_effect').addClass('err_slide');\n          $(\"html, body\").animate({ scrollTop: 0 }, \"slow\");\n          return false;\n        }\n        if(response.data.success=='1'){\n          localStorage.setItem('status','Y');\n          localStorage.setItem('name',response.data.name);\n          localStorage.setItem('planetshare_web_token',response.data.token);\n          localStorage.setItem('vendor_id',response.data.vendor_id);\n          localStorage.setItem('email',response.data.email);\n          localStorage.setItem('seller_id',response.data.seller_id);\n          localStorage.setItem('user_id',response.data.user_id);\n          localStorage.setItem('account_id',response.data.account_id);\n            this.setState({loading:true,loading_msg:'Logging In Please Wait',submitDisabled:false});\n                  //    setTimeout(()=>this.props.history.push('/dashboard/ve')),1500);\n                //    setTimeout(()=>window.location.href='/',1000);\n         setTimeout(()=>{setTimeout(()=>this.props.history.push(localStorage.getItem('url')),200)},1500);\n\n        }\n        else {\n          this.setState({submitDisabled:false})\n          $('#login_err_msg').html('Invalid Credentials');\n        }\n    })\n    .catch((error)=> {\n      this.setState({submitDisabled:false})\n    });\n}\nnormalLogin=(emailid,password)=>\n{\n    $('#login_err_msg').html('');\n      axios.post(LOGIN, {\n      email:emailid,\n      password:password,\n      tag:TAG\n    })\n    .then(response=>{\n        if(response.data.success=='1'){\n          localStorage.setItem('status','Y');\n          localStorage.setItem('name',response.data.name);\n          localStorage.setItem('planetshare_web_token',response.data.token);\n          localStorage.setItem('email',response.data.email);\n          localStorage.setItem('seller_id',response.data.seller_id);\n          localStorage.setItem('vendor_id',response.data.vendor_id);\n          localStorage.setItem('account_id',response.data.account_id);\n          localStorage.setItem('user_id',response.data.user_id);\n\n          //setTimeout(()=>this.props.history.push('/'),1500);\n          this.setState({loading:true,loading_msg:'Logging In Please Wait',submitDisabled:false});\n          setTimeout(()=>window.location.href='/',1000);\n\n        }\n        else {\n          this.setState({submitDisabled:false})\n          $('#login_err_msg').html('Invalid Credentials');\n        }\n    })\n    .catch( (error)=> {\n      this.setState({submitDisabled:false})\n      console.log(error);\n    });\n}\nregisterFormSubmit=(e)=>\n{\n    e.preventDefault();\n    $('#register_err_msg').html('');\n    $('#err_msg_effect').removeClass('err_slide');\n    this.setState({submitDisabled:true,err_result:[]})\n      var name=e.target.pname.value.trim();\n      var emailid=e.target.pemail.value.trim();\n      var password=e.target.ppass.value.trim();\n      var cpassword=e.target.pcpass.value.trim();\n      // if(name=='' || emailid=='' || password=='' || cpassword=='')\n      // {\n      //   toast('All Fields Must Be Filled',{ transition: Zoom,});\n      //   this.setState({submitDisabled:false})\n      //   return false;\n      // }\n      if(password!=cpassword)\n      {\n        cogoToast.error('Password must be same');\n        this.setState({submitDisabled:false})\n        return false;\n      }\n      axios.post(REGISTER, {\n      name:name,\n      email:emailid,\n      password:password,\n      tag:TAG\n    })\n    .then(response=>{\n      if(response.data.success==3)\n      {\n          this.setState({submitDisabled:false,err_result:response.data.error});\n          $('#err_msg_effect').addClass('err_slide');\n              $(\"html, body\").animate({ scrollTop: 0 }, \"slow\");\n        return false;\n      }\n        if(response.data.success=='1'){\n          //setTimeout(()=>this.props.history.push('/'),1500);\n          this.setState({submitDisabled:false,loading:true,loading_msg:`Registering ${name} Please Wait`});\n          setTimeout(()=>this.normalLogin(emailid,password),1000);\n          //setTimeout(()=>window.location.href='/',1000);\n\n        }\n        else if(response.data.success=='2')\n        {\n          toast(response.data.msg,{ transition: Zoom,});\n          this.setState({submitDisabled:false})\n          $('#register_err_msg').html(response.data.msg);\n        }\n        else {\n          toast('Something Went Wrong Please try again',{ transition: Zoom,});\n          this.setState({submitDisabled:false})\n          $('#register_err_msg').html('Invalid Credentials');\n        }\n    })\n    .catch((error)=>{\n      this.setState({submitDisabled:false})\n      console.log(error);\n    });\n}\ntogglePass=(id,id2)=>{\nvar x = document.getElementById(id);\nif (x.type === \"password\") {\n $('#'+id2).removeClass('fa fa-eye-slash');\n $('#'+id2).addClass('fa fa-eye');\n x.type = \"text\";\n} else {\n  $('#'+id2).removeClass('fa fa-eye');\n  $('#'+id2).addClass('fa fa-eye-slash');\n x.type = \"password\";\n}\n}\n\n  render() {\n    const {signup,sigin,isLoading,loading,loading_msg,submitDisabled,err_result}=this.state;\n    if(!isLoading)\n    {\n      if(!loading)\n      {\n    return (\n      <section class=\"login_page\">\n      {err_result.length >0 && <div class=\"error_box\" id=\"err_msg_effect\">\n              <ul>\n                {err_result.map((res,key)=>{\n                  return(<li key={key}><p>{res}</p></li>)\n                })}\n              </ul>\n            </div>}\n          <ToastContainer autoClose={1000}/>\n          {sigin && <article class=\"login\">\n              <form onSubmit={this.loginFormSubmit} id=\"login_form\" >\n                  <div class=\"logo\">\n                      <a href=\"index.html\">\n                          <img src=\"images/logo.png\" alt=\"\" />\n                      </a>\n                  </div>\n                  <h2>Log In</h2>\n                  <div class=\"fields\">\n                      <div class=\"inputbox\">\n                          <label>Email</label>\n                          <input type=\"email\" placeholder=\"email\" name=\"lemail\" id=\"lemail\" required/>\n                      </div>\n                      <div class=\"inputbox\">\n                          <label>Password</label>\n                          <input type=\"password\" placeholder=\"password\" name=\"lpassword\" id=\"lpassword\" required/>\n                          <span onClick={()=>this.togglePass('lpassword','leyepass')}><i id=\"leyepass\" class=\"fa fa-eye-slash\"></i></span>\n                      </div>\n                  </div>\n                      <span id=\"login_err_msg\"></span>\n                  <a href=\"javascript:;\" class=\"register\" onClick={()=>this.setState({sigin:false,signup:true,err_result:[]})}>Create An Account</a>\n                  <div class=\"buttons\">\n                      <button type=\"submit\" class=\"btn btn_submit\" disabled={this.state.submitDisabled}>{submitDisabled?\"Loading...\":\"Login\"}</button>\n                  </div>\n              </form>\n          </article>}\n\n          {signup && <article class=\"login\" >\n              <form onSubmit={this.registerFormSubmit}>\n                  <div class=\"logo\">\n                      <a href=\"index.html\">\n                          <img src=\"images/logo.png\" alt=\"\" />\n                      </a>\n                  </div>\n                  {/*<h2>Register</h2>*/}\n                  <div class=\"fields\">\n                      <div class=\"inputbox\">\n                          <label>Name</label>\n                          <input type=\"text\" placeholder=\"Full Name\" name=\"pname\" required/>\n                      </div>\n                      <div class=\"inputbox\">\n                          <label>Email</label>\n                          <input type=\"email\" placeholder=\"email\" name=\"pemail\" required/>\n                      </div>\n                      <div class=\"inputbox\">\n                          <label>Password</label>\n                          <input type=\"password\" placeholder=\"password\" name=\"ppass\" id=\"ppass\" required/>\n                          <span onClick={()=>this.togglePass('ppass','reyepass')}><i id=\"reyepass\" class=\"fa fa-eye-slash\"></i></span>\n                      </div>\n                      <div class=\"inputbox\">\n                          <label>Confirm Password</label>\n                          <input type=\"password\" placeholder=\"confirm password\" name=\"pcpass\" id=\"pcpass\" required/>\n                          <span onClick={()=>this.togglePass('pcpass','reyecpass')}><i id=\"reyecpass\" class=\"fa fa-eye-slash\"></i></span>\n                      </div>\n                  </div>\n                    <span id=\"register_err_msg\"></span>\n                  <a href=\"javascript:;\" class=\"register\" onClick={()=>this.setState({sigin:true,signup:false,err_result:[]})}>Already a member</a>\n                  <div class=\"buttons\">\n                      <button type=\"submit\" class=\"btn btn_submit\" disabled={this.state.submitDisabled}>{submitDisabled?\"Loading...\":\"Register\"}</button>\n                  </div>\n              </form>\n          </article>}\n          <div class=\"clearfix\"></div>\n      </section>\n)\n}\nelse {\n  return(<div class=\"container loader_cont\"><ActivityLoader\n    type=\"Triangle\"\n     color=\"black\"\n     height={100}\n     width={100}/>\n     <h3>{loading_msg}</h3>\n     </div>)\n}\n}\nelse {\n  return(<div>Loading..</div>)\n}\n}\n}\nexport default withLastLocation(Login);\n"]},"metadata":{},"sourceType":"module"}