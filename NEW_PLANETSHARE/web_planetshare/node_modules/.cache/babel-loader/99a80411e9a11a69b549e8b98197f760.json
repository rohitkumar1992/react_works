{"ast":null,"code":"var _jsxFileName = \"/var/www/html/REACT_WORK/NEW_PLANETSHARE/web_planetshare/src/Container/Downloads/ImageDownload.js\";\nimport React from 'react';\nimport Authentication from '../Authentication/Authentication';\nimport { USERID, TAG, TOKEN, DOWNLOADLIST } from '../../url';\nimport axios from 'axios';\nimport $ from 'jquery';\nimport { Link } from 'react-router-dom';\nimport { ToastContainer, toast, cssTransition } from 'react-toastify';\nimport ActivityLoader from 'react-loader-spinner';\nconst Zoom = cssTransition({\n  enter: 'zoomIn',\n  exit: 'zoomOut',\n  duration: 750\n});\nconst HEADER = {\n  headers: {\n    'Content-Type': 'application/json;charset=UTF-8',\n    'Authorization': \"Bearer \" + localStorage.getItem('planetshare_web_token')\n  }\n};\n\nclass ImageDownload extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      not_found: false,\n      loading: false,\n      loading_msg: 'Please Wait',\n      download_list: []\n    };\n\n    this.getData = () => {\n      axios.post(DOWNLOADLIST, {\n        user_id: localStorage.getItem('user_id'),\n        tag: TAG,\n        'item_type': 'image'\n      }, HEADER).then(res => {\n        if (res.data.success == 1) {\n          var response = res.data;\n          this.setState({\n            download_list: response.data\n          });\n          setTimeout(() => this.setState({\n            loading: true\n          }), 1000);\n        }\n      }).catch(error => {});\n    };\n\n    this.Download = id => {\n      axios({\n        url: 'http://localhost/Shantanu_project/OTT_LIVE_WORK/LARAVEL_WORK/NEW_PLANETSHARE/Planetshare/public/api/download',\n        //your url\n        method: 'POST',\n        responseType: 'blob',\n        // important\n        data: {\n          video_id: 46\n        },\n        headers: {\n          'Authorization': \"Bearer \" + localStorage.getItem('planetshare_web_token')\n        }\n      }).then(response => {\n        const url = window.URL.createObjectURL(new Blob([response.data]));\n        const link = document.createElement('a');\n        link.href = url;\n        link.setAttribute('download', 'title'); //or any other extension\n\n        document.body.appendChild(link);\n        link.click();\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getData();\n  }\n\n  render() {\n    const _this$state = this.state,\n          loading = _this$state.loading,\n          loading_msg = _this$state.loading_msg,\n          download_list = _this$state.download_list;\n\n    if (loading) {\n      return React.createElement(\"section\", {\n        class: \"inner_cont download_page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"downloads_cont\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"h2_ttl\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        class: \"h2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"Downloads\"))), React.createElement(\"div\", {\n        class: \"tab-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"tab-pane container active\",\n        id: \"download_images\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        class: \"down_img_list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, download_list.length > 0 && download_list.map((res, key) => {\n        return React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: `/web/image/${res.image_item_desc.title}/${res.image_item_desc.id}`,\n          class: \"box\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: res.image_item_desc.large_thumb,\n          alt: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          class: \"sv_crt\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"button\",\n          class: \"crt\",\n          onClick: () => this.Download(res.item_id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          class: \"fa fa-download\",\n          \"aria-hidden\": \"true\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, \"Download\"))));\n      })), download_list.length == 0 && React.createElement(\"h4\", {\n        class: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"No Result Found\"))))), React.createElement(\"div\", {\n        class: \"clearfix\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }));\n    } else {\n      return React.createElement(\"div\", {\n        class: \"container loader_cont\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(ActivityLoader, {\n        type: \"Triangle\",\n        color: \"black\",\n        height: 100,\n        width: 100,\n        timeout: 30000,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, loading_msg));\n    }\n  }\n\n}\n\nexport default Authentication(ImageDownload);","map":{"version":3,"sources":["/var/www/html/REACT_WORK/NEW_PLANETSHARE/web_planetshare/src/Container/Downloads/ImageDownload.js"],"names":["React","Authentication","USERID","TAG","TOKEN","DOWNLOADLIST","axios","$","Link","ToastContainer","toast","cssTransition","ActivityLoader","Zoom","enter","exit","duration","HEADER","headers","localStorage","getItem","ImageDownload","Component","state","not_found","loading","loading_msg","download_list","getData","post","user_id","tag","then","res","data","success","response","setState","setTimeout","catch","error","Download","id","url","method","responseType","video_id","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","componentDidMount","render","length","map","key","image_item_desc","title","large_thumb","item_id"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Authentication from '../Authentication/Authentication';\nimport {USERID,TAG,TOKEN,DOWNLOADLIST} from '../../url';\nimport axios from 'axios';\nimport $ from 'jquery'\nimport {Link} from 'react-router-dom'\nimport { ToastContainer, toast,cssTransition} from 'react-toastify';\nimport ActivityLoader from 'react-loader-spinner';\nconst Zoom = cssTransition({\nenter: 'zoomIn',\nexit: 'zoomOut',\nduration: 750,\n});\nconst HEADER = {\nheaders: {\n  'Content-Type': 'application/json;charset=UTF-8',\n  'Authorization':\"Bearer \" + localStorage.getItem('planetshare_web_token'),\n}\n};\nclass ImageDownload extends React.Component\n{\n  state={not_found:false,loading:false,loading_msg:'Please Wait',download_list:[]}\n  componentDidMount()\n  {\n    this.getData();\n  }\n  getData=()=>{\n    axios.post(DOWNLOADLIST,{user_id:localStorage.getItem('user_id'),tag:TAG,'item_type':'image'},HEADER).then((res)=>{\n      if(res.data.success==1)\n      {\n        var response=res.data;\n        this.setState({download_list:response.data})\n          setTimeout(()=>this.setState({loading:true}),1000)\n      }\n    }).catch((error)=>{\n\n    })\n  }\n  Download=(id)=>{\n    axios({\n      url: 'http://localhost/Shantanu_project/OTT_LIVE_WORK/LARAVEL_WORK/NEW_PLANETSHARE/Planetshare/public/api/download', //your url\n      method: 'POST',\n      responseType: 'blob', // important\n      data:{video_id:46},\n      headers: {\n        'Authorization':\"Bearer \" + localStorage.getItem('planetshare_web_token'),\n      }\n    },).then((response) => {\n       const url = window.URL.createObjectURL(new Blob([response.data]));\n       const link = document.createElement('a');\n       link.href = url;\n       link.setAttribute('download', 'title'); //or any other extension\n       document.body.appendChild(link);\n       link.click();\n    });\n  }\n  render()\n  {\n    const {loading,loading_msg,download_list}=this.state;\n    if(loading)\n    {\n      return(<section class=\"inner_cont download_page\">\n        <div class=\"container\">\n            <div class=\"downloads_cont\">\n                <div class=\"h2_ttl\">\n                    <h2 class=\"h2\"><span>Downloads</span></h2>\n                </div>\n                <div class=\"tab-content\">\n                    <div class=\"tab-pane container active\" id=\"download_images\">\n                        <ul class=\"down_img_list\">\n                            {download_list.length>0 && download_list.map((res,key)=>{\n                              return(<li>\n                                <Link to={`/web/image/${res.image_item_desc.title}/${res.image_item_desc.id}`} class=\"box\">\n                                      <img src={res.image_item_desc.large_thumb} alt=\"\" />\n                                  </Link>\n                                  <div class=\"sv_crt\">\n                                      <button type=\"button\" class=\"crt\" onClick={()=>this.Download(res.item_id)}>\n                                          <i class=\"fa fa-download\" aria-hidden=\"true\"></i>\n                                          <span>Download</span>\n                                      </button>\n                                  </div>\n                              </li>)\n                            })}\n                        </ul>\n                        {download_list.length==0 && <h4 class=\"text-center\">No Result Found</h4>}\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"clearfix\"></div>\n    </section>)\n      }\n      else {\n        return(<div class=\"container loader_cont\"><ActivityLoader\n          type=\"Triangle\"\n           color=\"black\"\n           height={100}\n           width={100}\n           timeout={30000}/>\n           <h3>{loading_msg}</h3>\n           </div>)\n      }\n  }\n}\nexport default Authentication(ImageDownload);\n"]},"metadata":{},"sourceType":"module"}