{"ast":null,"code":"var _jsxFileName = \"/var/www/html/REACT_WORK/NEW_PLANETSHARE/web_planetshare/src/Container/Login/login.js\";\nimport React, { Component } from 'react';\nimport './login.css';\nimport $ from 'jquery';\nimport axios from 'axios';\nimport { LOGIN, TAG, REGISTER } from '../../url.js';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport ActivityLoader from 'react-loader-spinner';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { withLastLocation } from 'react-router-last-location';\nimport { ToastContainer, toast, cssTransition } from 'react-toastify';\nconst Zoom = cssTransition({\n  enter: 'zoomIn',\n  exit: 'zoomOut',\n  duration: 750\n});\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isLoading: false,\n      sigin: true,\n      signup: false,\n      loading: false,\n      loading_msg: '',\n      url: ''\n    };\n\n    this.loginFormSubmit = e => {\n      e.preventDefault();\n      $('#login_err_msg').html('');\n      var emailid = e.target.lemail.value.trim();\n      var password = e.target.lpassword.value.trim();\n      axios.post(LOGIN, {\n        email: emailid,\n        password: password,\n        tag: TAG\n      }).then(response => {\n        if (response.data.success == '1') {\n          localStorage.setItem('status', 'Y');\n          localStorage.setItem('name', response.data.name);\n          localStorage.setItem('planetshare_web_token', response.data.token);\n          localStorage.setItem('vendor_id', response.data.vendor_id);\n          localStorage.setItem('email', response.data.email);\n          localStorage.setItem('seller_id', response.data.seller_id);\n          localStorage.setItem('user_id', response.data.user_id);\n          this.setState({\n            loading: true,\n            loading_msg: 'Logging In Please Wait'\n          }); //    setTimeout(()=>this.props.history.push('/dashboard/ve')),1500);\n          //    setTimeout(()=>window.location.href='/',1000);\n\n          setTimeout(() => {\n            setTimeout(() => this.props.history.push(localStorage.getItem('url')), 200);\n          }, 1500);\n        } else {\n          $('#login_err_msg').html('Invalid Credentials');\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    this.normalLogin = (emailid, password) => {\n      $('#login_err_msg').html('');\n      axios.post(LOGIN, {\n        email: emailid,\n        password: password,\n        tag: TAG\n      }).then(response => {\n        if (response.data.success == '1') {\n          localStorage.setItem('status', 'Y');\n          localStorage.setItem('name', response.data.name);\n          localStorage.setItem('planetshare_web_token', response.data.token);\n          localStorage.setItem('email', response.data.email);\n          localStorage.setItem('seller_id', response.data.seller_id);\n          localStorage.setItem('vendor_id', response.data.vendor_id);\n          localStorage.setItem('user_id', response.data.user_id); //setTimeout(()=>this.props.history.push('/'),1500);\n\n          this.setState({\n            loading: true,\n            loading_msg: 'Logging In Please Wait'\n          });\n          setTimeout(() => window.location.href = '/', 1000);\n        } else {\n          $('#login_err_msg').html('Invalid Credentials');\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    this.registerFormSubmit = e => {\n      e.preventDefault();\n      $('#register_err_msg').html('');\n      var name = e.target.pname.value.trim();\n      var emailid = e.target.pemail.value.trim();\n      var password = e.target.ppass.value.trim();\n      var cpassword = e.target.pcpass.value.trim();\n\n      if (name == '' || emailid == '' || password == '' || cpassword == '') {\n        toast('All Fields Must Be Filled', {\n          transition: Zoom\n        });\n        return false;\n      }\n\n      if (password != cpassword) {\n        toast('Password should be same', {\n          transition: Zoom\n        });\n        return false;\n      }\n\n      axios.post(REGISTER, {\n        name: name,\n        email: emailid,\n        password: password,\n        tag: TAG\n      }).then(response => {\n        if (response.data.success == '1') {\n          //setTimeout(()=>this.props.history.push('/'),1500);\n          this.setState({\n            loading: true,\n            loading_msg: `Registering ${name} Please Wait`\n          });\n          setTimeout(() => this.normalLogin(emailid, password), 1000); //setTimeout(()=>window.location.href='/',1000);\n        } else {\n          toast('Something Went Wrong', {\n            transition: Zoom\n          });\n          $('#register_err_msg').html('Invalid Credentials');\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.lastLocation != null) {\n      localStorage.setItem('url', this.props.lastLocation.pathname); //    this.setState({url:this.props.lastLocation.pathname})\n    }\n  }\n\n  render() {\n    const _this$state = this.state,\n          signup = _this$state.signup,\n          sigin = _this$state.sigin,\n          isLoading = _this$state.isLoading,\n          loading = _this$state.loading,\n          loading_msg = _this$state.loading_msg;\n\n    if (!isLoading) {\n      if (!loading) {\n        return React.createElement(\"section\", {\n          class: \"login_page\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, React.createElement(ToastContainer, {\n          autoClose: 1000,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }), sigin && React.createElement(\"article\", {\n          class: \"login\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }, React.createElement(\"form\", {\n          onSubmit: this.loginFormSubmit,\n          id: \"login_form\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"logo\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"index.html\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: \"images/logo.png\",\n          alt: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }))), React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, \"Log In\"), React.createElement(\"div\", {\n          class: \"fields\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"inputbox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }, \"Email\"), React.createElement(\"input\", {\n          type: \"email\",\n          placeholder: \"email\",\n          name: \"lemail\",\n          id: \"lemail\",\n          required: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          class: \"inputbox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }, \"Password\"), React.createElement(\"input\", {\n          type: \"password\",\n          placeholder: \"password\",\n          name: \"lpassword\",\n          id: \"lpassword\",\n          required: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        }))), React.createElement(\"span\", {\n          id: \"login_err_msg\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159\n          },\n          __self: this\n        }), React.createElement(\"a\", {\n          href: \"javascript:;\",\n          class: \"register\",\n          onClick: () => this.setState({\n            sigin: false,\n            signup: true\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }, \"Create An Account\"), React.createElement(\"div\", {\n          class: \"buttons\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"submit\",\n          class: \"btn btn_submit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }, \"Login\")))), signup && React.createElement(\"article\", {\n          class: \"login\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        }, React.createElement(\"form\", {\n          onSubmit: this.registerFormSubmit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"logo\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"index.html\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: \"images/logo.png\",\n          alt: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          class: \"fields\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"inputbox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177\n          },\n          __self: this\n        }, \"Name\"), React.createElement(\"input\", {\n          type: \"text\",\n          placeholder: \"Full Name\",\n          name: \"pname\",\n          required: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          class: \"inputbox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181\n          },\n          __self: this\n        }, \"Email\"), React.createElement(\"input\", {\n          type: \"email\",\n          placeholder: \"email\",\n          name: \"pemail\",\n          required: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          class: \"inputbox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185\n          },\n          __self: this\n        }, \"Password\"), React.createElement(\"input\", {\n          type: \"password\",\n          placeholder: \"password\",\n          name: \"ppass\",\n          required: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          class: \"inputbox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189\n          },\n          __self: this\n        }, \"Confirm Password\"), React.createElement(\"input\", {\n          type: \"password\",\n          placeholder: \"confirm password\",\n          name: \"pcpass\",\n          required: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        }))), React.createElement(\"span\", {\n          id: \"register_err_msg\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193\n          },\n          __self: this\n        }), React.createElement(\"a\", {\n          href: \"javascript:;\",\n          class: \"register\",\n          onClick: () => this.setState({\n            sigin: true,\n            signup: false\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194\n          },\n          __self: this\n        }, \"Already a member\"), React.createElement(\"div\", {\n          class: \"buttons\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"submit\",\n          class: \"btn btn_submit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196\n          },\n          __self: this\n        }, \"Register\")))), React.createElement(\"div\", {\n          class: \"clearfix\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200\n          },\n          __self: this\n        }));\n      } else {\n        return React.createElement(\"div\", {\n          class: \"container loader_cont\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205\n          },\n          __self: this\n        }, React.createElement(ActivityLoader, {\n          type: \"Triangle\",\n          color: \"black\",\n          height: 100,\n          width: 100,\n          timeout: 30000,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205\n          },\n          __self: this\n        }), React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211\n          },\n          __self: this\n        }, loading_msg));\n      }\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, \"Loading..\");\n    }\n  }\n\n}\n\nexport default withLastLocation(Login);","map":{"version":3,"sources":["/var/www/html/REACT_WORK/NEW_PLANETSHARE/web_planetshare/src/Container/Login/login.js"],"names":["React","Component","$","axios","LOGIN","TAG","REGISTER","ActivityLoader","withLastLocation","ToastContainer","toast","cssTransition","Zoom","enter","exit","duration","Login","state","isLoading","sigin","signup","loading","loading_msg","url","loginFormSubmit","e","preventDefault","html","emailid","target","lemail","value","trim","password","lpassword","post","email","tag","then","response","data","success","localStorage","setItem","name","token","vendor_id","seller_id","user_id","setState","setTimeout","props","history","push","getItem","catch","error","console","log","normalLogin","window","location","href","registerFormSubmit","pname","pemail","ppass","cpassword","pcpass","transition","componentDidMount","lastLocation","pathname","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './login.css';\nimport $ from 'jquery';\nimport axios from 'axios';\nimport {LOGIN,TAG,REGISTER} from '../../url.js';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport ActivityLoader from 'react-loader-spinner';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { withLastLocation } from 'react-router-last-location';\nimport { ToastContainer, toast,cssTransition} from 'react-toastify';\nconst Zoom = cssTransition({\nenter: 'zoomIn',\nexit: 'zoomOut',\nduration: 750,\n});\nclass Login extends Component {\n  state={isLoading:false,sigin:true,signup:false,loading:false,loading_msg:'',url:''}\n  componentDidMount()\n  {\n    if(this.props.lastLocation!=null)\n    {\n      localStorage.setItem('url',this.props.lastLocation.pathname)\n      //    this.setState({url:this.props.lastLocation.pathname})\n    }\n  }\nloginFormSubmit=(e)=>\n{\n    e.preventDefault();\n    $('#login_err_msg').html('');\n      var emailid=e.target.lemail.value.trim();\n      var password=e.target.lpassword.value.trim();\n      axios.post(LOGIN, {\n      email:emailid,\n      password:password,\n      tag:TAG\n    })\n    .then(response=>{\n        if(response.data.success=='1'){\n          localStorage.setItem('status','Y');\n          localStorage.setItem('name',response.data.name);\n          localStorage.setItem('planetshare_web_token',response.data.token);\n          localStorage.setItem('vendor_id',response.data.vendor_id);\n          localStorage.setItem('email',response.data.email);\n          localStorage.setItem('seller_id',response.data.seller_id);\n          localStorage.setItem('user_id',response.data.user_id);\n            this.setState({loading:true,loading_msg:'Logging In Please Wait'});\n                  //    setTimeout(()=>this.props.history.push('/dashboard/ve')),1500);\n                //    setTimeout(()=>window.location.href='/',1000);\n         setTimeout(()=>{setTimeout(()=>this.props.history.push(localStorage.getItem('url')),200)},1500);\n\n        }\n        else {\n          $('#login_err_msg').html('Invalid Credentials');\n        }\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n}\nnormalLogin=(emailid,password)=>\n{\n    $('#login_err_msg').html('');\n      axios.post(LOGIN, {\n      email:emailid,\n      password:password,\n      tag:TAG\n    })\n    .then(response=>{\n        if(response.data.success=='1'){\n          localStorage.setItem('status','Y');\n          localStorage.setItem('name',response.data.name);\n          localStorage.setItem('planetshare_web_token',response.data.token);\n          localStorage.setItem('email',response.data.email);\n          localStorage.setItem('seller_id',response.data.seller_id);\n            localStorage.setItem('vendor_id',response.data.vendor_id);\n          localStorage.setItem('user_id',response.data.user_id);\n\n          //setTimeout(()=>this.props.history.push('/'),1500);\n          this.setState({loading:true,loading_msg:'Logging In Please Wait'});\n          setTimeout(()=>window.location.href='/',1000);\n\n        }\n        else {\n          $('#login_err_msg').html('Invalid Credentials');\n        }\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n}\nregisterFormSubmit=(e)=>\n{\n    e.preventDefault();\n    $('#register_err_msg').html('');\n      var name=e.target.pname.value.trim();\n      var emailid=e.target.pemail.value.trim();\n      var password=e.target.ppass.value.trim();\n      var cpassword=e.target.pcpass.value.trim();\n      if(name=='' || emailid=='' || password=='' || cpassword=='')\n      {\n        toast('All Fields Must Be Filled',{ transition: Zoom,});\n        return false;\n      }\n      if(password!=cpassword)\n      {\n        toast('Password should be same',{ transition: Zoom,});\n        return false;\n      }\n      axios.post(REGISTER, {\n      name:name,\n      email:emailid,\n      password:password,\n      tag:TAG\n    })\n    .then(response=>{\n        if(response.data.success=='1'){\n          //setTimeout(()=>this.props.history.push('/'),1500);\n          this.setState({loading:true,loading_msg:`Registering ${name} Please Wait`});\n          setTimeout(()=>this.normalLogin(emailid,password),1000);\n          //setTimeout(()=>window.location.href='/',1000);\n\n        }\n        else {\n          toast('Something Went Wrong',{ transition: Zoom,});\n          $('#register_err_msg').html('Invalid Credentials');\n        }\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n}\n  render() {\n    const {signup,sigin,isLoading,loading,loading_msg}=this.state;\n    if(!isLoading)\n    {\n      if(!loading)\n      {\n    return (\n      <section class=\"login_page\">\n          <ToastContainer autoClose={1000}/>\n          {sigin && <article class=\"login\">\n              <form onSubmit={this.loginFormSubmit} id=\"login_form\" >\n                  <div class=\"logo\">\n                      <a href=\"index.html\">\n                          <img src=\"images/logo.png\" alt=\"\" />\n                      </a>\n                  </div>\n                  <h2>Log In</h2>\n                  <div class=\"fields\">\n                      <div class=\"inputbox\">\n                          <label>Email</label>\n                          <input type=\"email\" placeholder=\"email\" name=\"lemail\" id=\"lemail\" required/>\n                      </div>\n                      <div class=\"inputbox\">\n                          <label>Password</label>\n                          <input type=\"password\" placeholder=\"password\" name=\"lpassword\" id=\"lpassword\" required/>\n                      </div>\n                  </div>\n                      <span id=\"login_err_msg\"></span>\n                  <a href=\"javascript:;\" class=\"register\" onClick={()=>this.setState({sigin:false,signup:true})}>Create An Account</a>\n                  <div class=\"buttons\">\n                      <button type=\"submit\" class=\"btn btn_submit\">Login</button>\n                  </div>\n              </form>\n          </article>}\n\n          {signup && <article class=\"login\" >\n              <form onSubmit={this.registerFormSubmit}>\n                  <div class=\"logo\">\n                      <a href=\"index.html\">\n                          <img src=\"images/logo.png\" alt=\"\" />\n                      </a>\n                  </div>\n                  {/*<h2>Register</h2>*/}\n                  <div class=\"fields\">\n                      <div class=\"inputbox\">\n                          <label>Name</label>\n                          <input type=\"text\" placeholder=\"Full Name\" name=\"pname\" required/>\n                      </div>\n                      <div class=\"inputbox\">\n                          <label>Email</label>\n                          <input type=\"email\" placeholder=\"email\" name=\"pemail\" required/>\n                      </div>\n                      <div class=\"inputbox\">\n                          <label>Password</label>\n                          <input type=\"password\" placeholder=\"password\" name=\"ppass\" required/>\n                      </div>\n                      <div class=\"inputbox\">\n                          <label>Confirm Password</label>\n                          <input type=\"password\" placeholder=\"confirm password\" name=\"pcpass\" required/>\n                      </div>\n                  </div>\n                    <span id=\"register_err_msg\"></span>\n                  <a href=\"javascript:;\" class=\"register\" onClick={()=>this.setState({sigin:true,signup:false})}>Already a member</a>\n                  <div class=\"buttons\">\n                      <button type=\"submit\" class=\"btn btn_submit\">Register</button>\n                  </div>\n              </form>\n          </article>}\n          <div class=\"clearfix\"></div>\n      </section>\n)\n}\nelse {\n  return(<div class=\"container loader_cont\"><ActivityLoader\n    type=\"Triangle\"\n     color=\"black\"\n     height={100}\n     width={100}\n     timeout={30000}/>\n     <h3>{loading_msg}</h3>\n     </div>)\n}\n}\nelse {\n  return(<div>Loading..</div>)\n}\n}\n}\nexport default withLastLocation(Login);\n"]},"metadata":{},"sourceType":"module"}