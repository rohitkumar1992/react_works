{"ast":null,"code":"var _jsxFileName = \"/var/www/html/REACT_WORK/NEW_PLANETSHARE/web_planetshare/src/Component/stickyheader.js\";\nimport React from 'react';\nimport { LOGOUT, TAG, TOKEN, USERLIST, USERID, HEADER } from '../url.js';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\n\nclass StickyHeader extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      searchValue: '',\n      searchType: 'all'\n    };\n\n    this.logout = () => {\n      axios.post(LOGOUT, {\n        'tag': 'dash'\n      }, HEADER).then(res => {\n        if (res.data.success == 1) {\n          localStorage.clear();\n          setTimeout(() => window.location.href = '/', 1000);\n        } else {\n          alert(res.data.msg);\n        }\n      }).catch(error => {});\n    };\n\n    this.searchSubmit = e => {\n      e.preventDefault();\n      var searchValue = this.state.searchValue.trim();\n\n      if (searchValue == \"\") {\n        return false;\n      } else {\n        this.props.history.push(`/web/search/keyword/${this.state.searchType}/${searchValue.replace(/[&\\/\\\\#, +()$~%.'\":*?<>{}]/g, '').toLowerCase()}`);\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      searchValue: this.props.keyword,\n      searchType: this.props.type\n    });\n  }\n\n  componentDidUpdate() {// var result=this.props.location.pathname.split('/');\n    // if(result[2]==\"search\" && result[3]==\"keyword\" && (result[4]!=this.state.searchType || result[5]!=this.state.searchValue))\n    // {\n    //   this.setState({searchValue:result[5],searchType:result[4]})\n    // }\n    // else {\n    //   this.setState({searchValue:'',searchType:'all'})\n    // }\n  }\n\n  render() {\n    // console.log(this.props.keyword);\n    const route_name = this.props.location.pathname.split('/')[2];\n    return React.createElement(\"div\", {\n      class: \"sticky_header\",\n      style: {\n        display: route_name == 'vendorservice_description' || route_name == 'videocategorydata' || route_name == 'imagecategorydata' ? 'none' : ''\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"images/logo.png\",\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      class: \"searchbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.searchSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"inputbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      class: \"select_i\",\n      onChange: e => this.setState({\n        searchType: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      selected: true,\n      value: \"all\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"All\"), React.createElement(\"option\", {\n      value: \"image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Image\"), React.createElement(\"option\", {\n      value: \"video\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Video\")), React.createElement(\"i\", {\n      class: \"fa fa-search\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"What you want to Buy Today?\",\n      value: this.state.searchValue,\n      onChange: e => {\n        this.setState({\n          searchValue: e.target.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Search\")), React.createElement(\"div\", {\n      class: \"clearfix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"clearfix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default StickyHeader;","map":{"version":3,"sources":["/var/www/html/REACT_WORK/NEW_PLANETSHARE/web_planetshare/src/Component/stickyheader.js"],"names":["React","LOGOUT","TAG","TOKEN","USERLIST","USERID","HEADER","axios","Link","StickyHeader","Component","state","searchValue","searchType","logout","post","then","res","data","success","localStorage","clear","setTimeout","window","location","href","alert","msg","catch","error","searchSubmit","e","preventDefault","trim","props","history","push","replace","toLowerCase","componentDidMount","setState","keyword","type","componentDidUpdate","render","route_name","pathname","split","display","target","value"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,MAAR,EAAeC,GAAf,EAAmBC,KAAnB,EAAyBC,QAAzB,EAAkCC,MAAlC,EAAyCC,MAAzC,QAAsD,WAAtD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,IAAR,QAAmB,kBAAnB;;AACA,MAAMC,YAAN,SAA2BT,KAAK,CAACU,SAAjC,CACA;AAAA;AAAA;AAAA,SACIC,KADJ,GACU;AAACC,MAAAA,WAAW,EAAC,EAAb;AAAgBC,MAAAA,UAAU,EAAC;AAA3B,KADV;;AAAA,SAMEC,MANF,GAMS,MAAI;AACTP,MAAAA,KAAK,CAACQ,IAAN,CAAWd,MAAX,EAAkB;AAChB,eAAM;AADU,OAAlB,EAEEK,MAFF,EAEUU,IAFV,CAEgBC,GAAD,IAAO;AACpB,YAAGA,GAAG,CAACC,IAAJ,CAASC,OAAT,IAAkB,CAArB,EACA;AACEC,UAAAA,YAAY,CAACC,KAAb;AACFC,UAAAA,UAAU,CAAC,MAAIC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAqB,GAA1B,EAA8B,IAA9B,CAAV;AACC,SAJD,MAKK;AACHC,UAAAA,KAAK,CAACT,GAAG,CAACC,IAAJ,CAASS,GAAV,CAAL;AACD;AACF,OAXD,EAWGC,KAXH,CAWUC,KAAD,IAAS,CAEjB,CAbD;AAcD,KArBH;;AAAA,SAsBEC,YAtBF,GAsBgBC,CAAD,IAAK;AAChBA,MAAAA,CAAC,CAACC,cAAF;AACA,UAAIpB,WAAW,GAAC,KAAKD,KAAL,CAAWC,WAAX,CAAuBqB,IAAvB,EAAhB;;AACA,UAAGrB,WAAW,IAAE,EAAhB,EACA;AACE,eAAO,KAAP;AACD,OAHD,MAKA;AACE,aAAKsB,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAyB,uBAAsB,KAAKzB,KAAL,CAAWE,UAAW,IAAID,WAAW,CAACyB,OAAZ,CAAoB,6BAApB,EAAkD,EAAlD,CAAD,CAAwDC,WAAxD,EAAsE,EAA9I;AACD;AACF,KAjCH;AAAA;;AAEIC,EAAAA,iBAAiB,GACjB;AACI,SAAKC,QAAL,CAAc;AAAC5B,MAAAA,WAAW,EAAC,KAAKsB,KAAL,CAAWO,OAAxB;AAAgC5B,MAAAA,UAAU,EAAC,KAAKqB,KAAL,CAAWQ;AAAtD,KAAd;AACH;;AA6BHC,EAAAA,kBAAkB,GAClB,CACE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD;;AACDC,EAAAA,MAAM,GACN;AACE;AACA,UAAMC,UAAU,GAAC,KAAKX,KAAL,CAAWV,QAAX,CAAoBsB,QAApB,CAA6BC,KAA7B,CAAmC,GAAnC,EAAwC,CAAxC,CAAjB;AACF,WACE;AAAK,MAAA,KAAK,EAAC,eAAX;AAA2B,MAAA,KAAK,EAAE;AAACC,QAAAA,OAAO,EAAGH,UAAU,IAAE,2BAAZ,IAA2CA,UAAU,IAAE,mBAAvD,IAA8EA,UAAU,IAAE,mBAA3F,GAAgH,MAAhH,GAAuH;AAAjI,OAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,KAAK,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAa;AAAK,MAAA,GAAG,EAAC,iBAAT;AAA2B,MAAA,GAAG,EAAC,EAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAb,CADJ,CADJ,EAII;AAAK,MAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAM,MAAA,QAAQ,EAAE,KAAKf,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACoB;AAAK,MAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAQ,MAAA,KAAK,EAAC,UAAd;AAAyB,MAAA,QAAQ,EAAGC,CAAD,IAAK,KAAKS,QAAL,CAAc;AAAC3B,QAAAA,UAAU,EAACkB,CAAC,CAACkB,MAAF,CAASC;AAArB,OAAd,CAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAQ,MAAA,QAAQ,MAAhB;AAAiB,MAAA,KAAK,EAAC,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,EAEE;AAAQ,MAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFF,EAGE;AAAQ,MAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAHF,CADA,EAMI;AAAG,MAAA,KAAK,EAAC,cAAT;AAAwB,qBAAY,MAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANJ,EAOI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,WAAW,EAAC,6BAA/B;AAA6D,MAAA,KAAK,EAAE,KAAKvC,KAAL,CAAWC,WAA/E;AAA4F,MAAA,QAAQ,EAAGmB,CAAD,IAAK;AAAC,aAAKS,QAAL,CAAc;AAAC5B,UAAAA,WAAW,EAACmB,CAAC,CAACkB,MAAF,CAASC;AAAtB,SAAd;AAA4C,OAAxJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPJ,EAQI;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBARJ,CADpB,EAWoB;AAAK,MAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXpB,CADA,EAcI;AAAK,MAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAdJ,CAJJ,CADJ,CADF;AAwBO;;AAzET;;AA2EA,eAAezC,YAAf","sourcesContent":["import React from 'react';\nimport {LOGOUT,TAG,TOKEN,USERLIST,USERID,HEADER} from '../url.js';\nimport axios from 'axios';\nimport {Link} from 'react-router-dom'\nclass StickyHeader extends React.Component\n{\n    state={searchValue:'',searchType:'all'}\n    componentDidMount()\n    {\n        this.setState({searchValue:this.props.keyword,searchType:this.props.type})\n    }\n  logout=()=>{\n    axios.post(LOGOUT,{\n      'tag':'dash'\n    },HEADER).then((res)=>{\n      if(res.data.success==1)\n      {\n        localStorage.clear();\n      setTimeout(()=>window.location.href='/',1000);\n      }\n      else {\n        alert(res.data.msg);\n      }\n    }).catch((error)=>{\n\n    })\n  }\n  searchSubmit=(e)=>{\n    e.preventDefault();\n    var searchValue=this.state.searchValue.trim();\n    if(searchValue==\"\")\n    {\n      return false;\n    }\n    else\n    {\n      this.props.history.push(`/web/search/keyword/${this.state.searchType}/${(searchValue.replace(/[&\\/\\\\#, +()$~%.'\":*?<>{}]/g,'')).toLowerCase()}`)\n    }\n  }\n  componentDidUpdate()\n  {\n    // var result=this.props.location.pathname.split('/');\n    // if(result[2]==\"search\" && result[3]==\"keyword\" && (result[4]!=this.state.searchType || result[5]!=this.state.searchValue))\n    // {\n    //   this.setState({searchValue:result[5],searchType:result[4]})\n    // }\n    // else {\n    //   this.setState({searchValue:'',searchType:'all'})\n    // }\n  }\n  render()\n  {\n    // console.log(this.props.keyword);\n    const route_name=this.props.location.pathname.split('/')[2];\n  return(\n    <div class=\"sticky_header\" style={{display:((route_name=='vendorservice_description' || route_name=='videocategorydata' || route_name=='imagecategorydata')?'none':'')}}>\n        <div class=\"container\">\n            <div class=\"logo\">\n                <Link to=\"/\"><img src=\"images/logo.png\" alt=\"\" /></Link>\n            </div>\n            <div class=\"searchbox\">\n            <form onSubmit={this.searchSubmit}>\n                                <div class=\"inputbox\">\n                                <select class=\"select_i\" onChange={(e)=>this.setState({searchType:e.target.value})}>\n                                  <option selected value=\"all\">All</option>\n                                  <option value=\"image\">Image</option>\n                                  <option value=\"video\">Video</option>\n                                </select>\n                                    <i class=\"fa fa-search\" aria-hidden=\"true\"></i>\n                                    <input type=\"text\" placeholder=\"What you want to Buy Today?\" value={this.state.searchValue} onChange={(e)=>{this.setState({searchValue:e.target.value})}}/>\n                                    <button type=\"submit\">Search</button>\n                                </div>\n                                <div class=\"clearfix\"></div>\n                            </form>\n                <div class=\"clearfix\"></div>\n            </div>\n        </div>\n    </div>)\n        }\n}\nexport default StickyHeader;\n"]},"metadata":{},"sourceType":"module"}