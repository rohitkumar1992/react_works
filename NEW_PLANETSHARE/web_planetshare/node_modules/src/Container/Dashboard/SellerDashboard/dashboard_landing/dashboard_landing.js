import React from 'react';
import {VENDOR_GIG_TAB_CONTENT,USERID,TAG,HEADER,VENDORID,VENDORSERVICECHANGESTATUS} from '../../../../url';
import {BrowserRouter, Router,Link,Route,Switch,HashRouter,Redirect} from "react-router-dom";
import axios from 'axios';
import Not_Found from '../../../../Component/not_found/not_found';
import $ from 'jquery';
import Tabs from '../tabs/tabs';
import Pagination from "react-js-pagination";
import { ToastContainer, toast,cssTransition} from 'react-toastify';
import More from '../more_dots/more_dots';
import ActivityLoader from 'react-loader-spinner';
import OwlCarousel from 'react-owl-carousel';
import 'owl.carousel/dist/assets/owl.carousel.css';
import 'owl.carousel/dist/assets/owl.theme.default.css';
const responsive={
  320:{items:1},
  480:{items:1},
  600:{items:1},
  960:{items:1},
  1200:{items:1}
  }
const Zoom = cssTransition({
enter: 'zoomIn',
exit: 'zoomOut',
duration: 750,
});
const VENDOR_HEADER = {
headers: {
 'Content-Type': 'application/json;charset=UTF-8',
 'Authorization':"Bearer " + localStorage.getItem('planetshare_web_token'),
}
};
class DashboardLandingPage extends React.Component{
  state={isLoading:false,loading_msg:'Please Wait',not_found:false,tab_index:1,tab_count:[],tab_data:[],itemsCountPerPage:5,current_page:1,total_pages:1,pageRangeDisplayed:3}
  componentDidMount()
  {
//  this.getData(this.state.current_page,this.state.tab_index);
    setTimeout(()=>this.setState({isLoading:true}),1000)
  }
  getData=(page,tab_index)=>{
    axios.post(`${VENDOR_GIG_TAB_CONTENT}?page=${page}`,{
      'user_id':localStorage.getItem('user_id'),
      'vendor_id':localStorage.getItem('vendor_id'),
      'tag':TAG,
      'limit':this.state.itemsCountPerPage,
      'tab_index':tab_index
    },VENDOR_HEADER).then((res)=>{
      if(res.data.success==1)
      {
        var response=res.data;
        this.setState({current_page:response.tab_data.current_page,tab_count:response.tabs,tab_data:response.tab_data.data,total_pages:response.tab_data.total});
        setTimeout(()=>this.setState({isLoading:true}),1000)
      }
      else {

      }
    }).catch((error)=>{

    });
  }
  render()
  {
    const {isLoading,not_found,tab_data,loading_msg}=this.state;
    const {profile_info}=this.props;
    if(!not_found)
    {
      if(isLoading)
      {
      return( <section class="dashb_cont top_div">
              <div class="container">
                  <div class="content_dash">
                      <aside class="sidebar_dash">
                          <div class="perfrm_wrap">
                              <div class="prof_prog">
                                  <div class="prof_det">
                                     <span class="btn_online">{profile_info.status==1?"Active":"Inactive"}</span>
                                     <div class="img">
                                         <a href="javascript:">
                                             <img src={profile_info.profile_pic==null?"images/dash_user.png":profile_info.profile_pic} alt="" />
                                         </a>
                                     </div>
                                     <div class="user_det">
                                         <a href="javascript:" class="name">{profile_info.display_name}</a>
                                         <div class="rating" >
                                             <i class="fa fa-star"></i>
                                             <span class="star_val">N/A</span>
                                         </div>
                                     </div>
                                  </div>
                                  <ul class="progres">
                                      <li>
                                          <a href="javascript:;">
                                              <label>Response Rate</label>
                                              <div class="prog_bar" data-toggle="tooltip" data-direction="top" title="Respond to 90% of the inquiries you received in the last 60 days">
                                                  <div class="bar">
                                                      <span class="fill" style={{width:"100%"}}></span>
                                                  </div>
                                                  <div class="bar_val">100%</div>
                                              </div>
                                          </a>
                                      </li>
                                      <li>
                                          <a href="javascript:;">
                                              <label>Delivered on Time</label>
                                              <div class="prog_bar" data-toggle="tooltip" data-direction="top" title="Delivered 90% of the inquiries you received in the last 60 days">
                                                  <div class="bar">
                                                      <span class="fill" style={{width:"100%"}}></span>
                                                  </div>
                                                  <div class="bar_val">100%</div>
                                              </div>
                                          </a>
                                      </li>
                                      <li>
                                          <a href="javascript:;">
                                              <label>Order Completion</label>
                                              <div class="prog_bar" data-toggle="tooltip" data-direction="top" title="Complete 90% of the inquiries you received in the last 60 days">
                                                  <div class="bar">
                                                      <span class="fill" style={{width:"100%"}}></span>
                                                  </div>
                                                  <div class="bar_val">100%</div>
                                              </div>
                                          </a>
                                      </li>
                                  </ul>
                              </div>
                              <ul class="txt_wrap">
                                  <li title="Total earnings and pending clearance in December" data-toggle="tooltip" data-direction="top">
                                      <a href="javascript:;">
                                          <label>Earned in December</label>
                                          <span class="grade"><i class="fa fa-inr"></i>0</span>
                                      </a>
                                  </li>
                                  <li title="Your average response time to first messages, over the course of the last 60 days" data-toggle="tooltip" data-direction="top">
                                      <a href="javascript:;">
                                          <label>Response Time</label>
                                          <span class="grade">N/A</span>
                                      </a>
                                  </li>
                              </ul>
                          </div>
                          <div class="perfrm_wrap inbox">
                              <ul class="inbox_wrap">
                                  <li>
                                      <label>Inbox</label>
                                      <a href="javascript:;">View All</a>
                                  </li>
                              </ul>
                          </div>
                      </aside>
                      <article class="cont_right">
                          <h3><span>Upgrade your Business</span></h3>
                          <div class="dash_info_slider">
                          <OwlCarousel
                             className="owl-theme"
                             items={1}
                             nav={true}
                             loop={true}
                             mouseDrag={true}
                             dots={false}
                             autoplay={true}
                             autoplayTimeout={7000}
                             smartSpeed={1500}
                             margin={30}
                             navigation={true}
                             navText={["<i class='fa fa-angle-left'></i>","<i class='fa fa-angle-right'></i>"]}
                            responsive={responsive}
                             >
                                  <div class="item">
                                      <div class="box">
                                          <div class="icon">
                                              <img src="images/icon_dashslider1.svg" alt="" />
                                          </div>
                                          <div class="edu_txt">
                                              <h2>Communicate With Your Customers</h2>
                                              <div class="desc">
                                                  <p>Good communication is a key factor for creating successful collaborations. Reply quickly to all your customers’ inquiries, provide information and proactively update on your progress throughout the entire order process.</p>
                                              </div>
                                              <div class="buttons">
                                                  <a href="javascript:" class="btndefault">Learn More</a>
                                              </div>
                                          </div>
                                      </div>
                                  </div>
                                  <div class="item">
                                      <div class="box">
                                          <div class="icon">
                                              <img src="images/icon_dashslider2.svg" alt="" />
                                          </div>
                                          <div class="edu_txt">
                                              <h2>Business Software for OTT</h2>
                                              <div class="desc">
                                                  <p>AND CO helps you with everything from invoicing, payment to time and task tracking. Use code “FIVERR15” for 15% off your first year</p>
                                              </div>
                                              <div class="buttons">
                                                  <a href="javascript:" class="btndefault">Get Started</a>
                                              </div>
                                          </div>
                                      </div>
                                  </div>
                              </OwlCarousel>
                              <div class="clearfix"></div>
                          </div>
                      </article>
                  </div>
                  <div class="clearfix"></div>
              </div>
              <div class="clearfix"></div>
          </section>)
        }
        else {
          return(<div class="container loader_cont"><ActivityLoader
            type="Triangle"
             color="black"
             height={100}
             width={100}
             timeout={30000}/>
             <h3>{loading_msg}</h3>
             </div>)
        }
    }
    else {
      return(<Not_Found/>)
    }
  }
}
export default DashboardLandingPage;
