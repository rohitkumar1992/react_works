{"ast":null,"code":"var _jsxFileName = \"/var/www/html/REACT_WORK/playflix/src/container/PhoneLogin/PhoneLogin.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { LOGIN, COUNTRYCODE, PARTNER_ID, GET_TOKEN, USERID, UUID } from '../../url';\nimport { ToastContainer, toast, cssTransition } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport $ from 'jquery';\nconst Zoom = cssTransition({\n  enter: 'zoomIn',\n  exit: 'zoomOut',\n  duration: 750\n});\n\nclass PhoneLogin extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      mobile_num: '',\n      isSubmit: false\n    };\n\n    this.formSubmit = e => {\n      e.preventDefault();\n\n      if (e.target.mobile_num.value.trim() == '' || e.target.mobile_num.value.trim().length != 10) {\n        return false;\n      }\n\n      $('#mob_num').prop('disabled', true);\n      this.setState({\n        isSubmit: true\n      });\n      this.getToken(e.target.mobile_num.value);\n    };\n\n    this.getToken = mobile_num => {\n      var formData1 = new FormData();\n      formData1.append('partnerid', PARTNER_ID);\n      axios.post(GET_TOKEN, formData1).then(response => {\n        if (response.status == '200') {\n          this.setState({\n            token: response.data.Token\n          }, function () {\n            this.sendOTP(mobile_num, response.data.Token);\n          });\n        } else {\n          $('#mob_num').prop('disabled', false);\n          this.setState({\n            isSubmit: false\n          });\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.sendOTP = (mobile_num, token) => {\n      var formData = new FormData();\n      formData.append('userid', USERID);\n      formData.append('country', COUNTRYCODE);\n      formData.append('partnerid', PARTNER_ID);\n      formData.append('os', 'linux');\n      formData.append('uuid', UUID);\n      formData.append('tag', 'generate');\n      formData.append('name', 'web');\n      formData.append('type', 'web');\n      formData.append('mobile', mobile_num);\n      formData.append('authprovider', 'web');\n      axios.post(LOGIN, formData, {\n        headers: {\n          'token': token\n        }\n      }).then(response => {\n        //console.log(response);\n        if (response.data.status == '4') {\n          $('#mob_num').prop('disabled', false);\n          this.setState({\n            isSubmit: false\n          });\n          toast(response.data.msg, {\n            transition: Zoom\n          });\n          return false;\n        }\n\n        this.props.changeModal('otp', mobile_num, token);\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.onChangeInput = e => {\n      const re = /^[0-9\\b]+$/;\n\n      if (e.target.value === '' || re.test(e.target.value)) {\n        this.setState({\n          mobile_num: e.target.value\n        });\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"mobile_number\",\n      class: \"mobnum\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(ToastContainer, {\n      autoClose: 2000,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"popup_l\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"images/popup_logo.png\",\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    })), React.createElement(\"form\", {\n      onSubmit: this.formSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"fields phn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Your Phone!\"), React.createElement(\"div\", {\n      class: \"field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Phone Number\")), React.createElement(\"div\", {\n      class: \"inputbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"select_lang\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      values: \"1\",\n      class: \"option\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"images/icon_lang.jpg\",\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    })))), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"mob_num\",\n      placeholder: \"Enter Number\",\n      alt: \"\",\n      name: \"mobile_num\",\n      maxlength: \"10\",\n      value: this.state.mobile_num,\n      onChange: this.onChangeInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }))), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"A 6 digit OTP will be sent to verify your mobile number!\")), !this.state.isSubmit && React.createElement(\"div\", {\n      class: \"buttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Continue\")), this.state.isSubmit && React.createElement(\"div\", {\n      class: \"buttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Loading...\")), React.createElement(\"div\", {\n      class: \"clearfix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default PhoneLogin;","map":{"version":3,"sources":["/var/www/html/REACT_WORK/playflix/src/container/PhoneLogin/PhoneLogin.js"],"names":["React","axios","LOGIN","COUNTRYCODE","PARTNER_ID","GET_TOKEN","USERID","UUID","ToastContainer","toast","cssTransition","$","Zoom","enter","exit","duration","PhoneLogin","Component","state","mobile_num","isSubmit","formSubmit","e","preventDefault","target","value","trim","length","prop","setState","getToken","formData1","FormData","append","post","then","response","status","token","data","Token","sendOTP","catch","error","console","log","formData","headers","msg","transition","props","changeModal","onChangeInput","re","test","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,KAAR,EAAcC,WAAd,EAA0BC,UAA1B,EAAqCC,SAArC,EAA+CC,MAA/C,EAAsDC,IAAtD,QAAiE,WAAjE;AACA,SAASC,cAAT,EAAyBC,KAAzB,EAA+BC,aAA/B,QAAmD,gBAAnD;AACC,OAAO,uCAAP;AACD,OAAOC,CAAP,MAAc,QAAd;AACA,MAAMC,IAAI,GAAGF,aAAa,CAAC;AAC3BG,EAAAA,KAAK,EAAE,QADoB;AAE3BC,EAAAA,IAAI,EAAE,SAFqB;AAG3BC,EAAAA,QAAQ,EAAE;AAHiB,CAAD,CAA1B;;AAKA,MAAMC,UAAN,SAAyBhB,KAAK,CAACiB,SAA/B,CAAwC;AAAA;AAAA;AAAA,SACtCC,KADsC,GAChC;AACJC,MAAAA,UAAU,EAAC,EADP;AACUC,MAAAA,QAAQ,EAAC;AADnB,KADgC;;AAAA,SAItCC,UAJsC,GAI1BC,CAAD,IAAK;AACdA,MAAAA,CAAC,CAACC,cAAF;;AACA,UAAGD,CAAC,CAACE,MAAF,CAASL,UAAT,CAAoBM,KAApB,CAA0BC,IAA1B,MAAkC,EAAlC,IAAwCJ,CAAC,CAACE,MAAF,CAASL,UAAT,CAAoBM,KAApB,CAA0BC,IAA1B,GAAiCC,MAAjC,IAAyC,EAApF,EACA;AACE,eAAO,KAAP;AACD;;AACDhB,MAAAA,CAAC,CAAC,UAAD,CAAD,CAAciB,IAAd,CAAmB,UAAnB,EAA+B,IAA/B;AACA,WAAKC,QAAL,CAAc;AAACT,QAAAA,QAAQ,EAAC;AAAV,OAAd;AACE,WAAKU,QAAL,CAAcR,CAAC,CAACE,MAAF,CAASL,UAAT,CAAoBM,KAAlC;AACH,KAbqC;;AAAA,SActCK,QAdsC,GAc5BX,UAAD,IAAc;AACrB,UAAIY,SAAS,GAAC,IAAIC,QAAJ,EAAd;AACAD,MAAAA,SAAS,CAACE,MAAV,CAAiB,WAAjB,EAA6B7B,UAA7B;AACAH,MAAAA,KAAK,CAACiC,IAAN,CAAW7B,SAAX,EAAqB0B,SAArB,EAAgCI,IAAhC,CAAsCC,QAAD,IAAY;AAC7C,YAAGA,QAAQ,CAACC,MAAT,IAAiB,KAApB,EAA0B;AACxB,eAAKR,QAAL,CAAc;AAACS,YAAAA,KAAK,EAACF,QAAQ,CAACG,IAAT,CAAcC;AAArB,WAAd,EAA0C,YAAU;AAClD,iBAAKC,OAAL,CAAatB,UAAb,EAAwBiB,QAAQ,CAACG,IAAT,CAAcC,KAAtC;AACD,WAFD;AAGD,SAJD,MAKI;AACF7B,UAAAA,CAAC,CAAC,UAAD,CAAD,CAAciB,IAAd,CAAmB,UAAnB,EAA+B,KAA/B;AACA,eAAKC,QAAL,CAAc;AAACT,YAAAA,QAAQ,EAAC;AAAV,WAAd;AACD;AACF,OAVH,EAUKsB,KAVL,CAUYC,KAAD,IAAS;AAChBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,OAZH;AAaD,KA9BqC;;AAAA,SA+BtCF,OA/BsC,GA+B9B,CAACtB,UAAD,EAAYmB,KAAZ,KAAoB;AAC1B,UAAIQ,QAAQ,GAAC,IAAId,QAAJ,EAAb;AACAc,MAAAA,QAAQ,CAACb,MAAT,CAAgB,QAAhB,EAAyB3B,MAAzB;AACAwC,MAAAA,QAAQ,CAACb,MAAT,CAAgB,SAAhB,EAA0B9B,WAA1B;AACA2C,MAAAA,QAAQ,CAACb,MAAT,CAAgB,WAAhB,EAA4B7B,UAA5B;AACA0C,MAAAA,QAAQ,CAACb,MAAT,CAAgB,IAAhB,EAAqB,OAArB;AACAa,MAAAA,QAAQ,CAACb,MAAT,CAAgB,MAAhB,EAAuB1B,IAAvB;AACAuC,MAAAA,QAAQ,CAACb,MAAT,CAAgB,KAAhB,EAAsB,UAAtB;AACAa,MAAAA,QAAQ,CAACb,MAAT,CAAgB,MAAhB,EAAuB,KAAvB;AACAa,MAAAA,QAAQ,CAACb,MAAT,CAAgB,MAAhB,EAAuB,KAAvB;AACAa,MAAAA,QAAQ,CAACb,MAAT,CAAgB,QAAhB,EAAyBd,UAAzB;AACA2B,MAAAA,QAAQ,CAACb,MAAT,CAAgB,cAAhB,EAA+B,KAA/B;AACAhC,MAAAA,KAAK,CAACiC,IAAN,CAAWhC,KAAX,EAAiB4C,QAAjB,EAA0B;AACtBC,QAAAA,OAAO,EAAE;AACP,mBAAST;AADF;AADa,OAA1B,EAIKH,IAJL,CAIWC,QAAD,IAAY;AAClB;AACA,YAAGA,QAAQ,CAACG,IAAT,CAAcF,MAAd,IAAsB,GAAzB,EAA6B;AAC3B1B,UAAAA,CAAC,CAAC,UAAD,CAAD,CAAciB,IAAd,CAAmB,UAAnB,EAA+B,KAA/B;AACA,eAAKC,QAAL,CAAc;AAACT,YAAAA,QAAQ,EAAC;AAAV,WAAd;AACEX,UAAAA,KAAK,CAAC2B,QAAQ,CAACG,IAAT,CAAcS,GAAf,EAAmB;AAAEC,YAAAA,UAAU,EAAErC;AAAd,WAAnB,CAAL;AACF,iBAAO,KAAP;AACD;;AACD,aAAKsC,KAAL,CAAWC,WAAX,CAAuB,KAAvB,EAA6BhC,UAA7B,EAAwCmB,KAAxC;AAED,OAdH,EAcKI,KAdL,CAcYC,KAAD,IAAS;AAChBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,OAhBH;AAiBD,KA5DqC;;AAAA,SA6DtCS,aA7DsC,GA6DvB9B,CAAD,IAAK;AACf,YAAM+B,EAAE,GAAG,YAAX;;AACA,UAAI/B,CAAC,CAACE,MAAF,CAASC,KAAT,KAAmB,EAAnB,IAAyB4B,EAAE,CAACC,IAAH,CAAQhC,CAAC,CAACE,MAAF,CAASC,KAAjB,CAA7B,EAAsD;AACnD,aAAKI,QAAL,CAAc;AAACV,UAAAA,UAAU,EAAEG,CAAC,CAACE,MAAF,CAASC;AAAtB,SAAd;AACF;AACH,KAlEoC;AAAA;;AAmEtC8B,EAAAA,MAAM,GACN;AACE,WAAO;AAAM,MAAA,EAAE,EAAC,eAAT;AAAyB,MAAA,KAAK,EAAC,QAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACL,oBAAC,cAAD;AAAgB,MAAA,SAAS,EAAE,IAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADK,EAEP;AAAK,MAAA,KAAK,EAAC,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,GAAG,EAAC,uBAAT;AAAiC,MAAA,GAAG,EAAC,EAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAFO,EAKP;AAAM,MAAA,QAAQ,EAAE,KAAKlC,UAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,EAEI;AAAK,MAAA,KAAK,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAP,CADF,EAEE;AAAK,MAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,KAAK,EAAC,aAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,MAAM,EAAC,GAAX;AAAe,MAAA,KAAK,EAAC,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA8B;AAAK,MAAA,GAAG,EAAC,sBAAT;AAAgC,MAAA,GAAG,EAAC,EAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA9B,CADF,CADF,CADJ,EAMI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,EAAE,EAAC,SAAtB;AAAgC,MAAA,WAAW,EAAC,cAA5C;AAA2D,MAAA,GAAG,EAAC,EAA/D;AAAkE,MAAA,IAAI,EAAC,YAAvE;AAAsF,MAAA,SAAS,EAAC,IAAhG;AAAqG,MAAA,KAAK,EAAE,KAAKH,KAAL,CAAWC,UAAvH;AAAmI,MAAA,QAAQ,EAAE,KAAKiC,aAAlJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANJ,CAFF,CAFJ,EAaI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kEAbJ,CADJ,EAgBK,CAAC,KAAKlC,KAAL,CAAWE,QAAZ,IAAwB;AAAK,MAAA,KAAK,EAAC,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACrB;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADqB,CAhB7B,EAmBK,KAAKF,KAAL,CAAWE,QAAX,IAAuB;AAAK,MAAA,KAAK,EAAC,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACpB;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,QAAQ,MAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADoB,CAnB5B,EAsBI;AAAK,MAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAtBJ,CALO,CAAP;AA8BD;;AAnGqC;;AAqGxC,eAAeJ,UAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport {LOGIN,COUNTRYCODE,PARTNER_ID,GET_TOKEN,USERID,UUID} from '../../url';\nimport { ToastContainer, toast,cssTransition} from 'react-toastify';\n import 'react-toastify/dist/ReactToastify.css';\nimport $ from 'jquery';\nconst Zoom = cssTransition({\nenter: 'zoomIn',\nexit: 'zoomOut',\nduration: 750,\n});\nclass PhoneLogin extends React.Component{\n  state={\n    mobile_num:'',isSubmit:false\n  }\n  formSubmit=(e)=>{\n    e.preventDefault();\n    if(e.target.mobile_num.value.trim()=='' || e.target.mobile_num.value.trim().length!=10)\n    {\n      return false\n    }\n    $('#mob_num').prop('disabled', true);\n    this.setState({isSubmit:true});\n      this.getToken(e.target.mobile_num.value);\n  }\n  getToken=(mobile_num)=>{\n    var formData1=new FormData();\n    formData1.append('partnerid',PARTNER_ID);\n    axios.post(GET_TOKEN,formData1).then((response)=>{\n        if(response.status=='200'){\n          this.setState({token:response.data.Token},function(){\n            this.sendOTP(mobile_num,response.data.Token)\n          })\n        }\n        else{\n          $('#mob_num').prop('disabled', false);\n          this.setState({isSubmit:false});\n        }\n      }).catch((error)=>{\n        console.log(error);\n      })\n  }\n  sendOTP=(mobile_num,token)=>{\n    var formData=new FormData();\n    formData.append('userid',USERID);\n    formData.append('country',COUNTRYCODE);\n    formData.append('partnerid',PARTNER_ID);\n    formData.append('os','linux');\n    formData.append('uuid',UUID);\n    formData.append('tag','generate');\n    formData.append('name','web');\n    formData.append('type','web');\n    formData.append('mobile',mobile_num);\n    formData.append('authprovider','web');\n    axios.post(LOGIN,formData,{\n        headers: {\n          'token': token\n        }\n      }).then((response)=>{\n        //console.log(response);\n        if(response.data.status=='4'){\n          $('#mob_num').prop('disabled', false);\n          this.setState({isSubmit:false});\n            toast(response.data.msg,{ transition: Zoom,});\n          return false;\n        }\n        this.props.changeModal('otp',mobile_num,token)\n\n      }).catch((error)=>{\n        console.log(error);\n      })\n  }\n  onChangeInput=(e)=>{\n      const re = /^[0-9\\b]+$/;\n      if (e.target.value === '' || re.test(e.target.value)) {\n         this.setState({mobile_num: e.target.value})\n      }\n   }\n  render()\n  {\n    return(<div  id=\"mobile_number\" class=\"mobnum\">\n      <ToastContainer autoClose={2000}/>\n    <div class=\"popup_l\">\n      <img src=\"images/popup_logo.png\" alt=\"\" />\n    </div>\n    <form onSubmit={this.formSubmit}>\n        <div class=\"fields phn\">\n            <h2>Your Phone!</h2>\n            <div class=\"field\">\n              <label><span>Phone Number</span></label>\n              <div class=\"inputbox\">\n                  <div class=\"select_lang\">\n                    <ul>\n                      <li values=\"1\" class=\"option\"><img src=\"images/icon_lang.jpg\" alt=\"\" /></li>\n                    </ul>\n                  </div>\n                  <input type=\"text\" id=\"mob_num\" placeholder=\"Enter Number\" alt=\"\" name=\"mobile_num\"   maxlength=\"10\" value={this.state.mobile_num} onChange={this.onChangeInput}/>\n              </div>\n            </div>\n            <p>A 6 digit OTP will be sent to verify your mobile number!</p>\n        </div>\n        {!this.state.isSubmit && <div class=\"buttons\">\n            <button type=\"submit\" >Continue</button>\n        </div>}\n        {this.state.isSubmit && <div class=\"buttons\">\n            <button type=\"submit\" disabled>Loading...</button>\n        </div>}\n        <div class=\"clearfix\"></div>\n    </form>\n    </div>)\n  }\n}\nexport default PhoneLogin;\n"]},"metadata":{},"sourceType":"module"}