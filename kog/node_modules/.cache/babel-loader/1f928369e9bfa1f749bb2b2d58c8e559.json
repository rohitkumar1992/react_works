{"ast":null,"code":"var _jsxFileName = \"/var/www/html/REACT_WORK/kog/src/container/PhoneLogin/PhoneLogin.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { LOGIN, COUNTRYCODE, PARTNER_ID, GET_TOKEN, USERID, UUID, LOGOUT } from '../../url';\nimport { ToastContainer, toast, cssTransition } from 'react-toastify';\nimport { MobileCode } from '../countrycode';\nimport 'react-toastify/dist/ReactToastify.css';\nimport $ from 'jquery';\nconst Zoom = cssTransition({\n  enter: 'zoomIn',\n  exit: 'zoomOut',\n  duration: 750\n});\n\nclass PhoneLogin extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      mobile_num: '',\n      isSubmit: false,\n      device_info: [],\n      user_id: ''\n    };\n\n    this.openNav = () => {\n      document.getElementById(\"myNav_sell\").style.height = \"100%\";\n    };\n\n    this.closeNav = () => {\n      document.getElementById(\"myNav_sell\").style.height = \"0%\";\n    };\n\n    this.formSubmit = e => {\n      e.preventDefault();\n\n      if (e.target.mobile_num.value.trim() == '' || e.target.mobile_num.value.trim().length != 10) {\n        toast(\"Mobile Number Must Be Of 10 Digit\", {\n          transition: Zoom\n        });\n        return false;\n      }\n\n      $('#mob_num').prop('disabled', true);\n      this.setState({\n        isSubmit: true\n      });\n      this.getToken(e.target.mobile_num.value.trim());\n    };\n\n    this.getToken = mobile_num => {\n      var formData1 = new FormData();\n      formData1.append('partnerid', PARTNER_ID);\n      axios.post(GET_TOKEN, formData1).then(response => {\n        if (response.status == '200') {\n          this.setState({\n            token: response.data.Token\n          }, function () {\n            this.sendOTP(mobile_num, response.data.Token);\n          });\n        } else {\n          $('#mob_num').prop('disabled', false);\n          this.setState({\n            isSubmit: false\n          });\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.sendOTP = (mobile_num, token) => {\n      var formData = new FormData();\n      formData.append('userid', USERID);\n      formData.append('country', COUNTRYCODE);\n      formData.append('partnerid', PARTNER_ID);\n      formData.append('os', 'linux');\n      formData.append('uuid', UUID);\n      formData.append('tag', 'generate');\n      formData.append('name', 'web');\n      formData.append('type', 'web');\n      formData.append('mobile', mobile_num);\n      formData.append('authprovider', 'web');\n      axios.post(LOGIN, formData, {\n        headers: {\n          'token': token\n        }\n      }).then(response => {\n        //console.log(response);\n        if (response.data.status == '4') {\n          $('#mob_num').prop('disabled', false);\n          this.setState({\n            isSubmit: false\n          });\n          console.log(response.data); //toast(response.data.msg,{ transition: Zoom,});\n\n          this.setState({\n            device_info: response.data.Device_info,\n            user_id: response.data.userid\n          }, function () {\n            this.openNav();\n          });\n          return false;\n        } else {\n          this.props.openOTP(mobile_num, token);\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.onChangeInput = e => {\n      const re = /^[0-9\\b]+$/;\n\n      if (e.target.value === '' || re.test(e.target.value)) {\n        this.setState({\n          mobile_num: e.target.value\n        });\n      }\n    };\n\n    this.logout = uuid => {\n      var formData = new FormData();\n      formData.append('userid', this.state.user_id);\n      formData.append('countrycode', COUNTRYCODE);\n      formData.append('partnerid', PARTNER_ID);\n      formData.append('uuid', uuid);\n      axios.post(LOGOUT, formData).then(response => {\n        if (response.data.status == 0) {\n          console.log(response);\n          toast(response.data.msg, {\n            transition: Zoom\n          });\n          $('#uid_' + uuid).html('Logged Out');\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n  }\n\n  componentDidMount() {\n    document.getElementById(\"myNav_sell\").style.height = \"0%\";\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"mobile_number\",\n      class: \"mobnum\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(ToastContainer, {\n      autoClose: 2000,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"myNav_sell\",\n      class: \"overlay_sell\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"javascript:void(0)\",\n      class: \"closebtn_sell\",\n      onClick: () => this.closeNav(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"\\xD7\"), React.createElement(\"div\", {\n      class: \"avail_serv_list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, this.state.device_info.length > 0 && this.state.device_info.map((res, key) => {\n      return React.createElement(\"li\", {\n        class: \"col-md-3 col-sm-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"img\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"images/face8.jpg\",\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        class: \"name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, res.device_name)), React.createElement(\"p\", {\n        onClick: () => this.logout(res.device_uuid),\n        style: {\n          cursor: 'pointer'\n        },\n        id: \"uid_\".concat(res.device_uuid),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"Logout\")));\n    })))), React.createElement(\"div\", {\n      class: \"popup_l\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"images/popup_logo.png\",\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    })), React.createElement(\"form\", {\n      onSubmit: this.formSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"fields phn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"Your Phone!\"), React.createElement(\"div\", {\n      class: \"field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"Phone Number\")), React.createElement(\"div\", {\n      class: \"inputbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"select_lang\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      name: \"mobcode\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, MobileCode.map((res, key) => {\n      return React.createElement(\"option\", {\n        values: res.dial_code,\n        class: \"option\",\n        key: key,\n        selected: COUNTRYCODE == res.code ? true : false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, res.dial_code);\n    }))), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"mob_num\",\n      placeholder: \"Enter Number\",\n      alt: \"\",\n      name: \"mobile_num\",\n      maxlength: \"10\",\n      value: this.state.mobile_num,\n      onChange: this.onChangeInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }))), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"A 6 digit OTP will be sent to verify your mobile number!\")), !this.state.isSubmit && React.createElement(\"div\", {\n      class: \"buttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"Continue\")), this.state.isSubmit && React.createElement(\"div\", {\n      class: \"buttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \"Loading...\")), React.createElement(\"div\", {\n      class: \"clearfix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default PhoneLogin;","map":{"version":3,"sources":["/var/www/html/REACT_WORK/kog/src/container/PhoneLogin/PhoneLogin.js"],"names":["React","axios","LOGIN","COUNTRYCODE","PARTNER_ID","GET_TOKEN","USERID","UUID","LOGOUT","ToastContainer","toast","cssTransition","MobileCode","$","Zoom","enter","exit","duration","PhoneLogin","Component","state","mobile_num","isSubmit","device_info","user_id","openNav","document","getElementById","style","height","closeNav","formSubmit","e","preventDefault","target","value","trim","length","transition","prop","setState","getToken","formData1","FormData","append","post","then","response","status","token","data","Token","sendOTP","catch","error","console","log","formData","headers","Device_info","userid","props","openOTP","onChangeInput","re","test","logout","uuid","msg","html","componentDidMount","render","map","res","key","device_name","device_uuid","cursor","dial_code","code"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport {LOGIN,COUNTRYCODE,PARTNER_ID,GET_TOKEN,USERID,UUID,LOGOUT} from '../../url';\nimport { ToastContainer, toast,cssTransition} from 'react-toastify';\nimport {MobileCode} from '../countrycode'\n import 'react-toastify/dist/ReactToastify.css';\nimport $ from 'jquery';\nconst Zoom = cssTransition({\nenter: 'zoomIn',\nexit: 'zoomOut',\nduration: 750,\n});\nclass PhoneLogin extends React.Component{\n  state={\n    mobile_num:'',isSubmit:false,device_info:[],user_id:''\n  }\n  openNav=()=> {\ndocument.getElementById(\"myNav_sell\").style.height = \"100%\";\n}\n\ncloseNav=()=> {\ndocument.getElementById(\"myNav_sell\").style.height = \"0%\";\n}\ncomponentDidMount()\n{\n  document.getElementById(\"myNav_sell\").style.height = \"0%\";\n}\n  formSubmit=(e)=>{\n    e.preventDefault();\n    if(e.target.mobile_num.value.trim()=='' || e.target.mobile_num.value.trim().length!=10)\n    {\n      toast(\"Mobile Number Must Be Of 10 Digit\",{ transition: Zoom,});\n      return false\n    }\n    $('#mob_num').prop('disabled', true);\n    this.setState({isSubmit:true});\n      this.getToken(e.target.mobile_num.value.trim());\n  }\n  getToken=(mobile_num)=>{\n    var formData1=new FormData();\n    formData1.append('partnerid',PARTNER_ID);\n    axios.post(GET_TOKEN,formData1).then((response)=>{\n        if(response.status=='200'){\n          this.setState({token:response.data.Token},function(){\n            this.sendOTP(mobile_num,response.data.Token)\n          })\n        }\n        else{\n          $('#mob_num').prop('disabled', false);\n          this.setState({isSubmit:false});\n        }\n      }).catch((error)=>{\n        console.log(error);\n      })\n  }\n  sendOTP=(mobile_num,token)=>{\n    var formData=new FormData();\n    formData.append('userid',USERID);\n    formData.append('country',COUNTRYCODE);\n    formData.append('partnerid',PARTNER_ID);\n    formData.append('os','linux');\n    formData.append('uuid',UUID);\n    formData.append('tag','generate');\n    formData.append('name','web');\n    formData.append('type','web');\n    formData.append('mobile',mobile_num);\n    formData.append('authprovider','web');\n    axios.post(LOGIN,formData,{\n        headers: {\n          'token': token\n        }\n      }).then((response)=>{\n        //console.log(response);\n        if(response.data.status=='4'){\n          $('#mob_num').prop('disabled', false);\n          this.setState({isSubmit:false});\n          console.log(response.data);\n          //toast(response.data.msg,{ transition: Zoom,});\n\n          this.setState({device_info:response.data.Device_info,user_id:response.data.userid},function(){this.openNav()})\n          return false;\n        }\n        else {\n            this.props.openOTP(mobile_num,token)\n        }\n      }).catch((error)=>{\n        console.log(error);\n      })\n  }\n  onChangeInput=(e)=>{\n      const re = /^[0-9\\b]+$/;\n      if (e.target.value === '' || re.test(e.target.value)) {\n         this.setState({mobile_num: e.target.value})\n      }\n   }\n   logout=(uuid)=>{\n     var formData=new FormData();\n     formData.append('userid',this.state.user_id);\n     formData.append('countrycode',COUNTRYCODE);\n     formData.append('partnerid',PARTNER_ID);\n     formData.append('uuid',uuid);\n     axios.post(LOGOUT,formData).then((response)=>{\n       if(response.data.status==0)\n       {\n         console.log(response);\n         toast(response.data.msg,{ transition: Zoom,});\n         $('#uid_'+uuid).html('Logged Out');\n       }\n     }).catch((error)=>{\n       console.log(error);\n     })\n   }\n  render()\n  {\n    return(<div  id=\"mobile_number\" class=\"mobnum\">\n      <ToastContainer autoClose={2000}/>\n      <div id=\"myNav_sell\" class=\"overlay_sell\">\n          <a href=\"javascript:void(0)\" class=\"closebtn_sell\" onClick={()=>this.closeNav()}>&times;</a>\n          <div class=\"avail_serv_list\">\n              <ul class=\"row\">\n                {this.state.device_info.length>0 && this.state.device_info.map((res,key)=>{\n                  return(<li class=\"col-md-3 col-sm-4\">\n                    <div class=\"box\">\n                      <div class=\"img\">\n                        <img src=\"images/face8.jpg\" alt=\"\" />\n                        <span class=\"name\">{res.device_name}</span>\n                      </div>\n                      <p onClick={()=>this.logout(res.device_uuid)} style={{cursor:'pointer'}} id={`uid_${res.device_uuid}`}>Logout</p>\n                    </div>\n                  </li>)\n                })}\n              </ul>\n          </div>\n        </div>\n\n    <div class=\"popup_l\">\n      <img src=\"images/popup_logo.png\" alt=\"\" />\n    </div>\n    <form onSubmit={this.formSubmit}>\n        <div class=\"fields phn\">\n            <h2>Your Phone!</h2>\n            <div class=\"field\">\n              <label><span>Phone Number</span></label>\n              <div class=\"inputbox\">\n                  <div class=\"select_lang\">\n                    <select name=\"mobcode\">\n\n                      {MobileCode.map((res,key)=>{\n                        return(<option values={res.dial_code} class=\"option\" key={key} selected={COUNTRYCODE==res.code?true:false}>{res.dial_code}</option>)\n                      })}\n                      </select>\n                  </div>\n                  <input type=\"text\" id=\"mob_num\" placeholder=\"Enter Number\" alt=\"\" name=\"mobile_num\"   maxlength=\"10\" value={this.state.mobile_num} onChange={this.onChangeInput}/>\n              </div>\n            </div>\n            <p>A 6 digit OTP will be sent to verify your mobile number!</p>\n        </div>\n        {!this.state.isSubmit && <div class=\"buttons\">\n            <button type=\"submit\" >Continue</button>\n        </div>}\n        {this.state.isSubmit && <div class=\"buttons\">\n            <button type=\"submit\" disabled>Loading...</button>\n        </div>}\n        <div class=\"clearfix\"></div>\n    </form>\n    </div>)\n  }\n}\nexport default PhoneLogin;\n"]},"metadata":{},"sourceType":"module"}