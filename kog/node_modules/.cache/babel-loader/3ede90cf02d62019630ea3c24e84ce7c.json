{"ast":null,"code":"var _jsxFileName = \"/var/www/html/REACT_WORK/kog/src/container/ViewMore/ViewMore.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport OwlCarousel from 'react-owl-carousel';\nimport 'owl.carousel/dist/assets/owl.carousel.css';\nimport 'owl.carousel/dist/assets/owl.theme.default.css';\nimport axios from 'axios';\nimport Loader from '../../component/loader/category_loader';\nimport Loader_Vert from '../../component/loader/category_vert_loader';\nimport Horizontal_Banner from '../../component/horizontal_banner/horizontal_banner';\nimport Vertical_Banner from '../../component/vertical_banner/vertical_banner';\nimport Duration from '../../component/duration';\nimport { VIEW_MORE, COUNTRYCODE, PARTNER_ID, USERID } from '../../url';\nimport $ from 'jquery';\nimport LinesEllipsis from 'react-lines-ellipsis';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport Authenticator from '../Authentication/Authentication';\n\nclass Category_list extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      categoryData: [],\n      isLoading: false,\n      cat_id: '',\n      totalData: 0,\n      totalPages: 0,\n      currentPage: 0,\n      hasMore: false,\n      title: '',\n      imageType: 'h'\n    };\n\n    this.getData = async () => {\n      var formData = new FormData();\n      formData.append('userid', USERID);\n      formData.append('countrycode', COUNTRYCODE);\n      formData.append('partnerid', PARTNER_ID);\n      formData.append('limit', this.state.imageType == 'v' ? 12 : 10);\n      formData.append('page', this.state.currentPage);\n      formData.append('categoryid', this.state.cat_id);\n      let response = await axios.post(VIEW_MORE, formData, {\n        headers: {\n          'token': localStorage.getItem('token')\n        }\n      });\n\n      if (response.status == '200') {\n        var result = response.data;\n        var totalPages = Math.ceil(result.total_video / 8);\n\n        if (totalPages >= this.state.currentPage) {\n          this.setState({\n            totalPages: totalPages,\n            currentPage: this.state.currentPage + 1,\n            hasMore: true\n          });\n        } else {\n          this.setState({\n            hasMore: false\n          });\n        }\n\n        var output = this.state.categoryData.concat(result.Category_data);\n        this.setState({\n          categoryData: output,\n          totalData: result.total_video,\n          totalPages: totalPages\n        });\n        setTimeout(() => this.setState({\n          isLoading: true\n        }), 500);\n      }\n    };\n\n    this.loadFunc = e => {\n      if (this.state.totalPages > e) {\n        setTimeout(() => this.getData(), 100);\n      } else {\n        //  console.log('hi');\n        this.setState({\n          hasMore: false\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    var imageType = this.props.location.pathname.split('/')[2];\n\n    if (imageType == 'collectionv') {\n      this.setState({\n        imageType: 'v'\n      });\n    }\n\n    if (imageType == 'collectionh') {\n      this.setState({\n        imageType: 'h'\n      });\n    }\n\n    var title = this.props.match.params.cat_name.split('_');\n    var title_final = '';\n\n    for (var i = 0; i < title.length; i++) {\n      title_final += \" \" + title[i].charAt(0).toUpperCase() + title[i].slice(1);\n    }\n\n    this.setState({\n      cat_id: this.props.match.params.catId,\n      title: title_final\n    }, function () {\n      this.getData();\n    });\n  }\n\n  componentDidUpdate() {\n    if (this.state.cat_id != this.props.match.params.catId) {\n      this.setState({\n        cat_id: this.props.match.params.catId,\n        isLoading: false\n      }, function () {\n        this.getData();\n      });\n    }\n  }\n\n  render() {\n    const categoryData = this.state.categoryData;\n    const route_name = this.props.location.pathname.split('/')[1];\n    const CategoryData = categoryData.length > 0 ? React.createElement(\"section\", {\n      class: \"cat_gal cat_tabin \".concat(this.state.imageType == 'v' ? 'cat_vertabin' : ''),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"article\", {\n      class: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"horz_cat cat_slides\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"slider_box o_data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, categoryData.map((res, key) => {\n      return React.createElement(\"div\", {\n        class: \"item col-md-3 col-sm-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/video/\".concat(res.name.replace(/\\s/g, '').toLowerCase(), \"/\").concat(res.entryid),\n        class: \"box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"img\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        class: this.state.imageType == 'v' ? 'load_place_vert_more' : 'load_place_horiz_cat',\n        src: this.state.imageType == 'v' ? res.thumburl.v_thumburl : res.thumburl.h_thumburl,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        class: \"duration\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(Duration, {\n        sec1: res.duration,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        class: \"caption\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(LinesEllipsis, {\n        text: res.name,\n        maxLine: \"1\",\n        ellipsis: \"...\",\n        trimRight: true,\n        basedOn: \"words\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      })))));\n    })), React.createElement(\"div\", {\n      class: \"clearfix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"clearfix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      class: \"clearfix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    })) : React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"No Result Found\"));\n\n    if (this.state.isLoading) {\n      return React.createElement(\"div\", {\n        class: \"inner_wrap top_div\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"center\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        class: \"h2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, this.state.title)), React.createElement(InfiniteScroll, {\n        pageStart: 0,\n        loadMore: this.loadFunc,\n        hasMore: this.state.hasMore,\n        loader: React.createElement(\"div\", {\n          className: \"loader\",\n          key: 0,\n          style: {\n            marginTop: '-100px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }, React.createElement(Loader, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        })),\n        useWindow: false,\n        threshold: 100,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, CategoryData), React.createElement(\"div\", {\n        class: \"clearfix\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }));\n    } else {\n      return this.state.imageType == \"v\" ? React.createElement(Loader_Vert, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }) : React.createElement(Loader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nexport default Authenticator(Category_list);","map":{"version":3,"sources":["/var/www/html/REACT_WORK/kog/src/container/ViewMore/ViewMore.js"],"names":["React","Link","OwlCarousel","axios","Loader","Loader_Vert","Horizontal_Banner","Vertical_Banner","Duration","VIEW_MORE","COUNTRYCODE","PARTNER_ID","USERID","$","LinesEllipsis","InfiniteScroll","Authenticator","Category_list","Component","state","categoryData","isLoading","cat_id","totalData","totalPages","currentPage","hasMore","title","imageType","getData","formData","FormData","append","response","post","headers","localStorage","getItem","status","result","data","Math","ceil","total_video","setState","output","concat","Category_data","setTimeout","loadFunc","e","componentDidMount","props","location","pathname","split","match","params","cat_name","title_final","i","length","charAt","toUpperCase","slice","catId","componentDidUpdate","render","route_name","CategoryData","map","res","key","name","replace","toLowerCase","entryid","thumburl","v_thumburl","h_thumburl","duration","marginTop"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {Link} from 'react-router-dom';\nimport OwlCarousel from 'react-owl-carousel';\nimport 'owl.carousel/dist/assets/owl.carousel.css';\nimport 'owl.carousel/dist/assets/owl.theme.default.css';\nimport axios from 'axios';\nimport Loader from '../../component/loader/category_loader';\nimport Loader_Vert from '../../component/loader/category_vert_loader';\nimport Horizontal_Banner from '../../component/horizontal_banner/horizontal_banner';\nimport Vertical_Banner from '../../component/vertical_banner/vertical_banner';\nimport Duration from '../../component/duration'\nimport {VIEW_MORE,COUNTRYCODE,PARTNER_ID,USERID} from '../../url'\nimport $ from 'jquery';\nimport LinesEllipsis from 'react-lines-ellipsis'\nimport InfiniteScroll from 'react-infinite-scroller';\nimport Authenticator from '../Authentication/Authentication'\nclass Category_list extends React.Component\n{\n  state={categoryData:[],isLoading:false,cat_id:'',totalData:0,totalPages:0,currentPage:0,hasMore:false,title:'',imageType:'h'}\n  componentDidMount()\n  {\n    var imageType=this.props.location.pathname.split('/')[2];\n      if(imageType=='collectionv')\n      {\n        this.setState({imageType:'v'})\n      }\n      if(imageType=='collectionh')\n      {\n        this.setState({imageType:'h'})\n      }\n    var title=this.props.match.params.cat_name.split('_');\n    var title_final=''\n    for(var i=0;i<title.length;i++)\n    {\n           title_final+=\" \"+title[i].charAt(0).toUpperCase()+title[i].slice(1)\n    }\n    this.setState({cat_id:this.props.match.params.catId,title:title_final},function(){\n      this.getData();\n    })\n  }\n   getData=async ()=>{\n    var formData=new FormData();\n    formData.append('userid',USERID);\n    formData.append('countrycode',COUNTRYCODE);\n    formData.append('partnerid',PARTNER_ID);\n    formData.append('limit',this.state.imageType=='v'?12:10);\n    formData.append('page',this.state.currentPage);\n    formData.append('categoryid',this.state.cat_id);\n    let response= await axios.post(VIEW_MORE,formData,{headers:{'token':localStorage.getItem('token')}});\n      if(response.status=='200')\n      {\n          var result=response.data;\n          var totalPages=Math.ceil(result.total_video/8);\n          if(totalPages>=this.state.currentPage)\n          {\n            this.setState({totalPages:totalPages,currentPage:this.state.currentPage+1,hasMore:true})\n          }\n          else {\n            this.setState({hasMore:false})\n          }\n          var output=this.state.categoryData.concat(result.Category_data)\n          this.setState({categoryData:output,totalData:result.total_video,totalPages:totalPages})\n          setTimeout(()=>this.setState({isLoading:true}),500)\n      }\n  }\n  componentDidUpdate()\n  {\n    if(this.state.cat_id!=this.props.match.params.catId)\n    {\n      this.setState({cat_id:this.props.match.params.catId,isLoading:false},function(){\n          this.getData();\n      })\n    }\n  }\nloadFunc=(e)=>{\n  if(this.state.totalPages>e)\n  {\n      setTimeout(()=>this.getData(),100)\n    }\n    else {\n    //  console.log('hi');\n      this.setState({hasMore:false})\n    }\n}\n  render()\n  {\n    const {categoryData}=this.state\n    const route_name=this.props.location.pathname.split('/')[1]\n    const CategoryData=\n          (categoryData.length>0?<section class={`cat_gal cat_tabin ${this.state.imageType=='v'?'cat_vertabin':''}`}>\n                  <article class=\"container\">\n                      <div class=\"horz_cat cat_slides\">\n                          <div class=\"slider_box o_data\">\n                          <div class=\"row\">\n                            {  categoryData.map((res,key)=>{return(<div class=\"item col-md-3 col-sm-3\">\n                                        <Link to={`/video/${(res.name.replace(/\\s/g,'')).toLowerCase()}/${res.entryid}`} class=\"box\">\n                                          <div class=\"img\">\n                                              <img  class={this.state.imageType=='v'?'load_place_vert_more':'load_place_horiz_cat'} src={this.state.imageType=='v'?res.thumburl.v_thumburl:res.thumburl.h_thumburl} alt=\"\" />\n                                              {/*res.thumburl.v_thumburl!=null && <img  class=\"load_place_vert\" src={res.thumburl.v_thumburl} alt=\"\" />*/}\n                                               <p class=\"duration\"><Duration sec1={res.duration}/></p>\n                                          </div>\n                                          <div class=\"caption\">\n                                              <p><LinesEllipsis\n                                               text={res.name}\n                                               maxLine='1'\n                                               ellipsis='...'\n                                               trimRight\n                                               basedOn='words'\n                                             /></p>\n                                          </div>\n                                      </Link>\n                                  </div>)\n                                })\n                              }\n                              </div>\n                              <div class=\"clearfix\"></div>\n                          </div>\n\n\n\n                          <div class=\"clearfix\"></div>\n                      </div>\n                  </article>\n                  <div class=\"clearfix\"></div>\n              </section>:<center><h4>No Result Found</h4></center>)\n          if(this.state.isLoading)\n          {\n    return(\n      <div class=\"inner_wrap top_div\">\n        <center><h2 class=\"h2\">{this.state.title}</h2></center>\n          <InfiniteScroll\n        pageStart={0}\n        loadMore={this.loadFunc}\n        hasMore={this.state.hasMore}\n        loader={<div className=\"loader\" key={0} style={{marginTop:'-100px'}}><Loader/></div>}\n        useWindow={false}\n        threshold={100}\n\n    >\n        {CategoryData}\n    </InfiniteScroll>\n          <div class=\"clearfix\"></div>\n      </div>\n    );\n  }\n  else {\n    return(this.state.imageType==\"v\"?<Loader_Vert />:<Loader/>)\n  }\n  }\n}\nexport default Authenticator(Category_list);\n"]},"metadata":{},"sourceType":"module"}