{"ast":null,"code":"var _jsxFileName = \"/var/www/html/REACT_WORK/playflix/src/container/PhoneLogin/PhoneLoginotp.js\";\nimport React from 'react';\nimport OtpInput from \"react-otp-input\";\nimport axios from 'axios';\nimport { LOGIN, COUNTRYCODE, PARTNER_ID, GET_TOKEN, USERID, UUID } from '../../url';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from 'react-loader-spinner';\nimport $ from 'jquery';\n\nclass PhoneLoginOtp extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      OTP: '',\n      otpShow: '',\n      warning: false,\n      isSubmit: false,\n      waitLogin: false\n    };\n\n    this.formSubmit = async e => {\n      e.preventDefault();\n      this.setState({\n        isSubmit: true\n      });\n      var formData = new FormData();\n      var token = this.props.headers;\n      const headers = {\n        'token': token\n      };\n      formData.append('country', COUNTRYCODE);\n      formData.append('partnerid', PARTNER_ID);\n      formData.append('os', 'linux');\n      formData.append('uuid', UUID);\n      formData.append('tag', 'verify');\n      formData.append('name', 'web');\n      formData.append('type', 'web');\n      formData.append('mobile', this.props.mobile_num);\n      formData.append('authprovider', 'web');\n      formData.append('otp', this.state.OTP);\n      let response = await axios.post(LOGIN, formData, {\n        headers: headers\n      }); //  console.log(response);\n\n      if (response.data.status == '1') {\n        this.props.changeModal('signup', response.data.userid);\n      }\n\n      if (response.data.status == '2') {\n        localStorage.setItem('userid', response.data.userid);\n        localStorage.setItem('token', this.props.headers);\n        this.setState({\n          waitLogin: true\n        });\n        setTimeout(() => this.props.history.push('/'), 2000);\n      } else {\n        this.setState({\n          warning: true,\n          isSubmit: false\n        });\n      }\n    };\n\n    this.handleChange = otp => {\n      // console.log(otp);\n      // var exp=/^[0-9]+$/;\n      //   //    this.setState({OTP:otp})}\n      if (otp.toString().length <= 6) {\n        //console.log(otp.toString());\n        this.setState({\n          OTP: otp.toString()\n        });\n      }\n    };\n  }\n\n  render() {\n    if (!this.state.waitLogin) {\n      return React.createElement(\"div\", {\n        class: \"mobnum\",\n        id: \"mobile_number\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"popup_l\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"images/popup_logo.png\",\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      })), React.createElement(\"form\", {\n        onSubmit: this.formSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"fields phn\",\n        style: {\n          minWidth: \"275px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"OTP Verification!\"), React.createElement(\"p\", {\n        class: \"otp\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Enter the OTP you received to \", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, this.props.mobile_num)), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(OtpInput, {\n        onChange: otp => this.handleChange(otp),\n        numInputs: 6,\n        isInputNum: true,\n        value: this.state.OTP,\n        separator: React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, \"-\"),\n        shouldAutoFocus: true,\n        inputStyle: {\n          width: '45px',\n          color: 'black'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }))), this.state.warning && React.createElement(\"span\", {\n        style: {\n          color: 'red'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Incorrect OTP\"), !this.state.isSubmit && React.createElement(\"div\", {\n        class: \"buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        disabled: this.state.OTP.length == 6 ? false : true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Continue\")), this.state.isSubmit && React.createElement(\"div\", {\n        class: \"buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        disabled: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"Loading....\")), React.createElement(\"div\", {\n        class: \"clearfix\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      })));\n    } else {\n      return React.createElement(\"div\", {\n        class: \"mobnum login_load\",\n        id: \"mobile_number\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"popup_l\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"images/popup_logo.png\",\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      })), React.createElement(Loader, {\n        type: \"Rings\",\n        color: \"#9012cd\",\n        height: 100,\n        width: 100,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Signing In ,Please Wait\"));\n    }\n  }\n\n}\n\nexport default PhoneLoginOtp;","map":{"version":3,"sources":["/var/www/html/REACT_WORK/playflix/src/container/PhoneLogin/PhoneLoginotp.js"],"names":["React","OtpInput","axios","LOGIN","COUNTRYCODE","PARTNER_ID","GET_TOKEN","USERID","UUID","Loader","$","PhoneLoginOtp","Component","state","OTP","otpShow","warning","isSubmit","waitLogin","formSubmit","e","preventDefault","setState","formData","FormData","token","props","headers","append","mobile_num","response","post","data","status","changeModal","userid","localStorage","setItem","setTimeout","history","push","handleChange","otp","toString","length","render","minWidth","width","color"],"mappings":"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","sourcesContent":["import React from 'react';\nimport OtpInput from \"react-otp-input\";\nimport axios from 'axios';\nimport {LOGIN,COUNTRYCODE,PARTNER_ID,GET_TOKEN,USERID,UUID} from '../../url';\n import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n  import Loader from 'react-loader-spinner';\n  import $ from 'jquery'\nclass PhoneLoginOtp extends React.Component{\n  state={OTP:'',otpShow:'',warning:false,isSubmit:false,waitLogin:false}\n  formSubmit=async (e)=>{\n    e.preventDefault();\n    this.setState({isSubmit:true})\n    var formData=new FormData();\n    var token=this.props.headers;\n      const headers = {\n      'token': token\n    }\n    formData.append('country',COUNTRYCODE);\n    formData.append('partnerid',PARTNER_ID);\n    formData.append('os','linux');\n    formData.append('uuid',UUID);\n    formData.append('tag','verify');\n    formData.append('name','web');\n    formData.append('type','web');\n    formData.append('mobile',this.props.mobile_num);\n    formData.append('authprovider','web');\n    formData.append('otp',this.state.OTP);\n    let response= await axios.post(LOGIN,formData,{headers:headers});\n    //  console.log(response);\n      if(response.data.status=='1')\n      {\n      this.props.changeModal('signup',response.data.userid)\n      }\n      if(response.data.status=='2'){\n        localStorage.setItem('userid',response.data.userid)\n        localStorage.setItem('token',this.props.headers)\n        this.setState({waitLogin:true})\n      setTimeout(()=>this.props.history.push('/'),2000);\n      }\n      else{\n        this.setState({warning:true,isSubmit:false})\n      }\n\n  }\n  handleChange=(otp)=>{\n    // console.log(otp);\n    // var exp=/^[0-9]+$/;\n    //   //    this.setState({OTP:otp})}\n\n     if (otp.toString().length<=6)\n     {\n       //console.log(otp.toString());\n      this.setState({OTP:otp.toString()})}\n     }\n\n  render()\n  {\n    if(!this.state.waitLogin)\n    {\n    return(<div class=\"mobnum\" id=\"mobile_number\">\n    <div class=\"popup_l\">\n      <img src=\"images/popup_logo.png\" alt=\"\" />\n    </div>\n    <form  onSubmit={this.formSubmit}>\n        <div class=\"fields phn\" style={{minWidth: \"275px\"}}>\n            <h2>OTP Verification!</h2>\n            <p class=\"otp\">Enter the OTP you received to <span>{this.props.mobile_num}</span></p>\n            {/*<div class=\"field otp\">\n              <div class=\"inputbox\">\n                <span><input type=\"text\" alt=\"\" /></span>\n                <span><input type=\"text\" alt=\"\" /></span>\n                <span><input type=\"text\" alt=\"\" /></span>\n                <span><input type=\"text\" alt=\"\" /></span>\n                <span><input type=\"text\" alt=\"\" /></span>\n                <span><input type=\"text\" alt=\"\" /></span>\n              </div>\n            </div>\n            <div class=\"otptime\">\n              <a href=\"javascript:;\" class=\"backbtn\">Resend OTP</a>\n              <span>00:60</span>\n              </div>*/}\n              {/*<input type=\"text\" name=\"mycode\" id=\"pincode-input1\"/>*/}\n              <div>\n                   <OtpInput\n                     onChange={(otp) =>this.handleChange(otp)}\n                     numInputs={6}\n                     isInputNum={true}\n                     value={this.state.OTP}\n                     separator={<span>-</span>}\n                     shouldAutoFocus={true}\n                     inputStyle={{width:'45px',color:'black'}}\n                   />\n                 </div>\n        </div>\n        {this.state.warning && <span style={{color:'red'}}>Incorrect OTP</span>}\n          {!this.state.isSubmit && <div class=\"buttons\">\n            <button type=\"submit\" disabled={(this.state.OTP.length)==6?false:true}>Continue</button>\n        </div>}\n        {this.state.isSubmit && <div class=\"buttons\">\n            <button type=\"submit\" disabled>Loading....</button>\n        </div>}\n        <div class=\"clearfix\"></div>\n    </form>\n    </div>)\n  }\n  else {\n    return(<div class=\"mobnum login_load\" id=\"mobile_number\">\n    <div class=\"popup_l\">\n      <img src=\"images/popup_logo.png\" alt=\"\" />\n    </div>\n    <Loader\n        type=\"Rings\"\n        color=\"#9012cd\"\n        height={100}\n        width={100}\n\n     />\n     <p>Signing In ,Please Wait</p>\n  </div>)\n  }\n  }\n}\nexport default PhoneLoginOtp;\n"]},"metadata":{},"sourceType":"module"}