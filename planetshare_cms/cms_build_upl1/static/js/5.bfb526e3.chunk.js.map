{"version":3,"sources":["container/Payment/payment.js"],"names":["Checkout","props","_this","Object","_var_www_html_OTT_LIVE_WORK_REACT_WORK_planetshare_cms_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_var_www_html_OTT_LIVE_WORK_REACT_WORK_planetshare_cms_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_var_www_html_OTT_LIVE_WORK_REACT_WORK_planetshare_cms_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","state","payment_id","order_id","amount","id","getdetails","axios","post","concat","then","response","console","log","catch","error","sendPaymentId","paymentId","alert","openCheckout","req_id","redirect_url","options","key","currency","name","description","image","handler","razorpay_payment_id","PAYMENT","assign_tasks_id","data","success","window","location","href","prefill","email","contact","notes","address","theme","color","Razorpay","open","changeAmount","bind","_var_www_html_OTT_LIVE_WORK_REACT_WORK_planetshare_cms_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","match","params","history","push","price","redirect","link","setState","e","target","value","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","React","Component"],"mappings":"6UAKMA,cAOJ,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAPRQ,MAAQ,CACNC,WAAW,GACXC,SAAS,GAAGC,OAAO,EACnBC,GAAG,IAGcX,EAqBnBY,WAAW,SAACD,GAEVE,IAAMC,KAAN,yCAAAC,OAAoDJ,GAAK,IAE1DK,KAAK,SAAAC,GACJC,QAAQC,IAAIF,KAEbG,MAAM,SAAUC,GACfH,QAAQC,IAAIE,MA7BKrB,EAmCnBsB,cAAc,SAACC,GACbC,MAAMD,IApCWvB,EAsCnByB,aAAa,SAACf,EAAOgB,EAAOC,GACtB3B,EAAKO,MAAMG,OAAjB,IACMkB,EAAU,CACZC,IAAO,0BACPnB,OAAiB,IAAPA,EACVoB,SAAY,MACZC,KAAQ,WACRC,YAAe,uBACfC,MAAS,iBACTC,QAAW,SAASjB,GAClBC,QAAQC,IAAIF,EAASkB,qBACnBtB,IAAMC,KAAKsB,IACb,CAACC,gBAAgBX,IAChBV,KAAK,SAAAC,GACsB,GAAvBA,EAASqB,KAAKC,UAEfC,OAAOC,SAASC,KAAK,IAAIf,KAG5BP,MAAM,SAAUC,GACfH,QAAQC,IAAIE,KAMZ,wCAAAN,OAAkDE,EAASkB,oBAA3D,aAWJQ,QAAW,CACTZ,KAAQ,iBACRa,MAAS,sBACTC,QAAU,cAEZC,MAAS,CACPC,QAAW,eAEbC,MAAS,CACPC,MAAS,YAIJ,IAAIT,OAAOU,SAAStB,GAAcuB,QAtF3CnD,EAAKoD,aAAepD,EAAKoD,aAAaC,KAAlBpD,OAAAqD,EAAA,EAAArD,QAAAqD,EAAA,EAAArD,CAAAD,KACpBA,EAAKyB,aAAezB,EAAKyB,aAAa4B,KAAlBpD,OAAAqD,EAAA,EAAArD,QAAAqD,EAAA,EAAArD,CAAAD,KACpBA,EAAKY,WAAaZ,EAAKY,WAAWyC,KAAhBpD,OAAAqD,EAAA,EAAArD,QAAAqD,EAAA,EAAArD,CAAAD,KAJDA,mFAQjB,IAAIsC,EAAKnC,KAAKJ,MAAM0C,SAASH,KACzB3B,EAAGR,KAAKJ,MAAMwD,MAAMC,OAAO7C,GAC/B,GAAS,MAAN2B,EAECnC,KAAKJ,MAAM0D,QAAQC,KAAK,SAEvB,CACL,IAAIhD,EAAO4B,EAAKqB,MACZC,EAAQ,YAAA7C,OAAauB,EAAKuB,MAC9B1D,KAAK2D,SAAS,CAACpD,OAAOA,EAAOC,GAAGA,IAC9BR,KAAKsB,aAAaf,EAAOC,EAAGiD,yCAcnBG,GACX5D,KAAK2D,SAAS,CAACpD,OAAQqD,EAAEC,OAAOC,yCA2DhC,OACEC,EAAAC,EAAAC,cAAA,mBApGiBC,IAAMC,WA0GdxE","file":"static/js/5.bfb526e3.chunk.js","sourcesContent":["import React from 'react';\nimport Razorpay from 'razorpay';\nimport axios from 'axios';\nimport  {Redirect} from 'react-router-dom';\nimport {PAYMENT} from '../../url'\nclass Checkout extends React.Component{\n  state = {\n    payment_id:'',\n    order_id:'',amount:0,\n    id:''\n  };\n\n  constructor(props) {\n    super(props)\n    this.changeAmount = this.changeAmount.bind(this);\n    this.openCheckout = this.openCheckout.bind(this);\n    this.getdetails = this.getdetails.bind(this);\n  }\n  componentDidMount()\n  {\n    var data=this.props.location.data;\n    var id=this.props.match.params.id;\n    if(data==null)\n    {\n        this.props.history.push('/');\n    }\n    else {\n    var amount=data.price;\n    var redirect=`services/${data.link}`;\n    this.setState({amount:amount,id:id});\n      this.openCheckout(amount,id,redirect);\n    }\n  }\n  getdetails=(id)=>\n  {\n    axios.post(`https://api.razorpay.com/v1/payments/:${id}`,{\n    })\n  .then(response=>{\n    console.log(response);\n  })\n  .catch(function (error) {\n    console.log(error);\n  });\n  }\n  changeAmount(e) {\n    this.setState({amount: e.target.value})\n  }\n  sendPaymentId=(paymentId)=>{\n    alert(paymentId);\n  }\n  openCheckout=(amount,req_id,redirect_url)=>{\n  var x=this.state.amount;\n    let options = {\n      \"key\": \"rzp_test_hgYa6e7RNnPSJf\",\n      \"amount\": amount*100, // 2000 paise = INR 20, amount in paisa\n      \"currency\": \"INR\",\n      \"name\": \"Shantanu\",\n      \"description\": \"Purchase Description\",\n      \"image\": \"/your_logo.png\",\n      \"handler\": function(response){\n        console.log(response.razorpay_payment_id);\n          axios.post(PAYMENT,\n        {assign_tasks_id:req_id})\n        .then(response=>{\n          if(response.data.success==1)\n          {\n            window.location.href='#'+redirect_url+'';\n          }\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n        // window.location.href='/';\n        let data = {\n          \"key\": \"rzp_test_hgYa6e7RNnPSJf\",\n          \"amount\":\"500\", // 2000 paise = INR 20, amount in paisa\n          \"hostUrl\":`https://api.razorpay.com/v1/payments/${response.razorpay_payment_id}/capture`\n        }\n      //   axios.post(`https://api.razorpay.com/v1/payments/${response.razorpay_payment_id}/capture`,\n      // {key_id:'rzp_test_hgYa6e7RNnPSJf',amount:x,checkcookie:1})\n      // .then(response=>{\n      //   console.log(response);\n      // })\n      // .catch(function (error) {\n      //   console.log(error);\n      // });\n            },\n      \"prefill\": {\n        \"name\": \"Shantanu Gupta\",\n        \"email\": \"shaang616@gmail.com\",\n        \"contact\":\"9654636775\"\n      },\n      \"notes\": {\n        \"address\": \"Hello World\"\n      },\n      \"theme\": {\n        \"color\": \"#3583D2\"\n      }\n    };\n\n    let rzp =new window.Razorpay(options); rzp.open();\n  }\n\n  render () {\n    return (\n      <div>\n      </div>\n    )\n  }\n}\n\nexport default Checkout\n// <input type='text' onChange={\n//    this.changeAmount\n//   } />\n"],"sourceRoot":""}