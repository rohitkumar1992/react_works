{"version":3,"sources":["container/Request/tagging_request.js"],"names":["Request","state","list","show","activePage","itemsCountPerPage","totalItemsCount","pageRangeDisplayed","pageNumber","search","loader","statusMessage","status_change_loader","downloadVideo","video_id","title","axios","url","TAGGING_VIDEO_DOWNLOAD","method","responseType","data","tagging_id","then","response","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","handlePageChange","searchKeyword","email","localStorage","getItem","post","concat","TAGGING_ORDERS","request_coming_from","result","setTimeout","_this","setState","current_page","per_page","total","catch","error","console","log","nextProps","this","host_url","thumbnail","react__WEBPACK_IMPORTED_MODULE_5___default","a","src","style","width","height","status","payment_id","file_name","textAlign","marginLeft","className","cursor","color","_this2","TAGGING_ORDERS_STATUS","content","e","target","value","_this3","videolist","length","map","key","react_router_dom__WEBPACK_IMPORTED_MODULE_12__","to","id","class","autotag_id","created_at","action","_component_flashmessages_successalert__WEBPACK_IMPORTED_MODULE_16__","_component_searchbar_searchbar__WEBPACK_IMPORTED_MODULE_9__","placeholder","clicked","searchHandler","bind","marginTop","_component_loader_loader_js__WEBPACK_IMPORTED_MODULE_15__","scope","react_js_pagination__WEBPACK_IMPORTED_MODULE_10___default","onChange","itemClass","linkClass","Component","withRouter"],"mappings":"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","file":"static/js/10.f9582d3b.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport {BrowserRouter as Router,Route,Redirect,Switch,HashRouter} from \"react-router-dom\";\nimport {Button} from 'primereact/button';\nimport {TAGGING_ORDERS,TAGGING_ORDERS_STATUS,VIDEO_DOWNLOAD,TAGGING_VIDEO_DOWNLOAD} from '../../url.js';\nimport SearchBar from '../../component/searchbar/searchbar';\nimport Pagination from \"react-js-pagination\";\nimport Action from '../../component/Action/action.js';\nimport {Link,withRouter} from 'react-router-dom';\nimport thumb from '../../video_thumb.png';\nimport Loader from '../../component/loader/loader.js';\nimport SuccessAlert from '../../component/flashmessages/successalert';\nimport './request.css';\nclass Request extends Component {\n  state={\n    list:[],\n    show:false,\n    activePage:1,\n    itemsCountPerPage:1,\n    totalItemsCount:1,\n    pageRangeDisplayed:3,\n    pageNumber:'1',\n    search:'',\n    loader:false,\n    statusMessage:'',\n    status_change_loader:false\n  }\n  componentWillReceiveProps(nextProps){\nthis.handlePageChange('1');\n}\n      componentDidMount()\n      {\n        this.handlePageChange('1');\n      }\n      video_thumb(host_url,thumbnail,video_id)\n      {\n  return <img src={`${thumbnail}`} style={{width:'70px',height:'60px'}}/>\n      }\n      action(status,tagging_id,payment_id,file_name) {\n        var payment_status=payment_id==null?6:status;\n       return (\n         <div style={{textAlign:'center',marginLeft:'-60px'}}>\n               <i className=\"fa fa-trash \" style={{width:'2em',height:'2em',cursor:'pointer',color:'#d9534f'}} ></i>\n               <i className=\"fa fa-edit\" style={{width:'2em',height:'2em',cursor:'pointer',color:'green'}} ></i>\n               {/*<i style={{width:'2em',height:'2em'}} ><Action tag=\"services_tagging\" file_name={file_name} status={payment_status}  id={tagging_id} download_video={this.downloadVideo.bind(this)} status_change={this.statuschange.bind(this)}/></i>*/}\n        </div>);\n   }\n   downloadVideo=(video_id,title)=>\n   {\n     axios({\n       url: TAGGING_VIDEO_DOWNLOAD, //your url\n       method: 'POST',\n       responseType: 'blob', // important\n       data:{tagging_id:video_id},\n     }).then((response) => {\n        const url = window.URL.createObjectURL(new Blob([response.data]));\n        const link = document.createElement('a');\n        link.href = url;\n        link.setAttribute('download', title); //or any other extension\n        document.body.appendChild(link);\n        link.click();\n     });\n   }\n   statuschange(status,tagging_id)\n   {\n    this.setState({status_change_loader:true})\n     axios.post(TAGGING_ORDERS_STATUS, {\n         tagging_id:tagging_id,\n         status:status\n         })\n       .then(response=>{\n         this.setState({statusMessage:'Status Updated',status_change_loader:false});\n         this.handlePageChange(this.state.pageNumber);\n       })\n       .catch(function (error) {\n         console.log(error);\n     });\n   }\n   handlePageChange=(pageNumber,searchKeyword)=> {\n   var email=localStorage.getItem('email');\n     axios.post(`${TAGGING_ORDERS}?page=${pageNumber}`, {\n       email:email,\n       searchKeyword:searchKeyword,\n       request_coming_from:'dashboard'\n     })\n   .then(response=>{\n   var result=response.data.data;\n   setTimeout(()=>{this.setState({\n                 activePage:result.current_page,\n                 itemsCountPerPage:result.per_page,\n                 totalItemsCount:result.total,\n                 list:result.data,\n                 show:true,\n                 pageNumber:pageNumber,\n                 loader:true,\n                 statusMessage:''\n                 });\n               },1500);\n   })\n   .catch(function (error) {\n     console.log(error);\n   });\n     }\n     status(status,payment_id)\n     {\n       var content='';\n       if(payment_id==null)\n       {\n         return <button className=\"inactive_button but_1  btn-primary\"  style={{cursor:'pointer',width:'68px'}}>Payment Pending</button>\n       }\n       if(status=='0' || status==0)\n       {\n         content=<button className=\"inactive_button  but_1 btn-danger\"  style={{cursor:'pointer',width:'68px'}}>Queued</button>;\n       }\n       if(status=='1' || status==1)\n       {\n         content=<button className=\"active_button but_1 btn-primary\"  style={{cursor:'pointer',width:'68px'}}>In Progress</button>;\n       }\n       if(status=='2' || status==2)\n       {\n         content=<button className=\"inactive_button  but_1 btn-success\"  style={{cursor:'pointer',width:'68px'}}>Completed</button>;\n       }\n       return content;\n     }\n     searchHandler(e)\n     {\n       this.setState({search:e.target.value});\n       this.handlePageChange('1',e.target.value);\n     }\n  render()\n  {\n    const videolist=(this.state.list.length>0 && this.state.list.map((result,key)=>{\n    return (\n      <tr>\n    <td ><Link to={`/services/tagging/details/${result.id}`}><a href=\"#\" class=\"link_col\">{result.autotag_id}</a></Link></td>\n      <td >{result.email}</td>\n      <td  >{this.status(result.status,result.payment_id)}</td>\n      <td >{result.created_at}</td>\n      <td >{this.action(result.status,result.id,result.payment_id,result.file_name)}</td>\n    </tr>)\n  }));\n  if(!this.state.loader)\n  {\n  return (<Loader content=\"Auto Tagging List\"/>);\n  }\n  else {\n    return (\n      <div >\n      { <SuccessAlert title={this.state.statusMessage} />}\n      <SearchBar placeholder=\"Search By Anything\" clicked={this.searchHandler.bind(this)} />\n      <h2 >Auto Tagging List</h2>\n      <br/><br/><br/>\n      {this.state.status_change_loader==true && <div style={{marginTop:'-30px'}}><Loader content=\"\"/></div>}\n      {this.state.status_change_loader==false && <div class=\"table-responsive\" >\n    {this.state.show && <table class=\"table\">\n    <thead class=\"tr_1\">\n      <tr>\n        <th scope=\"col\">Tagging Id</th>\n        <th scope=\"col\">Requested By</th>\n        <th scope=\"col\">Status</th>\n        <th scope=\"col\">Requested At</th>\n        <th scope=\"col\">Action</th>\n      </tr>\n    </thead>\n    {this.state.list.length>0 && <tbody>\n     {videolist}\n    </tbody>}\n    {this.state.list.length<=0 && <tbody>\n     No result Found\n    </tbody>}\n    </table>}\n    </div>}\n    {this.state.totalItemsCount > this.state.itemsCountPerPage &&<div className=\"d-flex justify-content-end\">\n    <Pagination\n              activePage={this.state.activePage}\n              itemsCountPerPage={this.state.itemsCountPerPage}\n              totalItemsCount={this.state.totalItemsCount}\n              pageRangeDisplayed={this.state.pageRangeDisplayed}\n              onChange={this.handlePageChange}\n              itemClass='page-item'\n              linkClass=\"page-link bold\"\n            /></div>}\n    </div>\n\n    )\n  }\n  }\n}\nexport default withRouter(Request);\n"],"sourceRoot":""}