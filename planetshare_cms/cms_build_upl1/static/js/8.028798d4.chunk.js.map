{"version":3,"sources":["container/Request/Request.js"],"names":["Request","state","list","show","activePage","itemsCountPerPage","totalItemsCount","pageRangeDisplayed","pageNumber","search","loader","statusMessage","status_change_loader","downloadVideo","video_id","title","axios","url","DUBBED_VIDEO_DOWNLOAD","method","responseType","data","dubb_id","then","response","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","handlePageChange","searchKeyword","email","localStorage","getItem","post","concat","DUBBED_ORDERS","request_coming_from","result","setTimeout","_this","setState","current_page","per_page","total","catch","error","console","log","nextProps","this","host_url","thumbnail","react__WEBPACK_IMPORTED_MODULE_5___default","a","src","style","width","height","status","payment_id","file_name","payment_status","textAlign","marginLeft","className","cursor","color","_component_Action_action_js__WEBPACK_IMPORTED_MODULE_11__","tag","id","status_change","statuschange","bind","download_video","_this2","DUBBED_ORDERS_STATUS","content","e","target","value","_this3","videolist","length","map","key","react_router_dom__WEBPACK_IMPORTED_MODULE_12__","to","class","dubbed_language","created_at","action","_component_flashmessages_successalert__WEBPACK_IMPORTED_MODULE_16__","_component_searchbar_searchbar__WEBPACK_IMPORTED_MODULE_9__","placeholder","clicked","searchHandler","marginTop","_component_loader_loader_js__WEBPACK_IMPORTED_MODULE_15__","scope","react_js_pagination__WEBPACK_IMPORTED_MODULE_10___default","onChange","itemClass","linkClass","Component","withRouter"],"mappings":"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","file":"static/js/8.028798d4.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport {BrowserRouter as Router,Route,Redirect,Switch,HashRouter} from \"react-router-dom\";\nimport {Button} from 'primereact/button';\nimport {DUBBED_ORDERS,DUBBED_ORDERS_STATUS,VIDEO_DOWNLOAD,DUBBED_VIDEO_DOWNLOAD} from '../../url.js';\nimport SearchBar from '../../component/searchbar/searchbar';\nimport Pagination from \"react-js-pagination\";\nimport Action from '../../component/Action/action.js';\nimport {Link,withRouter} from 'react-router-dom';\nimport thumb from '../../video_thumb.png';\nimport Loader from '../../component/loader/loader.js';\nimport SuccessAlert from '../../component/flashmessages/successalert';\nimport './request.css';\nclass Request extends Component {\n  state={\n    list:[],\n    show:false,\n    activePage:1,\n    itemsCountPerPage:1,\n    totalItemsCount:1,\n    pageRangeDisplayed:3,\n    pageNumber:'1',\n    search:'',\n    loader:false,\n    statusMessage:'',\n    status_change_loader:false\n  }\n  componentWillReceiveProps(nextProps){\n// window.location.href=`#${this.props.location.pathname}`;\nthis.handlePageChange('1');\n    //this.props.history.push(this.props.location.pathname);\n// console.log(this.props.location);\n//\n//   if (nextProps.location.state === 'desiredState') {\n//\n//   }\n}\n      componentDidMount()\n      {\n        this.handlePageChange('1');\n      }\n      video_thumb(host_url,thumbnail,video_id)\n      {\n  return <img src={`${thumbnail}`} style={{width:'70px',height:'60px'}}/>\n      }\n      action(status,dubb_id,payment_id,file_name) {\n        var payment_status=payment_id==null?6:status;\n       return (\n         <div style={{textAlign:'center',marginLeft:'-60px'}}>\n               <i className=\"fa fa-trash \" style={{width:'2em',height:'2em',cursor:'pointer',color:'#d9534f'}} ></i>\n               <i className=\"fa fa-edit\" style={{width:'2em',height:'2em',cursor:'pointer',color:'green'}} ></i>\n               <i style={{width:'2em',height:'2em'}} ><Action tag=\"services_dubb\" file_name={file_name} status={payment_status}  id={dubb_id} status_change={this.statuschange.bind(this)} download_video={this.downloadVideo.bind(this)}/></i>\n        </div>);\n   }\n   downloadVideo=(video_id,title)=>\n   {\n     axios({\n       url: DUBBED_VIDEO_DOWNLOAD, //your url\n       method: 'POST',\n       responseType: 'blob', // important\n       data:{dubb_id:video_id},\n     }).then((response) => {\n        const url = window.URL.createObjectURL(new Blob([response.data]));\n        const link = document.createElement('a');\n        link.href = url;\n        link.setAttribute('download', title); //or any other extension\n        document.body.appendChild(link);\n        link.click();\n     });\n   }\n   statuschange(status,dubb_id)\n   {\n        this.setState({status_change_loader:true})\n     axios.post(DUBBED_ORDERS_STATUS, {\n         dubb_id:dubb_id,\n         status:status\n         })\n       .then(response=>{\n         this.setState({statusMessage:'Status Updated',status_change_loader:false});\n         this.handlePageChange(this.state.pageNumber);\n       })\n       .catch(function (error) {\n         console.log(error);\n     });\n   }\n   handlePageChange=(pageNumber,searchKeyword)=> {\n   var email=localStorage.getItem('email');\n     axios.post(`${DUBBED_ORDERS}?page=${pageNumber}`, {\n       email:email,\n       searchKeyword:searchKeyword,\n       request_coming_from:'web'\n     })\n   .then(response=>{\n   var result=response.data.data;\n   setTimeout(()=>{this.setState({\n                 activePage:result.current_page,\n                 itemsCountPerPage:result.per_page,\n                 totalItemsCount:result.total,\n                 list:result.data,\n                 show:true,\n                 pageNumber:pageNumber,\n                 loader:true,\n                 statusMessage:''\n                 });\n               },1500);\n   })\n   .catch(function (error) {\n     console.log(error);\n   });\n     }\n     status(status,payment_id)\n     {\n       var content='';\n       if(payment_id==null)\n       {\n         return <button className=\"inactive_button but_1 btn-primary\"  style={{cursor:'pointer',width:'68px'}}>Payment Pending</button>\n       }\n       if(status=='0' || status==0)\n       {\n         content=<button className=\"inactive_button but_1 btn-danger\"  style={{cursor:'pointer',width:'68px'}}>Queued</button>;\n       }\n       if(status=='1' || status==1)\n       {\n         content=<button className=\"active_button but_1 btn-primary\"  style={{cursor:'pointer',width:'68px'}}>In Progress</button>;\n       }\n       if(status=='2' || status==2)\n       {\n         content=<button className=\"inactive_button  but_1 btn-success\"  style={{cursor:'pointer',width:'68px'}}>Completed</button>;\n       }\n       return content;\n     }\n     searchHandler(e)\n     {\n       this.setState({search:e.target.value});\n       this.handlePageChange('1',e.target.value);\n     }\n  render()\n  {\n    const videolist=(this.state.list.length>0 && this.state.list.map((result,key)=>{\n    return (\n      <tr>\n      <td ><Link to={`/services/dubbing/details/${result.id}`}><a href=\"#\" class=\"link_col\">{result.dubb_id}</a></Link></td>\n      <td >{result.email}</td>\n      <td >{result.dubbed_language}</td>\n      <td >{this.status(result.status,result.payment_id)}</td>\n      <td>{result.created_at}</td>\n      <td>{this.action(result.status,result.id,result.payment_id,result.file_name)}</td>\n    </tr>)\n  }));\n  if(!this.state.loader)\n  {\n  return (<Loader content=\"Dubbing List\"/>);\n  }\n  else {\n    return (\n      <div >\n      { <SuccessAlert title={this.state.statusMessage} />}\n      <SearchBar placeholder=\"Search By Anything\" clicked={this.searchHandler.bind(this)} />\n      <h2 >Dubbing List</h2>\n      <br/><br/><br/>\n      {this.state.status_change_loader==true && <div style={{marginTop:'-30px'}}><Loader content=\"\"/></div>}\n      {this.state.status_change_loader==false && <div class=\"table-responsive\" >\n    {this.state.show && <table class=\"table\">\n    <thead class=\"tr_1\">\n      <tr>\n        <th scope=\"col\">Dubbing Id</th>\n        <th scope=\"col\">Requested By</th>\n        <th scope=\"col\">Dubbed Language</th>\n        <th scope=\"col\">Status</th>\n        <th scope=\"col\">Requested At</th>\n        <th scope=\"col\">Action</th>\n      </tr>\n    </thead>\n    {this.state.list.length>0 && <tbody>\n     {videolist}\n    </tbody>}\n    {this.state.list.length<=0 && <tbody>\n     No result Found\n    </tbody>}\n    </table>}\n    </div>}\n    {this.state.totalItemsCount > this.state.itemsCountPerPage &&<div className=\"d-flex justify-content-end\">\n    <Pagination\n              activePage={this.state.activePage}\n              itemsCountPerPage={this.state.itemsCountPerPage}\n              totalItemsCount={this.state.totalItemsCount}\n              pageRangeDisplayed={this.state.pageRangeDisplayed}\n              onChange={this.handlePageChange}\n              itemClass='page-item'\n              linkClass=\"page-link bold\"\n            /></div>}\n    </div>\n\n    )\n  }\n  }\n}\nexport default withRouter(Request);\n"],"sourceRoot":""}