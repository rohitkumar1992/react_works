{"version":3,"sources":["container/Request/subtitle_request.js"],"names":["Request","state","list","show","activePage","itemsCountPerPage","totalItemsCount","pageRangeDisplayed","pageNumber","search","loader","statusMessage","status_change_loader","downloadVideo","video_id","title","axios","url","SUBTITLE_VIDEO_DOWNLOAD","method","responseType","data","subtitle_id","then","response","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","handlePageChange","searchKeyword","email","localStorage","getItem","post","concat","SUBTITLE_ORDERS","request_coming_from","result","setTimeout","_this","setState","current_page","per_page","total","catch","error","console","log","nextProps","this","host_url","thumbnail","react__WEBPACK_IMPORTED_MODULE_5___default","a","src","style","width","height","status","payment_id","file_name","payment_status","textAlign","marginLeft","className","cursor","color","_component_Action_action_js__WEBPACK_IMPORTED_MODULE_11__","tag","id","download_video","bind","status_change","statuschange","_this2","SUBTITLE_ORDERS_STATUS","content","fontsize","e","target","value","_this3","videolist","length","map","key","class","react_router_dom__WEBPACK_IMPORTED_MODULE_12__","to","language","output_file_formats","created_at","action","_component_flashmessages_successalert__WEBPACK_IMPORTED_MODULE_16__","_component_searchbar_searchbar__WEBPACK_IMPORTED_MODULE_9__","placeholder","clicked","searchHandler","marginTop","_component_loader_loader_js__WEBPACK_IMPORTED_MODULE_15__","scope","react_js_pagination__WEBPACK_IMPORTED_MODULE_10___default","onChange","itemClass","linkClass","Component","withRouter"],"mappings":"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","file":"static/js/9.d8031cfe.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport {BrowserRouter as Router,Route,Redirect,Switch,HashRouter} from \"react-router-dom\";\nimport {Button} from 'primereact/button';\nimport {SUBTITLE_ORDERS,SUBTITLE_ORDERS_STATUS,VIDEO_DOWNLOAD,SUBTITLE_VIDEO_DOWNLOAD} from '../../url.js';\nimport SearchBar from '../../component/searchbar/searchbar';\nimport Pagination from \"react-js-pagination\";\nimport Action from '../../component/Action/action.js';\nimport {Link,withRouter} from 'react-router-dom';\nimport thumb from '../../video_thumb.png';\nimport Loader from '../../component/loader/loader.js';\nimport SuccessAlert from '../../component/flashmessages/successalert';\nimport './request.css';\nclass Request extends Component {\n  state={\n    list:[],\n    show:false,\n    activePage:1,\n    itemsCountPerPage:1,\n    totalItemsCount:1,\n    pageRangeDisplayed:3,\n    pageNumber:'1',\n    search:'',\n    loader:false,\n    statusMessage:'',\n    status_change_loader:false\n  }\n  componentWillReceiveProps(nextProps){\nthis.handlePageChange('1');\n}\n      componentDidMount()\n      {\n        this.handlePageChange('1');\n      }\n      video_thumb(host_url,thumbnail,video_id)\n      {\n  return <img src={`${thumbnail}`} style={{width:'70px',height:'60px'}}/>\n      }\n      action(status,subtitle_id,payment_id,file_name) {\n            var payment_status=payment_id==null?6:status;\n       return (\n         <div style={{textAlign:'center',marginLeft:'-60px'}}>\n               <i className=\"fa fa-trash \" style={{width:'2em',height:'2em',cursor:'pointer',color:'#d9534f'}} ></i>\n               <i className=\"fa fa-edit\" style={{width:'2em',height:'2em',cursor:'pointer',color:'green'}} ></i>\n               <i style={{width:'2em',height:'2em'}} ><Action tag=\"services_subtitle\" file_name={file_name} status={payment_status}  id={subtitle_id} download_video={this.downloadVideo.bind(this)} status_change={this.statuschange.bind(this)}/></i>\n        </div>);\n   }\n   downloadVideo=(video_id,title)=>\n   {\n     axios({\n       url: SUBTITLE_VIDEO_DOWNLOAD, //your url\n       method: 'POST',\n       responseType: 'blob', // important\n       data:{subtitle_id:video_id},\n     }).then((response) => {\n        const url = window.URL.createObjectURL(new Blob([response.data]));\n        const link = document.createElement('a');\n        link.href = url;\n        link.setAttribute('download', title); //or any other extension\n        document.body.appendChild(link);\n        link.click();\n     });\n   }\n   statuschange(status,subtitle_id)\n   {\n     this.setState({status_change_loader:true})\n     axios.post(SUBTITLE_ORDERS_STATUS, {\n         subtitle_id:subtitle_id,\n         status:status\n         })\n       .then(response=>{\n         this.setState({statusMessage:'Status Updated',status_change_loader:false});\n         this.handlePageChange(this.state.pageNumber);\n       })\n       .catch(function (error) {\n         console.log(error);\n     });\n   }\n   handlePageChange=(pageNumber,searchKeyword)=> {\n   var email=localStorage.getItem('email');\n     axios.post(`${SUBTITLE_ORDERS}?page=${pageNumber}`, {\n       email:email,\n       searchKeyword:searchKeyword,\n       request_coming_from:'dashboard'\n     })\n   .then(response=>{\n   var result=response.data.data;\n   setTimeout(()=>{this.setState({\n                 activePage:result.current_page,\n                 itemsCountPerPage:result.per_page,\n                 totalItemsCount:result.total,\n                 list:result.data,\n                 show:true,\n                 pageNumber:pageNumber,\n                 loader:true,\n                 statusMessage:''\n                 });\n               },1500);\n   })\n   .catch(function (error) {\n     console.log(error);\n   });\n     }\n     status(status,payment_id)\n     {\n       var content='';\n       if(payment_id==null)\n       {\n         return <button className=\"inactive_button but_1 btn-primary\"  style={{cursor:'pointer',width:'118px'}}>Payment Pending</button>\n       }\n       if(status=='0' || status==0)\n       {\n         content=<button className=\"inactive_button but_1 btn-danger\"  style={{cursor:'pointer',width:'108px', height:'12px' ,fontsize:'12px'}}>Queued</button>;\n       }\n       if(status=='1' || status==1)\n       {\n         content=<button className=\"active_button but_1 btn-primary\"  style={{cursor:'pointer',width:'68px'}}>In Progress</button>;\n       }\n       if(status=='2' || status==2)\n       {\n         content=<button className=\"inactive_button  but_1 btn-success\"  style={{cursor:'pointer',width:'68px'}}>Completed</button>;\n       }\n       return content;\n     }\n     searchHandler(e)\n     {\n       this.setState({search:e.target.value});\n       this.handlePageChange('1',e.target.value);\n     }\n  render()\n  {\n    const videolist=(this.state.list.length>0 && this.state.list.map((result,key)=>{\n    return (\n      <tr >\n      <td class=\"ser_width\"><Link to={`/services/subtitle/details/${result.id}`}><a href=\"#\" class=\"link_col\">{result.subtitle_id}</a></Link></td>\n      <td class=\"ser_width\">{result.email}</td>\n      <td class=\"ser_width\">{result.language}</td>\n      <td class=\"ser_width\">{result.output_file_formats}</td>\n      <td >{this.status(result.status,result.payment_id)}</td>\n      <td class=\"ser_width\">{result.created_at}</td>\n      <td class=\"ser_width\">{this.action(result.status,result.id,result.payment_id,result.file_name)}</td>\n    </tr>)\n  }));\n  if(!this.state.loader)\n  {\n  return (<Loader content=\"Subtitle List\"/>);\n  }\n  else {\n    return (\n      <div >\n      { <SuccessAlert title={this.state.statusMessage} />}\n      <SearchBar placeholder=\"Search By Anything\" clicked={this.searchHandler.bind(this)} />\n      <h2 >Subtitling List</h2>\n      <br/><br/><br/>\n      {this.state.status_change_loader==true && <div style={{marginTop:'-30px'}}><Loader content=\"\"/></div>}\n      {this.state.status_change_loader==false && <div class=\"table-responsive\" >\n    {this.state.show && <table class=\"table\">\n    <thead class=\"tr_1\">\n      <tr>\n        <th  scope=\"col\">Transcoding Id</th>\n        <th scope=\"col\">Requested By</th>\n        <th scope=\"col\">Language</th>\n        <th scope=\"col\">Output Format</th>\n        <th scope=\"col\">Status</th>\n        <th scope=\"col\">Requested At</th>\n        <th scope=\"col\">Action</th>\n      </tr>\n    </thead>\n    {this.state.list.length>0 && <tbody>\n     {videolist}\n    </tbody>}\n    {this.state.list.length<=0 && <tbody>\n     No result Found\n    </tbody>}\n    </table>}\n    </div>}\n    {this.state.totalItemsCount > this.state.itemsCountPerPage &&<div className=\"d-flex justify-content-end\">\n    <Pagination\n              activePage={this.state.activePage}\n              itemsCountPerPage={this.state.itemsCountPerPage}\n              totalItemsCount={this.state.totalItemsCount}\n              pageRangeDisplayed={this.state.pageRangeDisplayed}\n              onChange={this.handlePageChange}\n              itemClass='page-item'\n              linkClass=\"page-link bold\"\n            /></div>}\n    </div>\n\n    )\n  }\n  }\n}\nexport default withRouter(Request);\n"],"sourceRoot":""}