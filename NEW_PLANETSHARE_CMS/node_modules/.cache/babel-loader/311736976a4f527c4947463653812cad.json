{"ast":null,"code":"var _jsxFileName = \"/var/www/html/REACT_WORK/NEW_PLANETSHARE_CMS/src/Container/Contact/contactlist.js\";\nimport React, { Component } from 'react';\nimport Authentication from '../Authentication/Authentication';\nimport { Link, Redirect } from \"react-router-dom\";\nimport { LOGIN, TAG, TOKEN, CONTACTLIST, USERID, HEADER, CHANGE_STATUS, toUpperCaseFilter, backdropStyle, contentStyle } from '../../url.js';\nimport BreadCrumb from '../../Component/breadcrumb';\nimport Pagination from \"react-js-pagination\";\nimport $ from 'jquery';\nimport axios from 'axios';\nimport Loader from '../../Component/Loader/loader';\nimport Modal from 'boron-react-modal/ScaleModal';\nimport Moment from 'react-moment';\nimport cogoToast from 'cogo-toast';\nimport SearchComponent from '../../Component/SearchComponent/SearchComponent';\n\nclass UserList extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isLoading: false,\n      contactList: [],\n      currentPage: 1,\n      total: 1,\n      itemsCountPerPage: 10,\n      pageRangeDisplayed: 3,\n      searchKeyword: '',\n      contact_data: []\n    };\n\n    this.getData = (page, keyword) => {\n      axios.post(`${CONTACTLIST}?page=${page}`, {\n        'tag': 'dash',\n        'limit': this.state.itemsCountPerPage,\n        'searchKeyword': keyword,\n        'user_id': USERID\n      }, HEADER).then(res => {\n        if (res.data.success == 1) {\n          var response = res.data.data;\n          this.setState({\n            currentPage: response.current_page,\n            contactList: response.data,\n            total: response.total\n          });\n          setTimeout(() => this.setState({\n            isLoading: true\n          }), 1000);\n        }\n      }).catch(error => {});\n    };\n\n    this.status = (Id, status) => {\n      var name = \"\";\n\n      if (status == 1) {\n        name = \"Resolved\";\n      }\n\n      if (status == 0) {\n        name = \"Pending\";\n      }\n\n      return React.createElement(\"div\", {\n        class: \"status_btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: `btn ${status == 1 ? 'btn-success' : 'btn-danger'} btn-sm`,\n        id: `status_${Id}`,\n        onClick: () => this.changeStatus(Id, status),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, name));\n    };\n\n    this.changeStatus = (Id, status) => {\n      cogoToast.loading('Updating Status').then(() => {\n        axios.post(CHANGE_STATUS, {\n          'tag': 'dash',\n          'user_id': USERID,\n          'role': 'contactquery',\n          'id': Id,\n          'status': !status\n        }, HEADER).then(res => {\n          if (res.data.success == 1) {\n            var list = this.state.contactList;\n\n            for (var i = 0; i < list.length; i++) {\n              if (list[i].id == Id) {\n                list[i].status = !status;\n              }\n            }\n\n            this.setState({\n              contactList: list\n            });\n          }\n        }).catch(error => {});\n        cogoToast.success('Status Changed Successfully');\n      });\n    };\n\n    this.handlePageChange = pageNumber => {\n      this.setState({\n        current_page: pageNumber\n      }, function () {\n        this.getData(pageNumber, '');\n      });\n    };\n\n    this.showModal = contact_id => {\n      let contactList = this.state.contactList.filter(data => data.id == contact_id);\n      this.setState({\n        contact_data: contactList[0]\n      }, function () {\n        this.refs.modal.show();\n      });\n    };\n\n    this.hideModal = () => {\n      this.setState({\n        err_result: []\n      });\n      this.refs.modal.hide();\n    };\n  }\n\n  componentDidMount() {\n    this.getData(1, '');\n  }\n\n  render() {\n    const _this$state = this.state,\n          contactList = _this$state.contactList,\n          isLoading = _this$state.isLoading,\n          total_pages = _this$state.total_pages,\n          contact_data = _this$state.contact_data;\n    const tableContent = contactList.length > 0 ? contactList.map((res, key) => {\n      return React.createElement(\"tr\", {\n        key: key,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        onClick: () => {\n          this.showModal(res.id);\n        },\n        style: {\n          cursor: 'pointer'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, res.request_id), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, res.name), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, res.email), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, res.phone_number), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(Moment, {\n        filter: toUpperCaseFilter,\n        element: \"span\",\n        add: {\n          hours: 5.5\n        },\n        format: \"DD/MM/YYYY HH:mm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, res.created_at)), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, this.status(res.id, res.status)));\n    }) : React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      colspan: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      class: \"noresult\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"No Result Found\")));\n\n    if (isLoading) {\n      return React.createElement(\"div\", {\n        id: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"content_area\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(BreadCrumb, {\n        name: \"ContactList\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        class: \"adds_select\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }), React.createElement(\"select\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"image\",\n        selected: this.state.imgSelect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"All\"))), React.createElement(SearchComponent, {\n        getData: this.getData,\n        currentPage: this.state.currentPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }), React.createElement(Modal, {\n        className: \"m_show model_s\",\n        ref: \"modal\",\n        backdropStyle: backdropStyle,\n        contentStyle: contentStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"modal-content\",\n        style: {},\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"modal-header text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        class: \"modal-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"Query Information (\", contact_data.request_id, \")\"), React.createElement(\"button\", {\n        type: \"button\",\n        class: \"close\",\n        \"data-dismiss\": \"modal\",\n        \"aria-label\": \"Close\",\n        onClick: this.hideModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"\\xD7\"))), React.createElement(\"div\", {\n        class: \"vd_info_desc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"box r\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        class: \"vd_info_list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"User Name :\"), \" \", React.createElement(\"span\", {\n        class: \"vl\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, contact_data.name))), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"Request Id :\"), \" \", React.createElement(\"span\", {\n        class: \"vl\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, contact_data.request_id))), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, \"Email:\"), \" \", React.createElement(\"span\", {\n        class: \"vl\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, contact_data.email))), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"Phone Number :\"), \" \", React.createElement(\"span\", {\n        class: \"vl\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, contact_data.phone_number))), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"Subject :\"), \" \", React.createElement(\"span\", {\n        class: \"vl\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, contact_data.subject))), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"Message :\"), \" \", React.createElement(\"span\", {\n        class: \"vl\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, contact_data.message))), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \"Request At :\"), \" \", React.createElement(\"span\", {\n        class: \"vl\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, contact_data.created_at)))))))), React.createElement(\"div\", {\n        class: \"table-responsive\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        class: \"table table-striped\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, \"Request Id\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, \"User Name\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, \"Phone\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, \"Request At\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, \"Status\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, tableContent)), React.createElement(Pagination, {\n        activePage: this.state.currentPage,\n        itemsCountPerPage: this.state.itemsCountPerPage,\n        totalItemsCount: this.state.total,\n        pageRangeDisplayed: this.state.pageRangeDisplayed,\n        onChange: this.getData,\n        itemClass: \"page-item\",\n        linkClass: \"page-link bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }))));\n    } else {\n      return React.createElement(\"div\", {\n        id: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(Loader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }));\n    }\n  }\n\n}\n\nexport default Authentication(UserList);","map":{"version":3,"sources":["/var/www/html/REACT_WORK/NEW_PLANETSHARE_CMS/src/Container/Contact/contactlist.js"],"names":["React","Component","Authentication","Link","Redirect","LOGIN","TAG","TOKEN","CONTACTLIST","USERID","HEADER","CHANGE_STATUS","toUpperCaseFilter","backdropStyle","contentStyle","BreadCrumb","Pagination","$","axios","Loader","Modal","Moment","cogoToast","SearchComponent","UserList","state","isLoading","contactList","currentPage","total","itemsCountPerPage","pageRangeDisplayed","searchKeyword","contact_data","getData","page","keyword","post","then","res","data","success","response","setState","current_page","setTimeout","catch","error","status","Id","name","changeStatus","loading","list","i","length","id","handlePageChange","pageNumber","showModal","contact_id","filter","refs","modal","show","hideModal","err_result","hide","componentDidMount","render","total_pages","tableContent","map","key","cursor","request_id","email","phone_number","hours","created_at","imgSelect","subject","message"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Authentication from '../Authentication/Authentication';\nimport {Link,Redirect} from \"react-router-dom\";\nimport {LOGIN,TAG,TOKEN,CONTACTLIST,USERID,HEADER,CHANGE_STATUS,toUpperCaseFilter,backdropStyle,contentStyle} from '../../url.js';\nimport BreadCrumb from '../../Component/breadcrumb';\nimport Pagination from \"react-js-pagination\";\nimport $ from 'jquery';\nimport axios from 'axios';\nimport Loader from '../../Component/Loader/loader';\nimport  Modal from 'boron-react-modal/ScaleModal';\nimport Moment from 'react-moment';\nimport cogoToast from 'cogo-toast';\nimport SearchComponent from '../../Component/SearchComponent/SearchComponent'\nclass UserList extends Component {\n  state={\n    isLoading:false,contactList:[],    currentPage:1,\n        total:1,itemsCountPerPage:10,pageRangeDisplayed:3,searchKeyword:'',contact_data:[]\n}\n  componentDidMount()\n  {\n    this.getData(1,'')\n  }\n  getData=(page,keyword)=>{\n    axios.post(`${CONTACTLIST}?page=${page}`,{\n      'tag':'dash',\n      'limit':this.state.itemsCountPerPage,\n      'searchKeyword':keyword,\n      'user_id':USERID\n    },HEADER).then((res)=>{\n        if(res.data.success==1)\n        {\n          var response=res.data.data;\n          this.setState({currentPage:response.current_page,contactList:response.data,total:response.total});\n          setTimeout(()=>this.setState({isLoading:true}),1000)\n        }\n    }).catch((error)=>{\n\n    })\n  }\n  status=(Id,status)=>{\n    var name=\"\";\n    if(status==1)\n    {\n      name=\"Resolved\";\n    }\n    if(status==0)\n    {\n      name=\"Pending\";\n    }\n      return( <div class=\"status_btn\">\n              <button type=\"button\" className={`btn ${status==1?'btn-success':'btn-danger'} btn-sm`} id={`status_${Id}`} onClick={()=>this.changeStatus(Id,status)}>{name}</button>\n            </div>);\n  }\n  changeStatus=(Id,status)=>{\n    cogoToast.loading('Updating Status').then(() => {axios.post(CHANGE_STATUS,{\n      'tag':'dash',\n      'user_id':USERID,\n      'role':'contactquery',\n      'id':Id,\n      'status':!status\n    },HEADER).then((res)=>{\n        if(res.data.success==1)\n        {\n          var list=this.state.contactList;\n            for(var i=0;i<list.length;i++)\n            {\n              if(list[i].id==Id)\n              {\n                list[i].status=!status;\n              }\n            }\n            this.setState({contactList:list});\n        }\n    }).catch((error)=>{\n\n    })\n    cogoToast.success('Status Changed Successfully');\n  });\n  }\n  handlePageChange=(pageNumber)=>{\n    this.setState({current_page: pageNumber},function()\n  {\n    this.getData(pageNumber,'')\n  });\n  }\n  showModal=(contact_id)=>{\n    let contactList=this.state.contactList.filter((data)=>data.id==contact_id);\n  this.setState({contact_data:contactList[0]},function()\n  {this.refs.modal.show();\n});\n   }\n   hideModal=()=>{\n     this.setState({err_result:[]})\n       this.refs.modal.hide();\n   }\n  render() {\n    const {contactList,isLoading,total_pages,contact_data}=this.state;\n    const tableContent=(contactList.length >0?contactList.map((res,key)=>{\n      return(<tr key={key}><td onClick={()=>{this.showModal(res.id)}} style={{cursor:'pointer'}}>{res.request_id}</td>\n                <td>{res.name}</td>\n                <td>{res.email}</td>\n                <td>{res.phone_number}</td>\n                <td><Moment filter={toUpperCaseFilter} element=\"span\"  add={{ hours: 5.5 }} format=\"DD/MM/YYYY HH:mm\">{res.created_at}</Moment></td>\n                <td>{this.status(res.id,res.status)}</td></tr>)\n    }):<tr>\n        <td colspan=\"6\"><span class=\"noresult\">No Result Found</span></td>\n      </tr>)\n    if(isLoading)\n    {\n    return (\n      <div id=\"content\">\n        <div class=\"content_area\">\n          <BreadCrumb name=\"ContactList\"/>\n          <div class=\"adds_select\">\n            <h3></h3>\n\n            <select ><option value=\"image\" selected={this.state.imgSelect}>All</option></select>\n          </div>\n          <SearchComponent getData={this.getData} currentPage={this.state.currentPage}/>\n          <Modal className=\"m_show model_s\" ref=\"modal\"  backdropStyle={backdropStyle} contentStyle={contentStyle}>\n              <div class=\"modal-content\" style={{}}>\n                <div class=\"modal-header text-center\">\n                  <h4 class=\"modal-title\">Query Information ({contact_data.request_id})</h4>\n                  <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" onClick={this.hideModal}>\n                    <span aria-hidden=\"true\">&times;</span>\n                  </button>\n                </div>\n                <div class=\"vd_info_desc\">\n                  {/*<div class=\"box l\">\n                    <div class=\"img_box\">\n                      <img src={image_data.large_thumb} style={{width:350,height:250}}/>\n                    </div>\n                  </div>*/}\n                  <div class=\"box r\">\n                    <ul class=\"vd_info_list\">\n                      <li>\n                        <p><span>User Name :</span> <span class=\"vl\">{contact_data.name}</span></p>\n                      </li>\n                      <li>\n                        <p><span>Request Id :</span> <span class=\"vl\">{contact_data.request_id}</span></p>\n                      </li>\n                      <li>\n                        <p><span>Email:</span> <span class=\"vl\">{contact_data.email}</span></p>\n                      </li>\n                      <li>\n                        <p><span>Phone Number :</span> <span class=\"vl\">{contact_data.phone_number}</span></p>\n                      </li>\n                      <li>\n                        <p><span>Subject :</span> <span class=\"vl\">{contact_data.subject}</span></p>\n                      </li>\n                      <li>\n                        <p><span>Message :</span> <span class=\"vl\">{contact_data.message}</span></p>\n                      </li>\n                      <li>\n                      <p>\n                        <span>Request At :</span> <span class=\"vl\">{contact_data.created_at}</span>\n                        </p>\n                      </li>\n\n                    </ul>\n                  </div>\n                </div>\n              </div>\n          </Modal>\n          <div class=\"table-responsive\">\n            <table class=\"table table-striped\">\n              <thead>\n                <tr>\n                  <th>Request Id</th>\n                  <th>User Name</th>\n                  <th>Email</th>\n                  <th>Phone</th>\n                  <th>Request At</th>\n                  <th>Status</th>\n                </tr>\n              </thead>\n              <tbody>\n              {tableContent}\n\n              </tbody>\n            </table>\n            <Pagination\n                      activePage={this.state.currentPage}\n                      itemsCountPerPage={this.state.itemsCountPerPage}\n                      totalItemsCount={this.state.total}\n                      pageRangeDisplayed={this.state.pageRangeDisplayed}\n                      onChange={this.getData}\n                      itemClass='page-item'\n                      linkClass=\"page-link bold\"\n                    />\n          </div>\n        </div>\n\n\n      </div>\n    );\n   }\n  else {\n    return(<div id=\"content\"><Loader/></div>);\n  }\n}\n}\n\nexport default Authentication(UserList);\n"]},"metadata":{},"sourceType":"module"}