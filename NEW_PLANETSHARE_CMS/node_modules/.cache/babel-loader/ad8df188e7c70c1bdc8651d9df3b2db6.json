{"ast":null,"code":"var React = require('react');\n\nvar transitionEvents = require('domkit/transitionEvents');\n\nvar appendVendorPrefix = require('domkit/appendVendorPrefix');\n\nvar createReactClass = require('create-react-class');\n\nvar PropTypes = require('prop-types');\n\nmodule.exports = function (animation) {\n  var Modal = createReactClass({\n    getDefaultProps: function () {\n      return {\n        className: \"\",\n        onShow: function () {},\n        onHide: function () {},\n        animation: animation,\n        keyboard: true,\n        backdrop: true,\n        closeOnClick: true,\n        modalStyle: {},\n        backdropStyle: {},\n        contentStyle: {}\n      };\n    },\n    getInitialState: function () {\n      return {\n        willHidden: false,\n        hidden: true\n      };\n    },\n    hasHidden: function () {\n      return this.state.hidden;\n    },\n    addTransitionListener: function (node, handle) {\n      if (node) {\n        var endListener = function (e) {\n          if (e && e.target !== node) {\n            return;\n          }\n\n          transitionEvents.removeEndEventListener(node, endListener);\n          handle();\n        };\n\n        transitionEvents.addEndEventListener(node, endListener);\n      }\n    },\n    handleBackdropClick: function () {\n      if (this.props.closeOnClick) {\n        this.hide();\n      }\n    },\n    render: function () {\n      var hidden = this.hasHidden();\n      if (hidden) return null;\n      var willHidden = this.state.willHidden;\n      var animation = this.props.animation;\n      var modalStyle = animation.getModalStyle(willHidden);\n      var backdropStyle = animation.getBackdropStyle(willHidden);\n      var contentStyle = animation.getContentStyle(willHidden);\n      var ref = animation.getRef(willHidden);\n      var sharp = animation.getSharp && animation.getSharp(willHidden); // Apply custom style properties\n\n      if (this.props.modalStyle) {\n        var prefixedModalStyle = appendVendorPrefix(this.props.modalStyle);\n\n        for (var style in prefixedModalStyle) {\n          modalStyle[style] = prefixedModalStyle[style];\n        }\n      }\n\n      if (this.props.backdropStyle) {\n        var prefixedBackdropStyle = appendVendorPrefix(this.props.backdropStyle);\n\n        for (var style in prefixedBackdropStyle) {\n          backdropStyle[style] = prefixedBackdropStyle[style];\n        }\n      }\n\n      if (this.props.contentStyle) {\n        var prefixedContentStyle = appendVendorPrefix(this.props.contentStyle);\n\n        for (var style in prefixedContentStyle) {\n          contentStyle[style] = prefixedContentStyle[style];\n        }\n      }\n\n      var backdrop = this.props.backdrop ? React.createElement(\"div\", {\n        style: backdropStyle,\n        onClick: this.props.closeOnClick ? this.handleBackdropClick : null\n      }) : undefined;\n\n      if (willHidden) {\n        var node = this.refs[ref];\n        this.addTransitionListener(node, this.leave);\n      }\n\n      return React.createElement(\"span\", null, React.createElement(\"div\", {\n        ref: \"modal\",\n        style: modalStyle,\n        className: this.props.className\n      }, sharp, React.createElement(\"div\", {\n        ref: \"content\",\n        tabIndex: \"-1\",\n        style: contentStyle\n      }, this.props.children)), backdrop);\n    },\n    leave: function () {\n      this.setState({\n        hidden: true\n      });\n      this.props.onHide();\n    },\n    enter: function () {\n      this.props.onShow();\n    },\n    show: function () {\n      if (!this.hasHidden()) return;\n      this.setState({\n        willHidden: false,\n        hidden: false\n      });\n      setTimeout(function () {\n        var ref = this.props.animation.getRef();\n        var node = this.refs[ref];\n        this.addTransitionListener(node, this.enter);\n      }.bind(this), 0);\n    },\n    hide: function () {\n      if (this.hasHidden()) return;\n      this.setState({\n        willHidden: true\n      });\n    },\n    toggle: function () {\n      if (this.hasHidden()) this.show();else this.hide();\n    },\n    listenKeyboard: function (event) {\n      if (this.props.keyboard && (event.key === \"Escape\" || event.keyCode === 27)) {\n        this.hide();\n      }\n    },\n    componentDidMount: function () {\n      window.addEventListener(\"keydown\", this.listenKeyboard, true);\n    },\n    componentWillUnmount: function () {\n      window.removeEventListener(\"keydown\", this.listenKeyboard, true);\n    }\n  });\n  Modal.propTypes = {\n    className: PropTypes.string,\n    keyboard: PropTypes.bool,\n    // Close the modal when esc is pressed? Defaults to true.\n    onShow: PropTypes.func,\n    onHide: PropTypes.func,\n    animation: PropTypes.object,\n    backdrop: PropTypes.bool,\n    closeOnClick: PropTypes.bool,\n    modalStyle: PropTypes.object,\n    backdropStyle: PropTypes.object,\n    contentStyle: PropTypes.object\n  };\n  return Modal;\n};","map":{"version":3,"sources":["/var/www/html/REACT_WORK/NEW_PLANETSHARE_CMS/node_modules/boron-react-modal/modalFactory.js"],"names":["React","require","transitionEvents","appendVendorPrefix","createReactClass","PropTypes","module","exports","animation","Modal","getDefaultProps","className","onShow","onHide","keyboard","backdrop","closeOnClick","modalStyle","backdropStyle","contentStyle","getInitialState","willHidden","hidden","hasHidden","state","addTransitionListener","node","handle","endListener","e","target","removeEndEventListener","addEndEventListener","handleBackdropClick","props","hide","render","getModalStyle","getBackdropStyle","getContentStyle","ref","getRef","sharp","getSharp","prefixedModalStyle","style","prefixedBackdropStyle","prefixedContentStyle","createElement","onClick","undefined","refs","leave","tabIndex","children","setState","enter","show","setTimeout","bind","toggle","listenKeyboard","event","key","keyCode","componentDidMount","window","addEventListener","componentWillUnmount","removeEventListener","propTypes","string","bool","func","object"],"mappings":"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","sourcesContent":["var React = require('react');\nvar transitionEvents = require('domkit/transitionEvents');\nvar appendVendorPrefix = require('domkit/appendVendorPrefix');\nvar createReactClass =  require('create-react-class');\nvar PropTypes =         require('prop-types');\n\nmodule.exports = function(animation){\n\n    var Modal = createReactClass({\n\n\n        getDefaultProps: function() {\n            return {\n                className: \"\",\n                onShow: function(){},\n                onHide: function(){},\n                animation: animation,\n                keyboard: true,\n                backdrop: true,\n                closeOnClick: true,\n                modalStyle: {},\n                backdropStyle: {},\n                contentStyle: {},\n            };\n        },\n\n        getInitialState: function(){\n            return {\n                willHidden: false,\n                hidden: true\n            }\n        },\n\n        hasHidden: function(){\n            return this.state.hidden;\n        },\n\n        addTransitionListener: function(node, handle){\n            if (node) {\n                var endListener = function(e) {\n                    if (e && e.target !== node) {\n                        return;\n                    }\n                    transitionEvents.removeEndEventListener(node, endListener);\n                    handle();\n                };\n                transitionEvents.addEndEventListener(node, endListener);\n            }\n        },\n\n        handleBackdropClick: function() {\n            if (this.props.closeOnClick) {\n                this.hide();\n            }\n        },\n\n        render: function() {\n\n            var hidden = this.hasHidden();\n            if (hidden) return null;\n\n            var willHidden = this.state.willHidden;\n            var animation = this.props.animation;\n            var modalStyle = animation.getModalStyle(willHidden);\n            var backdropStyle = animation.getBackdropStyle(willHidden);\n            var contentStyle = animation.getContentStyle(willHidden);\n            var ref = animation.getRef(willHidden);\n            var sharp = animation.getSharp && animation.getSharp(willHidden);\n\n            // Apply custom style properties\n            if (this.props.modalStyle) {\n                var prefixedModalStyle = appendVendorPrefix(this.props.modalStyle);\n                for (var style in prefixedModalStyle) {\n                    modalStyle[style] = prefixedModalStyle[style];\n                }\n            }\n\n            if (this.props.backdropStyle) {\n                var prefixedBackdropStyle = appendVendorPrefix(this.props.backdropStyle);\n                for (var style in prefixedBackdropStyle) {\n                    backdropStyle[style] = prefixedBackdropStyle[style];\n                }\n            }\n\n            if (this.props.contentStyle) {\n                var prefixedContentStyle = appendVendorPrefix(this.props.contentStyle);\n                for (var style in prefixedContentStyle) {\n                    contentStyle[style] = prefixedContentStyle[style];\n                }\n            }\n\n            var backdrop = this.props.backdrop? React.createElement(\"div\", {style: backdropStyle, onClick: this.props.closeOnClick? this.handleBackdropClick: null}): undefined;\n\n            if(willHidden) {\n                var node = this.refs[ref];\n                this.addTransitionListener(node, this.leave);\n            }\n\n            return (React.createElement(\"span\", null,\n                React.createElement(\"div\", {ref: \"modal\", style: modalStyle, className: this.props.className},\n                    sharp,\n                    React.createElement(\"div\", {ref: \"content\", tabIndex: \"-1\", style: contentStyle},\n                        this.props.children\n                    )\n                ),\n                backdrop\n            ))\n                ;\n        },\n\n        leave: function(){\n            this.setState({\n                hidden: true\n            });\n            this.props.onHide();\n        },\n\n        enter: function(){\n            this.props.onShow();\n        },\n\n        show: function(){\n            if (!this.hasHidden()) return;\n\n            this.setState({\n                willHidden: false,\n                hidden: false\n            });\n\n            setTimeout(function(){\n                var ref = this.props.animation.getRef();\n                var node = this.refs[ref];\n                this.addTransitionListener(node, this.enter);\n            }.bind(this), 0);\n        },\n\n        hide: function(){\n            if (this.hasHidden()) return;\n\n            this.setState({\n                willHidden: true\n            });\n        },\n\n        toggle: function(){\n            if (this.hasHidden())\n                this.show();\n            else\n                this.hide();\n        },\n\n        listenKeyboard: function(event) {\n            if (this.props.keyboard &&\n                (event.key === \"Escape\" ||\n                event.keyCode === 27)) {\n                this.hide();\n            }\n        },\n\n        componentDidMount: function(){\n            window.addEventListener(\"keydown\", this.listenKeyboard, true);\n        },\n\n        componentWillUnmount: function() {\n            window.removeEventListener(\"keydown\", this.listenKeyboard, true);\n        }\n    });\n    \n    Modal.propTypes = {\n        className: PropTypes.string,\n        keyboard: PropTypes.bool, // Close the modal when esc is pressed? Defaults to true.\n        onShow: PropTypes.func,\n        onHide: PropTypes.func,\n        animation: PropTypes.object,\n        backdrop: PropTypes.bool,\n        closeOnClick: PropTypes.bool,\n        modalStyle: PropTypes.object,\n        backdropStyle: PropTypes.object,\n        contentStyle: PropTypes.object\n    };\n    \n    return Modal;\n};\n"]},"metadata":{},"sourceType":"script"}