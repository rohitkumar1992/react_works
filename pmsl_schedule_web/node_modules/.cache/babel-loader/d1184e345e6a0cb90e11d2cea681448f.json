{"ast":null,"code":"var _jsxFileName = \"/var/www/html/REACT_WORK/Pmsl_Scheduling_Web/src/Container/Admin/ChannelMaster.js\";\nimport React from 'react';\nimport { LOGIN, TAG, TOKEN, CHANNELLIST, USERID, HEADER, CHANGE_STATUS, CREATECHANNEL, toUpperCaseFilter } from '../../url.js';\nimport Pagination from \"react-js-pagination\";\nimport $ from 'jquery';\nimport axios from 'axios';\nimport Loader from '../../Component/Loader/loader';\nimport SearchComponent from '../../Component/SearchComponent/SearchComponent';\nimport BreadCrumb from '../../Component/BreadCrumb/BreadCrumb';\nimport Portal from '../../Component/Portal/portal';\nimport Moment from 'react-moment';\n\nclass ChannelMaster extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      modal_loading: false,\n      open_portal: false,\n      auth_err: '',\n      modal_loading_msg: '',\n      modal_type: '',\n      isLoading: false,\n      employeeList: [],\n      currentPage: 1,\n      total: 1,\n      itemsCountPerPage: 10,\n      pageRangeDisplayed: 3\n    };\n\n    this.getData = (page, keyword) => {\n      axios.post(`${CHANNELLIST}?page=${page}`, {\n        'tag': 'dash',\n        'limit': this.state.itemsCountPerPage,\n        'searchKeyword': keyword,\n        'user_id': USERID\n      }, HEADER).then(res => {\n        if (res.data.success == 1) {\n          var response = res.data.data;\n          this.setState({\n            currentPage: response.current_page,\n            employeeList: response.data,\n            total: response.total\n          });\n          setTimeout(() => this.setState({\n            isLoading: true\n          }), 1000);\n        }\n      }).catch(error => {});\n    };\n\n    this.status = (Id, status) => {\n      var name = \"\";\n\n      if (status == 1) {\n        name = \"Active\";\n      }\n\n      if (status == 0) {\n        name = \"Inactive\";\n      }\n\n      return React.createElement(\"div\", {\n        class: \"status_btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: `btn ${status == 1 ? 'btn-success' : 'btn-danger'} btn-sm`,\n        id: `status_${Id}`,\n        onClick: () => this.changeStatus(Id, status),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, name));\n    };\n\n    this.changeStatus = (Id, status) => {\n      axios.post(CHANGE_STATUS, {\n        'tag': 'dash',\n        'user_id': USERID,\n        'role': 'channel_list',\n        'id': Id,\n        'status': !status\n      }, HEADER).then(res => {\n        if (res.data.success == 1) {\n          this.getData(this.state.currentPage, '');\n        }\n      }).catch(error => {});\n    };\n\n    this.createEmployee = e => {\n      e.preventDefault();\n      var name = e.target.name.value.trim();\n      var short_name = e.target.short_name.value.trim();\n      var location = e.target.location.value.trim();\n      axios.post(CREATECHANNEL, {\n        user_id: USERID,\n        channel_name: name,\n        short_name: short_name,\n        location: location,\n        tag: TAG\n      }, HEADER).then(res => {\n        if (res.data.success == 3) {} else if (res.data.success == 1) {\n          this.setState({\n            modal_loading_msg: \"Saving\",\n            modal_loading: true\n          }, function () {\n            setTimeout(() => {\n              this.setState({\n                modal_loading_msg: \"Saving\",\n                modal_loading: true\n              });\n              $(\"#portal_modal\").removeClass(\"show\");\n              $(\"body\").removeClass(\"bfix\");\n              this.getData(1, '');\n            }, 1000);\n          });\n        } else {}\n      }).catch(error => {});\n    };\n  }\n\n  componentDidMount() {\n    this.getData(1, '');\n  }\n\n  render() {\n    const {\n      open_portal,\n      auth_err,\n      employeeList,\n      isLoading,\n      total_pages,\n      modal_loading_msg,\n      modal_loading,\n      modal_type\n    } = this.state;\n    const tableContent = employeeList.length > 0 ? employeeList.map((res, key) => {\n      return React.createElement(\"tr\", {\n        key: key,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        className: \"tbl_l\",\n        onClick: () => {\n          this.setState({\n            modal_type: \"channel_master_detail\",\n            open_portal: true\n          });\n          $(\"#portal_modal\").addClass(\"show\");\n          $(\"body\").addClass(\"bfix\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, res.Channelid), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, res.channel_name), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, res.short_name), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, res.location), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(Moment, {\n        filter: toUpperCaseFilter,\n        element: \"span\",\n        format: \"DD/MM/YYYY HH:mm\",\n        add: {\n          hours: 5.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, res.created_at)), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, this.status(res.id, res.status)), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"action_buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"javascript:\",\n        class: \"btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"fas fa-edit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      })), React.createElement(\"a\", {\n        class: \"btn\",\n        href: \"javascript:\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"fas fa-trash-alt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"dropdown\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"javascript:\",\n        class: \"btn dropdown-toggle\",\n        \"data-toggle\": \"dropdown\",\n        \"aria-haspopup\": \"true\",\n        \"aria-expanded\": \"false\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"fa fa-ellipsis-v\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"dropdown-menu\",\n        \"aria-labelledby\": \"dropdownMenuButton\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        class: \"dropdown-item\",\n        href: \"javascript:;\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"fas fa-eye\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }), \" View Entries\"), React.createElement(\"a\", {\n        class: \"dropdown-item\",\n        href: \"javascript:;\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"fas fa-edit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), \" Edit\"), React.createElement(\"a\", {\n        class: \"dropdown-item\",\n        href: \"javascript;;\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"fas fa-trash-alt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }), \" Delete\"))))));\n    }) : React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      colspan: \"7\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      class: \"noresult\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"No Result Found\")));\n\n    if (isLoading) {\n      return React.createElement(\"div\", {\n        class: \"cont_area\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        id: \"sidebarCollapse\",\n        class: \"btn btn-sidebar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"fa fa-align-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }))), React.createElement(BreadCrumb, {\n        heading: \"Channel Master\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        class: \"box_t\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        class: \"btn s_btn\",\n        href: \"Javascript:\",\n        onClick: () => {\n          this.setState({\n            modal_type: \"channel_master\",\n            open_portal: true\n          });\n          $(\"#portal_modal\").addClass(\"show\");\n          $(\"body\").addClass(\"bfix\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"Add Channel \", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"fas fa-plus\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      })))), React.createElement(SearchComponent, {\n        getData: this.getData,\n        currentPage: this.state.currentPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"table-responsive\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        class: \"table table-striped\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"Channel Id\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"Name\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, \"Short Name\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, \"Location\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, \"Created At\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"Status\"), React.createElement(\"th\", {\n        class: \"ac\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \"Action\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, tableContent)), React.createElement(Pagination, {\n        activePage: this.state.currentPage,\n        itemsCountPerPage: this.state.itemsCountPerPage,\n        totalItemsCount: this.state.total,\n        pageRangeDisplayed: this.state.pageRangeDisplayed,\n        onChange: this.getData,\n        itemClass: \"page-item\",\n        linkClass: \"page-link bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      })), open_portal && React.createElement(Portal, {\n        modalType: modal_type,\n        modal_loading: modal_loading,\n        closeModal: () => this.setState({\n          auth_err: '',\n          open_portal: false,\n          modal_loading_msg: '',\n          modal_loading: false\n        }),\n        loading_msg: modal_loading_msg,\n        createEmployee: this.createEmployee,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }));\n    } else {\n      return React.createElement(\"div\", {\n        class: \"cont_area\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(Loader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }));\n    }\n  }\n\n}\n\nexport default ChannelMaster;","map":{"version":3,"sources":["/var/www/html/REACT_WORK/Pmsl_Scheduling_Web/src/Container/Admin/ChannelMaster.js"],"names":["React","LOGIN","TAG","TOKEN","CHANNELLIST","USERID","HEADER","CHANGE_STATUS","CREATECHANNEL","toUpperCaseFilter","Pagination","$","axios","Loader","SearchComponent","BreadCrumb","Portal","Moment","ChannelMaster","Component","state","modal_loading","open_portal","auth_err","modal_loading_msg","modal_type","isLoading","employeeList","currentPage","total","itemsCountPerPage","pageRangeDisplayed","getData","page","keyword","post","then","res","data","success","response","setState","current_page","setTimeout","catch","error","status","Id","name","changeStatus","createEmployee","e","preventDefault","target","value","trim","short_name","location","user_id","channel_name","tag","removeClass","componentDidMount","render","total_pages","tableContent","length","map","key","addClass","Channelid","hours","created_at","id"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {LOGIN,TAG,TOKEN,CHANNELLIST,USERID,HEADER,CHANGE_STATUS,CREATECHANNEL,toUpperCaseFilter} from '../../url.js';\nimport Pagination from \"react-js-pagination\";\nimport $ from 'jquery';\nimport axios from 'axios';\nimport Loader from '../../Component/Loader/loader';\nimport SearchComponent from '../../Component/SearchComponent/SearchComponent'\nimport BreadCrumb from '../../Component/BreadCrumb/BreadCrumb'\nimport Portal from '../../Component/Portal/portal';\nimport Moment from 'react-moment';\nclass ChannelMaster extends React.Component{\n  state={modal_loading:false,open_portal:false,auth_err:'',modal_loading_msg:'',modal_type:'',isLoading:false,employeeList:[],currentPage:1,total:1,itemsCountPerPage:10,pageRangeDisplayed:3}\n  componentDidMount()\n  {\n    this.getData(1,'');\n  }\n  getData=(page,keyword)=>{\n    axios.post(`${CHANNELLIST}?page=${page}`,{\n      'tag':'dash',\n      'limit':this.state.itemsCountPerPage,\n      'searchKeyword':keyword,\n      'user_id':USERID\n    },HEADER).then((res)=>{\n        if(res.data.success==1)\n        {\n          var response=res.data.data;\n          this.setState({currentPage:response.current_page,employeeList:response.data,total:response.total});\n          setTimeout(()=>this.setState({isLoading:true}),1000)\n        }\n    }).catch((error)=>{\n\n    })\n  }\n  status=(Id,status)=>{\n    var name=\"\";\n    if(status==1)\n    {\n      name=\"Active\";\n    }\n    if(status==0)\n    {\n      name=\"Inactive\";\n    }\n      return( <div class=\"status_btn\">\n              <button type=\"button\" className={`btn ${status==1?'btn-success':'btn-danger'} btn-sm`} id={`status_${Id}`} onClick={()=>this.changeStatus(Id,status)}>{name}</button>\n            </div>);\n  }\n  changeStatus=(Id,status)=>{\n    axios.post(CHANGE_STATUS,{\n      'tag':'dash',\n      'user_id':USERID,\n      'role':'channel_list',\n      'id':Id,\n      'status':!status\n    },HEADER).then((res)=>{\n        if(res.data.success==1)\n        {\n          this.getData(this.state.currentPage,'')\n        }\n    }).catch((error)=>{\n  });\n  }\n  createEmployee=(e)=>{\n    e.preventDefault();\n    var name=e.target.name.value.trim();\n    var short_name=e.target.short_name.value.trim();\n    var location=e.target.location.value.trim();\n    axios.post(CREATECHANNEL,\n      {\n        user_id:USERID,\n        channel_name:name,\n        short_name:short_name,\n        location:location,\n        tag:TAG\n      },HEADER).then((res)=>{\n        if(res.data.success==3)\n        {\n\n        }\n        else if(res.data.success==1)\n        {\n          this.setState({modal_loading_msg:\"Saving\",modal_loading:true},function()\n        {\n          setTimeout(()=>{this.setState({modal_loading_msg:\"Saving\",modal_loading:true});\n          $(\"#portal_modal\").removeClass(\"show\");$(\"body\").removeClass(\"bfix\");\n          this.getData(1,'');\n        },1000)\n        })\n        }\n        else {\n\n        }\n    }).catch((error)=>{\n\n    })\n  }\n  render()\n  {\n    const {open_portal,auth_err,employeeList,isLoading,total_pages,modal_loading_msg,modal_loading,modal_type}=this.state;\n    const tableContent=(employeeList.length >0?employeeList.map((res,key)=>{\n      return(<tr key={key}><td className=\"tbl_l\"  onClick={()=>{this.setState({modal_type:\"channel_master_detail\",open_portal:true});$(\"#portal_modal\").addClass(\"show\");$(\"body\").addClass(\"bfix\")}}>{res.Channelid}</td>\n                <td>{res.channel_name}</td>\n                <td>{res.short_name}</td>\n                <td>{res.location}</td>\n                <td><Moment filter={toUpperCaseFilter} element=\"span\"  format=\"DD/MM/YYYY HH:mm\" add={{hours:5.5}}>{res.created_at}</Moment></td>\n                <td>{this.status(res.id,res.status)}</td>\n                <td>\n                  <div class=\"action_buttons\">\n                    <a href=\"javascript:\" class=\"btn\"><i class=\"fas fa-edit\"></i></a>\n                    <a class=\"btn\" href=\"javascript:\"><i class=\"fas fa-trash-alt\"></i></a>\n                    <div class=\"dropdown\">\n                      <a href=\"javascript:\" class=\"btn dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                          <i class=\"fa fa-ellipsis-v\" aria-hidden=\"true\"></i>\n                      </a>\n                      <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n                          <a class=\"dropdown-item\" href=\"javascript:;\"><i class=\"fas fa-eye\"></i> View Entries</a>\n                          <a class=\"dropdown-item\" href=\"javascript:;\"><i class=\"fas fa-edit\"></i> Edit</a>\n                          <a class=\"dropdown-item\" href=\"javascript;;\"><i class=\"fas fa-trash-alt\"></i> Delete</a>\n                      </div>\n                    </div>\n                  </div>\n                </td></tr>)\n                }):<tr>\n                <td colspan=\"7\"><span class=\"noresult\">No Result Found</span></td>\n            </tr>)\n    if(isLoading)\n    {\n      return(<div class=\"cont_area\">\n        <button type=\"button\" id=\"sidebarCollapse\" class=\"btn btn-sidebar\"><span><i class=\"fa fa-align-left\"></i></span></button>\n          <BreadCrumb heading=\"Channel Master\"/>\n        <div class=\"box_t\">\n          <div class=\"buttons\">\n            <a class=\"btn s_btn\" href=\"Javascript:\" onClick={()=>{this.setState({modal_type:\"channel_master\",open_portal:true});$(\"#portal_modal\").addClass(\"show\");$(\"body\").addClass(\"bfix\")}}>Add Channel <span><i class=\"fas fa-plus\"></i></span></a>\n          </div>\n          <SearchComponent getData={this.getData} currentPage={this.state.currentPage}/>\n        </div>\n        <div class=\"table-responsive\">\n          <table class=\"table table-striped\">\n            <thead>\n              <tr>\n                <th>Channel Id</th>\n                <th>Name</th>\n                <th>Short Name</th>\n                <th>Location</th>\n                <th>Created At</th>\n                <th>Status</th>\n                <th class=\"ac\">Action</th>\n              </tr>\n            </thead>\n            <tbody>\n            {tableContent}\n\n            </tbody>\n          </table>\n          <Pagination\n                    activePage={this.state.currentPage}\n                    itemsCountPerPage={this.state.itemsCountPerPage}\n                    totalItemsCount={this.state.total}\n                    pageRangeDisplayed={this.state.pageRangeDisplayed}\n                    onChange={this.getData}\n                    itemClass='page-item'\n                    linkClass=\"page-link bold\"\n                  />\n        </div>\n        {(open_portal) &&<Portal modalType={modal_type} modal_loading={modal_loading} closeModal={()=>this.setState({auth_err:'',open_portal:false,modal_loading_msg:'',modal_loading:false})} loading_msg={modal_loading_msg} createEmployee={this.createEmployee}/>}\n        {/**/}\n      </div>)\n    }\n    else\n    {\n      return(<div class=\"cont_area\"><Loader/></div>);\n    }\n  }\n}\nexport default ChannelMaster;\n"]},"metadata":{},"sourceType":"module"}