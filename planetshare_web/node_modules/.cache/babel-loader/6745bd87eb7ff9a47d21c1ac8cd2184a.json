{"ast":null,"code":"import _classCallCheck from \"/var/www/html/REACT_WORK/planetshare_web/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/REACT_WORK/planetshare_web/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/html/REACT_WORK/planetshare_web/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/html/REACT_WORK/planetshare_web/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/html/REACT_WORK/planetshare_web/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/var/www/html/REACT_WORK/planetshare_web/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/var/www/html/REACT_WORK/planetshare_web/src/container/Buyer_Payment/payment.js\";\nimport React from 'react';\nimport Razorpay from 'razorpay';\nimport axios from 'axios';\nimport { Redirect } from 'react-router-dom';\nimport { PAYMENT } from '../../url';\n\nvar Checkout =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Checkout, _React$Component);\n\n  function Checkout(props) {\n    var _this;\n\n    _classCallCheck(this, Checkout);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Checkout).call(this, props)); // this.changeAmount = this.changeAmount.bind(this);\n\n    _this.state = {\n      payment_id: '',\n      order_id: '',\n      amount: 0,\n      id: ''\n    };\n\n    _this.sendPaymentId = function (paymentId) {\n      alert(paymentId);\n    };\n\n    _this.openCheckout = function (amount, redirect_url) {\n      var x = _this.state.amount;\n      var options = {\n        \"key\": \"rzp_test_hgYa6e7RNnPSJf\",\n        \"amount\": amount * 100,\n        // 2000 paise = INR 20, amount in paisa\n        \"currency\": \"INR\",\n        \"name\": \"Shantanu\",\n        \"description\": \"Purchase Description\",\n        \"image\": \"/your_logo.png\",\n        \"handler\": function handler(response) {\n          alert('Thanx For Ordering With Us');\n          window.location.href = redirect_url; // console.log(response.razorpay_payment_id);\n          //   axios.post(PAYMENT,\n          // {id:req_id,tag:tag,payment_id:response.razorpay_payment_id})\n          // .then(response=>{\n          //   if(response.data.success==1)\n          //   {\n          //     window.location.href=redirect_url;\n          //   }\n          // })\n          // .catch(function (error) {\n          //   console.log(error);\n          // });\n          // window.location.href='/';\n\n          var data = {\n            \"key\": \"rzp_test_hgYa6e7RNnPSJf\",\n            \"amount\": \"500\",\n            // 2000 paise = INR 20, amount in paisa\n            \"hostUrl\": \"https://api.razorpay.com/v1/payments/\".concat(response.razorpay_payment_id, \"/capture\")\n          }; //   axios.post(`https://api.razorpay.com/v1/payments/${response.razorpay_payment_id}/capture`,\n          // {key_id:'rzp_test_hgYa6e7RNnPSJf',amount:x,checkcookie:1})\n          // .then(response=>{\n          //   console.log(response);\n          // })\n          // .catch(function (error) {\n          //   console.log(error);\n          // });\n        },\n        \"prefill\": {\n          \"name\": \"Shantanu Gupta\",\n          \"email\": \"shaang616@gmail.com\",\n          \"contact\": \"9654636775\"\n        },\n        \"notes\": {\n          \"address\": \"Hello World\"\n        },\n        \"theme\": {\n          \"color\": \"#3583D2\"\n        }\n      };\n      var rzp = new window.Razorpay(options);\n      rzp.open();\n    };\n\n    _this.openCheckout = _this.openCheckout.bind(_assertThisInitialized(_assertThisInitialized(_this))); // this.getdetails = this.getdetails.bind(this);\n\n    return _this;\n  }\n\n  _createClass(Checkout, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var data = this.props.location.data;\n\n      if (data == null) {\n        this.props.history.push('/web');\n      } else {\n        var amount = data.price;\n        this.setState({\n          amount: amount\n        });\n        this.openCheckout(amount, '/');\n      }\n    } // getdetails=(id)=>\n    // {\n    //   axios.post(`https://api.razorpay.com/v1/payments/:${id}`,{\n    //   })\n    // .then(response=>{\n    //   console.log(response);\n    // })\n    // .catch(function (error) {\n    //   console.log(error);\n    // });\n    // }\n\n  }, {\n    key: \"changeAmount\",\n    value: function changeAmount(e) {\n      this.setState({\n        amount: e.target.value\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Checkout;\n}(React.Component);\n\nexport default Checkout; // <input type='text' onChange={\n//    this.changeAmount\n//   } />","map":{"version":3,"sources":["/var/www/html/REACT_WORK/planetshare_web/src/container/Buyer_Payment/payment.js"],"names":["React","Razorpay","axios","Redirect","PAYMENT","Checkout","props","state","payment_id","order_id","amount","id","sendPaymentId","paymentId","alert","openCheckout","redirect_url","x","options","response","window","location","href","data","razorpay_payment_id","rzp","open","bind","history","push","price","setState","e","target","value","Component"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,UAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAwB,kBAAxB;AACA,SAAQC,OAAR,QAAsB,WAAtB;;IACMC,Q;;;;;AAOJ,oBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,kFAAMA,KAAN,GADiB,CAEjB;;AAFiB,UANnBC,KAMmB,GANX;AACNC,MAAAA,UAAU,EAAC,EADL;AAENC,MAAAA,QAAQ,EAAC,EAFH;AAEMC,MAAAA,MAAM,EAAC,CAFb;AAGNC,MAAAA,EAAE,EAAC;AAHG,KAMW;;AAAA,UAiCnBC,aAjCmB,GAiCL,UAACC,SAAD,EAAa;AACzBC,MAAAA,KAAK,CAACD,SAAD,CAAL;AACD,KAnCkB;;AAAA,UAoCnBE,YApCmB,GAoCN,UAACL,MAAD,EAAQM,YAAR,EAAuB;AACpC,UAAIC,CAAC,GAAC,MAAKV,KAAL,CAAWG,MAAjB;AACE,UAAIQ,OAAO,GAAG;AACZ,eAAO,yBADK;AAEZ,kBAAUR,MAAM,GAAC,GAFL;AAEU;AACtB,oBAAY,KAHA;AAIZ,gBAAQ,UAJI;AAKZ,uBAAe,sBALH;AAMZ,iBAAS,gBANG;AAOZ,mBAAW,iBAASS,QAAT,EAAkB;AAC3BL,UAAAA,KAAK,CAAC,4BAAD,CAAL;AACEM,UAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAqBN,YAArB,CAFyB,CAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,cAAIO,IAAI,GAAG;AACT,mBAAO,yBADE;AAET,sBAAS,KAFA;AAEO;AAChB,sEAAkDJ,QAAQ,CAACK,mBAA3D;AAHS,WAAX,CAhB2B,CAqB7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SApCK;AAqCZ,mBAAW;AACT,kBAAQ,gBADC;AAET,mBAAS,qBAFA;AAGT,qBAAU;AAHD,SArCC;AA0CZ,iBAAS;AACP,qBAAW;AADJ,SA1CG;AA6CZ,iBAAS;AACP,mBAAS;AADF;AA7CG,OAAd;AAkDA,UAAIC,GAAG,GAAE,IAAIL,MAAM,CAACnB,QAAX,CAAoBiB,OAApB,CAAT;AAAuCO,MAAAA,GAAG,CAACC,IAAJ;AACxC,KAzFkB;;AAGjB,UAAKX,YAAL,GAAoB,MAAKA,YAAL,CAAkBY,IAAlB,uDAApB,CAHiB,CAIjB;;AAJiB;AAKlB;;;;wCAED;AACE,UAAIJ,IAAI,GAAC,KAAKjB,KAAL,CAAWe,QAAX,CAAoBE,IAA7B;;AACA,UAAGA,IAAI,IAAE,IAAT,EACA;AACI,aAAKjB,KAAL,CAAWsB,OAAX,CAAmBC,IAAnB,CAAwB,MAAxB;AACH,OAHD,MAIK;AACL,YAAInB,MAAM,GAACa,IAAI,CAACO,KAAhB;AACA,aAAKC,QAAL,CAAc;AAACrB,UAAAA,MAAM,EAACA;AAAR,SAAd;AACA,aAAKK,YAAL,CAAkBL,MAAlB,EAAyB,GAAzB;AACC;AACF,K,CACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;iCACasB,C,EAAG;AACd,WAAKD,QAAL,CAAc;AAACrB,QAAAA,MAAM,EAAEsB,CAAC,CAACC,MAAF,CAASC;AAAlB,OAAd;AACD;;;6BA2DS;AACR,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAID;;;;EAvGoBlC,KAAK,CAACmC,S;;AA0G7B,eAAe9B,QAAf,C,CACA;AACA;AACA","sourcesContent":["import React from 'react';\nimport Razorpay from 'razorpay';\nimport axios from 'axios';\nimport  {Redirect} from 'react-router-dom';\nimport {PAYMENT} from '../../url'\nclass Checkout extends React.Component{\n  state = {\n    payment_id:'',\n    order_id:'',amount:0,\n    id:''\n  };\n\n  constructor(props) {\n    super(props)\n    // this.changeAmount = this.changeAmount.bind(this);\n    this.openCheckout = this.openCheckout.bind(this);\n    // this.getdetails = this.getdetails.bind(this);\n  }\n  componentDidMount()\n  {\n    var data=this.props.location.data;\n    if(data==null)\n    {\n        this.props.history.push('/web');\n    }\n    else {\n    var amount=data.price;\n    this.setState({amount:amount});\n    this.openCheckout(amount,'/');\n    }\n  }\n  // getdetails=(id)=>\n  // {\n  //   axios.post(`https://api.razorpay.com/v1/payments/:${id}`,{\n  //   })\n  // .then(response=>{\n  //   console.log(response);\n  // })\n  // .catch(function (error) {\n  //   console.log(error);\n  // });\n  // }\n  changeAmount(e) {\n    this.setState({amount: e.target.value})\n  }\n  sendPaymentId=(paymentId)=>{\n    alert(paymentId);\n  }\n  openCheckout=(amount,redirect_url)=>{\n  var x=this.state.amount;\n    let options = {\n      \"key\": \"rzp_test_hgYa6e7RNnPSJf\",\n      \"amount\": amount*100, // 2000 paise = INR 20, amount in paisa\n      \"currency\": \"INR\",\n      \"name\": \"Shantanu\",\n      \"description\": \"Purchase Description\",\n      \"image\": \"/your_logo.png\",\n      \"handler\": function(response){\n        alert('Thanx For Ordering With Us')\n          window.location.href=redirect_url;\n        // console.log(response.razorpay_payment_id);\n        //   axios.post(PAYMENT,\n        // {id:req_id,tag:tag,payment_id:response.razorpay_payment_id})\n        // .then(response=>{\n        //   if(response.data.success==1)\n        //   {\n        //     window.location.href=redirect_url;\n        //   }\n        // })\n        // .catch(function (error) {\n        //   console.log(error);\n        // });\n        // window.location.href='/';\n        let data = {\n          \"key\": \"rzp_test_hgYa6e7RNnPSJf\",\n          \"amount\":\"500\", // 2000 paise = INR 20, amount in paisa\n          \"hostUrl\":`https://api.razorpay.com/v1/payments/${response.razorpay_payment_id}/capture`\n        }\n      //   axios.post(`https://api.razorpay.com/v1/payments/${response.razorpay_payment_id}/capture`,\n      // {key_id:'rzp_test_hgYa6e7RNnPSJf',amount:x,checkcookie:1})\n      // .then(response=>{\n      //   console.log(response);\n      // })\n      // .catch(function (error) {\n      //   console.log(error);\n      // });\n            },\n      \"prefill\": {\n        \"name\": \"Shantanu Gupta\",\n        \"email\": \"shaang616@gmail.com\",\n        \"contact\":\"9654636775\"\n      },\n      \"notes\": {\n        \"address\": \"Hello World\"\n      },\n      \"theme\": {\n        \"color\": \"#3583D2\"\n      }\n    };\n\n    let rzp =new window.Razorpay(options); rzp.open();\n  }\n\n  render () {\n    return (\n      <div>\n      </div>\n    )\n  }\n}\n\nexport default Checkout\n// <input type='text' onChange={\n//    this.changeAmount\n//   } />\n"]},"metadata":{},"sourceType":"module"}