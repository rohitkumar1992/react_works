{"ast":null,"code":"import _classCallCheck from \"/var/www/html/REACT_WORK/planetshare_web/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/REACT_WORK/planetshare_web/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/html/REACT_WORK/planetshare_web/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/html/REACT_WORK/planetshare_web/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/html/REACT_WORK/planetshare_web/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/var/www/html/REACT_WORK/planetshare_web/src/component/searchpage/searchpage.js\";\nimport React, { Component } from 'react';\nimport VideoList from '../../component/videolist/videolist';\nimport Banner from '../../container/banner/banner';\nimport axios from 'axios';\nimport { BrowserRouter as Router, Link, withRouter } from \"react-router-dom\";\nimport { VIDEO_SEARCH, VIDEOS } from '../../url.js';\nimport './search_page.css';\n\nvar SEARCHPAGE =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SEARCHPAGE, _Component);\n\n  function SEARCHPAGE() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SEARCHPAGE);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SEARCHPAGE)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      searchList: [],\n      keyword: '',\n      banner_img: '',\n      searchShow: false,\n      list: []\n    };\n\n    _this.getData = function () {\n      axios.post(VIDEOS, {\n        page_limit: '50',\n        request_coming_from: 'web'\n      }).then(function (response) {\n        if (response.data.data != '') var result = _this.state.searchList.concat(response.data.data.data);\n\n        _this.setState({\n          list: result,\n          loader: true\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.searchResult = function (searchKeyword, callback) {\n      var keyword = searchKeyword;\n\n      _this.setState({\n        keyword: keyword\n      });\n\n      if (keyword == '') {\n        _this.props.history.push('/');\n\n        return false;\n      }\n\n      axios.post(VIDEO_SEARCH, {\n        searchKeyword: keyword\n      }).then(function (response) {\n        if (response.data.success == '1') {\n          _this.setState({\n            searchList: response.data.data\n          });\n        }\n\n        if (response.data.success == '0') {\n          _this.setState({\n            searchList: []\n          });\n        }\n\n        callback();\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.searchForm = function (e) {\n      e.preventDefault();\n      var search_key = e.target.search_bar.value;\n\n      _this.setState({\n        keyword: search_key\n      });\n\n      _this.props.history.push(\"/web/search/\".concat(search_key));\n    };\n\n    return _this;\n  }\n\n  _createClass(SEARCHPAGE, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // console.log(this.props.location.item);\n      this.searchResult(this.props.match.params.keyword, this.getData);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this2 = this;\n\n      if (this.state.keyword != this.props.match.params.keyword) {\n        this.setState({\n          keyword: this.props.match.params.keyword\n        }, function () {\n          _this2.searchResult(_this2.props.match.params.keyword, function () {\n            return _this2.getData();\n          });\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var videolist = this.state.list.length > 0 && this.state.list.map(function (result, index) {\n        return React.createElement(VideoList, {\n          video_id: result.video_id,\n          tag: \"buyer_video_list\",\n          img_url: \"\".concat(result.thumbnail),\n          host_url: result.host_url,\n          title: result.title,\n          description: result.description,\n          video_tag: result.Premium == '0' ? 'Free' : 'Premium',\n          price: result.Premium == '0' ? '0' : result.Price,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        });\n      });\n      return React.createElement(\"div\", {\n        class: \"top_div\",\n        id: \"buyer_search_list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"searchbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.searchForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"inputbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Search Photos and Videos\",\n        Value: this.state.keyword,\n        name: \"search_bar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"fa fa-search\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        class: \"clearfix\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"clearfix\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"features-wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, videolist));\n    }\n  }]);\n\n  return SEARCHPAGE;\n}(Component);\n\nexport default SEARCHPAGE;","map":{"version":3,"sources":["/var/www/html/REACT_WORK/planetshare_web/src/component/searchpage/searchpage.js"],"names":["React","Component","VideoList","Banner","axios","BrowserRouter","Router","Link","withRouter","VIDEO_SEARCH","VIDEOS","SEARCHPAGE","state","searchList","keyword","banner_img","searchShow","list","getData","post","page_limit","request_coming_from","then","response","data","result","concat","setState","loader","catch","error","console","log","searchResult","searchKeyword","callback","props","history","push","success","searchForm","e","preventDefault","search_key","target","search_bar","value","match","params","videolist","length","map","index","video_id","thumbnail","host_url","title","description","Premium","Price"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport VideoList from '../../component/videolist/videolist';\nimport Banner from '../../container/banner/banner';\nimport axios from 'axios';\nimport {BrowserRouter as Router,Link,withRouter} from \"react-router-dom\";\nimport {VIDEO_SEARCH,VIDEOS} from '../../url.js';\nimport './search_page.css';\nclass SEARCHPAGE extends Component\n{\n  state={\n    searchList:[],\n    keyword:'',\n    banner_img:'',\n    searchShow:false,list:[]\n  }\n  componentDidMount()\n  {\n        // console.log(this.props.location.item);\n      this.searchResult(this.props.match.params.keyword,this.getData);\n\n  }\n\n  getData=()=>{\n    axios.post(VIDEOS,{\n      page_limit:'50',\n      request_coming_from:'web'\n    })\n  .then(response=>{\n    if(response.data.data!='')\n\n    var result=this.state.searchList.concat(response.data.data.data);\n    this.setState({list:result,loader:true});\n  })\n  .catch(function (error) {\n    console.log(error);\n  });\n  }\n  searchResult=(searchKeyword,callback)=>\n  {\n    var keyword=searchKeyword;\n    this.setState({keyword:keyword});\n  if(keyword=='')\n  {\n    this.props.history.push('/');\n    return false;\n  }\n  axios.post(VIDEO_SEARCH,{\n    searchKeyword:keyword\n  })\n.then(response=>{\n  if(response.data.success=='1')\n  {\n    this.setState({searchList:response.data.data})\n  }\n  if(response.data.success=='0')\n  {\n    this.setState({searchList:[]})\n  }\n  callback();\n})\n.catch(function (error) {\n  console.log(error);\n});\n  }\n  searchForm=(e)=>{\n    e.preventDefault();\n    var search_key=e.target.search_bar.value;\n    this.setState({keyword:search_key})\n    this.props.history.push(`/web/search/${search_key}`)\n  }\n  componentDidUpdate()\n  {\n    if(this.state.keyword!=this.props.match.params.keyword)\n    {\n      this.setState({keyword:this.props.match.params.keyword},()=>{\n            this.searchResult(this.props.match.params.keyword,()=>this.getData());\n      })\n\n    }\n  }\n  render()\n  {\n    const videolist = ((this.state.list.length>0  )&& this.state.list.map((result,index)=>{\n      return <VideoList video_id={result.video_id} tag=\"buyer_video_list\" img_url={`${result.thumbnail}`} host_url={result.host_url} title={result.title} description={result.description} video_tag={result.Premium=='0'?'Free':'Premium'} price={result.Premium=='0'?'0':result.Price}/>\n    }));\n    return (\n<div class=\"top_div\" id=\"buyer_search_list\">\n<div class=\"searchbox\">\n    <form onSubmit={this.searchForm}>\n        <div class=\"inputbox\">\n            <input type=\"text\" placeholder=\"Search Photos and Videos\" Value={this.state.keyword} name=\"search_bar\"/>\n            <button type=\"submit\"><i class=\"fa fa-search\" aria-hidden=\"true\"></i></button>\n        </div>\n        <div class=\"clearfix\"></div>\n    </form>\n    <div class=\"clearfix\"></div>\n</div>\n          <div class=\"features-wrap\">\n            {videolist}\n             </div>\n\n</div>\n      );\n    }\n}\nexport default SEARCHPAGE;\n"]},"metadata":{},"sourceType":"module"}