{"ast":null,"code":"import _classCallCheck from \"/var/www/html/REACT_WORK/planetshare_web/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/REACT_WORK/planetshare_web/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/html/REACT_WORK/planetshare_web/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/html/REACT_WORK/planetshare_web/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/html/REACT_WORK/planetshare_web/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/var/www/html/REACT_WORK/planetshare_web/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/var/www/html/REACT_WORK/planetshare_web/src/container/Payment/payment.js\";\nimport React from 'react';\nimport Razorpay from 'razorpay';\nimport axios from 'axios';\nimport { Redirect } from 'react-router-dom';\nimport { PAYMENT } from '../../url';\n\nvar Checkout =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Checkout, _React$Component);\n\n  function Checkout(props) {\n    var _this;\n\n    _classCallCheck(this, Checkout);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Checkout).call(this, props));\n    _this.state = {\n      payment_id: '',\n      order_id: '',\n      amount: 0,\n      id: ''\n    };\n\n    _this.getdetails = function (id) {\n      axios.post(\"https://api.razorpay.com/v1/payments/:\".concat(id), {}).then(function (response) {\n        console.log(response);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.sendPaymentId = function (paymentId) {\n      alert(paymentId);\n    };\n\n    _this.openCheckout = function (amount, req_id, tag, redirect_url) {\n      // var amounts=Math.round(amount)*100;\n      // alert(amounts);\n      var x = _this.state.amount;\n      var options = {\n        \"key\": \"rzp_test_hgYa6e7RNnPSJf\",\n        \"amount\": Math.round(amount * 100),\n        // 2000 paise = INR 20, amount in paisa\n        \"currency\": \"INR\",\n        \"name\": \"Shantanu\",\n        \"description\": \"Purchase Description\",\n        \"image\": \"/your_logo.png\",\n        \"handler\": function handler(response) {\n          console.log(response.razorpay_payment_id);\n          axios.post(PAYMENT, {\n            id: req_id,\n            tag: tag,\n            payment_id: response.razorpay_payment_id\n          }).then(function (response) {\n            if (response.data.success == 1) {\n              window.location.href = '#' + redirect_url + '';\n            }\n          }).catch(function (error) {\n            console.log(error);\n          }); // window.location.href='/';\n\n          var data = {\n            \"key\": \"rzp_test_hgYa6e7RNnPSJf\",\n            \"amount\": \"500\",\n            // 2000 paise = INR 20, amount in paisa\n            \"hostUrl\": \"https://api.razorpay.com/v1/payments/\".concat(response.razorpay_payment_id, \"/capture\")\n          }; //   axios.post(`https://api.razorpay.com/v1/payments/${response.razorpay_payment_id}/capture`,\n          // {key_id:'rzp_test_hgYa6e7RNnPSJf',amount:x,checkcookie:1})\n          // .then(response=>{\n          //   console.log(response);\n          // })\n          // .catch(function (error) {\n          //   console.log(error);\n          // });\n        },\n        \"prefill\": {\n          \"name\": \"Shantanu Gupta\",\n          \"email\": \"shaang616@gmail.com\",\n          \"contact\": \"9654636775\"\n        },\n        \"notes\": {\n          \"address\": \"Hello World\"\n        },\n        \"theme\": {\n          \"color\": \"#3583D2\"\n        }\n      };\n      var rzp = new window.Razorpay(options);\n      rzp.open();\n    };\n\n    _this.changeAmount = _this.changeAmount.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.openCheckout = _this.openCheckout.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getdetails = _this.getdetails.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Checkout, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var data = this.props.location.data;\n\n      if (data == null) {\n        this.props.history.push('/dashboard/buyer/service/dubbing/myorders');\n      } else {\n        var amount = data.price;\n        var redirect = data.link;\n        this.setState({\n          amount: amount,\n          id: data.id\n        });\n\n        if (redirect == \"dubbing\") {\n          this.openCheckout(amount, data.id, 'dubbing', '/dashboard/buyer/service/dubbing/myorders');\n        }\n\n        if (redirect == \"transcoding\") {\n          this.openCheckout(amount, data.id, 'transcoding', '/dashboard/buyer/service/transcoding/myorders');\n        }\n\n        if (redirect == \"subtitling\") {\n          this.openCheckout(amount, data.id, 'subtitling', '/dashboard/buyer/service/subtitling/myorders');\n        }\n\n        if (redirect == \"tagging\") {\n          this.openCheckout(amount, data.id, 'tagging', '/dashboard/buyer/service/tagging/myorders');\n        }\n      }\n    }\n  }, {\n    key: \"changeAmount\",\n    value: function changeAmount(e) {\n      this.setState({\n        amount: e.target.value\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Checkout;\n}(React.Component);\n\nexport default Checkout; // <input type='text' onChange={\n//    this.changeAmount\n//   } />","map":{"version":3,"sources":["/var/www/html/REACT_WORK/planetshare_web/src/container/Payment/payment.js"],"names":["React","Razorpay","axios","Redirect","PAYMENT","Checkout","props","state","payment_id","order_id","amount","id","getdetails","post","then","response","console","log","catch","error","sendPaymentId","paymentId","alert","openCheckout","req_id","tag","redirect_url","x","options","Math","round","razorpay_payment_id","data","success","window","location","href","rzp","open","changeAmount","bind","history","push","price","redirect","link","setState","e","target","value","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Razorpay from 'razorpay';\nimport axios from 'axios';\nimport  {Redirect} from 'react-router-dom';\nimport {PAYMENT} from '../../url'\nclass Checkout extends React.Component{\n  state = {\n    payment_id:'',\n    order_id:'',amount:0,\n    id:''\n  };\n\n  constructor(props) {\n    super(props)\n    this.changeAmount = this.changeAmount.bind(this);\n    this.openCheckout = this.openCheckout.bind(this);\n    this.getdetails = this.getdetails.bind(this);\n  }\n  componentDidMount()\n  {\n    var data=this.props.location.data;\n    if(data==null)\n    {\n        this.props.history.push('/dashboard/buyer/service/dubbing/myorders');\n    }\n    else {\n    var amount=data.price;\n    var redirect=data.link;\n    this.setState({amount:amount,id:data.id});\n    if(redirect==\"dubbing\")\n    {\n      this.openCheckout(amount,data.id,'dubbing','/dashboard/buyer/service/dubbing/myorders');\n    }\n    if(redirect==\"transcoding\")\n    {\n      this.openCheckout(amount,data.id,'transcoding','/dashboard/buyer/service/transcoding/myorders');\n    }\n    if(redirect==\"subtitling\")\n    {\n      this.openCheckout(amount,data.id,'subtitling','/dashboard/buyer/service/subtitling/myorders');\n    }\n    if(redirect==\"tagging\")\n    {\n      this.openCheckout(amount,data.id,'tagging','/dashboard/buyer/service/tagging/myorders');\n    }\n    }\n  }\n  getdetails=(id)=>\n  {\n    axios.post(`https://api.razorpay.com/v1/payments/:${id}`,{\n    })\n  .then(response=>{\n    console.log(response);\n  })\n  .catch(function (error) {\n    console.log(error);\n  });\n  }\n  changeAmount(e) {\n    this.setState({amount: e.target.value})\n  }\n  sendPaymentId=(paymentId)=>{\n    alert(paymentId);\n  }\n  openCheckout=(amount,req_id,tag,redirect_url)=>{\n    // var amounts=Math.round(amount)*100;\n    // alert(amounts);\n  var x=this.state.amount;\n    let options = {\n      \"key\": \"rzp_test_hgYa6e7RNnPSJf\",\n      \"amount\": Math.round(amount*100), // 2000 paise = INR 20, amount in paisa\n      \"currency\": \"INR\",\n      \"name\": \"Shantanu\",\n      \"description\": \"Purchase Description\",\n      \"image\": \"/your_logo.png\",\n      \"handler\": function(response){\n        console.log(response.razorpay_payment_id);\n          axios.post(PAYMENT,\n        {id:req_id,tag:tag,payment_id:response.razorpay_payment_id})\n        .then(response=>{\n          if(response.data.success==1)\n          {\n            window.location.href='#'+redirect_url+'';\n          }\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n        // window.location.href='/';\n        let data = {\n          \"key\": \"rzp_test_hgYa6e7RNnPSJf\",\n          \"amount\":\"500\", // 2000 paise = INR 20, amount in paisa\n          \"hostUrl\":`https://api.razorpay.com/v1/payments/${response.razorpay_payment_id}/capture`\n        }\n      //   axios.post(`https://api.razorpay.com/v1/payments/${response.razorpay_payment_id}/capture`,\n      // {key_id:'rzp_test_hgYa6e7RNnPSJf',amount:x,checkcookie:1})\n      // .then(response=>{\n      //   console.log(response);\n      // })\n      // .catch(function (error) {\n      //   console.log(error);\n      // });\n            },\n      \"prefill\": {\n        \"name\": \"Shantanu Gupta\",\n        \"email\": \"shaang616@gmail.com\",\n        \"contact\":\"9654636775\"\n      },\n      \"notes\": {\n        \"address\": \"Hello World\"\n      },\n      \"theme\": {\n        \"color\": \"#3583D2\"\n      }\n    };\n\n    let rzp =new window.Razorpay(options); rzp.open();\n  }\n\n  render () {\n    return (\n      <div>\n      </div>\n    )\n  }\n}\n\nexport default Checkout\n// <input type='text' onChange={\n//    this.changeAmount\n//   } />\n"]},"metadata":{},"sourceType":"module"}