{"version":3,"sources":["container/Dashboard_Container/seller_dashboard/chunkupload/progressbar.js","container/Dashboard_Container/seller_dashboard/chunkupload/resumable.js"],"names":["Progress","state","percentage","react_default","a","createElement","class","style","height","role","aria-valuenow","aria-valuemin","aria-valuemax","Component","VOD","video_id","showTable","tableContent","nextComponent","email","formContent","document","getElementById","value","_this","props","history","push","concat","localStorage","getItem","this","setState","$","window","$fileUpload","hide","$fileUploadDrop","$uploadList","length","resumable","Resumable","chunkSize","fileType","simultaneousUploads","testChunks","throttleProgressCallbacks","maxFiles","target","data","query","_token","val","tag","maxFilesErrorCallback","files","errorCount","console","log","maxFileSizeErrorCallback","file","click","addClass","removeClass","support","show","assignDrop","assignBrowse","on","append","uniqueIdentifier","html","fileName","upload","message","result","JSON","parse","Math","floor","progress","css","width","isUploading","pause","backgroundColor","src","id","display","type","data-url","CHUNK_UPLOAD_SERVICE","react_router_dom","to","aria-label","aria-hidden","progressbar","percent","color","onClick","withRouter"],"mappings":"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","file":"static/js/49.337479bf.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nclass Progress extends Component {\nstate={\n  percentage:''\n}\n\nrender()\n{\n\nreturn(\n<div class=\"container\" >\n  <div class=\"progress\" style={{height:'25px'}}>\n    <div class=\"progress-bar\" role=\"progressbar\" aria-valuenow=\"70\" aria-valuemin=\"0\" aria-valuemax=\"100\" >\n\n    </div>\n  </div>\n</div>\n)\n}\n}\nexport default Progress\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport $ from 'jquery';\nimport {Link,withRouter} from \"react-router-dom\";\nimport Resumable from 'resumablejs';\nimport Progress from './progressbar';\nimport VIDEODESCRIPTION from './videodescription';\nimport {CHUNK_UPLOAD_SERVICE} from '../../../../url.js';\nimport './resumable.css';\nconst uploadPercentage='0%';\nclass VOD extends Component {\n  state={\n    percentage:'',\n    video_id:'',\n    showTable:false,\n    tableContent:[],\n    nextComponent:false,\n    email:'',\n\n  }\n  componentWillMount()\n  {\n    var email=localStorage.getItem('username');\n    this.setState({email:email});\n  }\n  componentDidMount()\n  {\n    var $ = window.$; // use the global jQuery instance\n  var $fileUpload = $('#resumable-browse');\n  $('#start-upload-btn').hide();\n    $('#pause-upload-btn').hide();\n      $('#cancel-upload-btn').hide();\n  var $fileUploadDrop = $('#resumable-drop');\n  var $uploadList = $(\"#file-upload-list\");\n  if ($fileUpload.length > 0 && $fileUploadDrop.length > 0) {\n      var resumable = new Resumable({\n\n          // Use chunk size that is smaller than your maximum limit due a resumable issue\n          // https://github.com/23/resumable.js/issues/51\n          chunkSize: 10 * 1024 * 1024, // 1MB\n          fileType: ['mp4'],\n          simultaneousUploads:1,\n          testChunks: false,\n          throttleProgressCallbacks: 1,\n          maxFiles:1,\n          // Get the url from data-url tag\n          target: $fileUpload.data('url'),\n          // Append token to the request - required for web routes\n          query:{_token : $('input[name=_token]').val(),tag:'seller'},\n          maxFilesErrorCallback(files, errorCount){ console.log(errorCount);},\n          maxFileSizeErrorCallback(file, errorCount){console.log(errorCount)}\n      });\n\n  // Resumable.js isn't supported, fall back on a different method\n  $('#resumable-browse').click(function()\n  {\n    $('#dubbing_cont').addClass('collapsed');\n    $('#dubbing_upload_button').removeClass('show');\n  })\n      if (!resumable.support) {\n          $('#resumable-error').show();\n      } else {\n          // Show a place for dropping/selecting files\n          $fileUploadDrop.show();\n          resumable.assignDrop($fileUpload[0]);\n          resumable.assignBrowse($fileUploadDrop[0]);\n\n          // Handle file add event\n\n          resumable.on('fileAdded', function (file) {\n              // Show progress pabr\n\n              $fileUpload.hide();\n              $uploadList.show();\n              $('#progress_bar_status').show()\n\n              $('#file_upload_button').hide()\n              // $('#start-upload-btn').show();\n                $('#pause-upload-btn').show();\n                  $('#cancel-upload-btn').show();\n              // Show pause, hide resume\n              $('.resumable-progress .progress-resume-link').hide();\n              $('.resumable-progress .progress-pause-link').show();\n              // Add the file to the list\n              $uploadList.append('<li class=\"resumable-file-' + file.uniqueIdentifier + '\">Uploading <span class=\"resumable-file-name\"></span> <span class=\"resumable-file-progress\"></span>');\n              $('.resumable-file-' + file.uniqueIdentifier + ' .resumable-file-name').html(file.fileName);\n              // Actually start the upload\n                              // console.log(file);\n              resumable.upload();\n          });\n\n          resumable.on('fileSuccess', function (file, message) {\n            var result=JSON.parse(message);\n            $('#video_id').val(result.video_id);\n\n            $('#start-upload-btn').hide();\n            $('#pause-upload-btn').hide();\n            $('#progress_bar_status').hide();\n                  $('#cancel-upload-btn').hide();\n            $('#file_upload_button').show();\n            $('#progress_bar_status').hide()\n            $('#save_button').show();\n              $fileUpload.show();\n\n\n              // Reflect that the file upload has completed\n              $('.resumable-file-' + file.uniqueIdentifier + ' .resumable-file-progress').html('(completed)');\n          });\n          resumable.on('fileError', function (file, message) {\n              // Reflect that the file upload has resulted in error\n              $('.resumable-file-' + file.uniqueIdentifier + ' .resumable-file-progress').html('(file could not be uploaded: ' + message + ')');\n          });\n          resumable.on('fileProgress', function (file) {\n              // Handle progress for both the file and the overall upload\n              $('.resumable-file-' + file.uniqueIdentifier + ' .resumable-file-progress').html(Math.floor(file.progress() * 100) + '%');\n              $('.progress-bar').css({width: Math.floor(resumable.progress() * 100) + '%'});\n              $('#hidden_percent').val(Math.floor(file.progress() * 100));\n              $('#show_percentage').html(Math.floor(file.progress() * 100)+'%');\n             // uploadPercentage=Math.floor(file.progress() * 100) + '%';\n              // this.setState({percentage:'10'});\n          });\n      }\n      $('#pause-upload-btn').click(function(){\n        $('#pause-upload-btn').hide();\n        $('#start-upload-btn').show();\n          if (resumable.files.length>0) {\n              if (resumable.isUploading()) {\n                return  resumable.pause();\n              }\n              return resumable.upload();\n          }\n      });\n      $('#start-upload-btn').click(function(){\n                $('#start-upload-btn').hide();\n                  $('#pause-upload-btn').show();\n          resumable.upload();\n      });\n\n  }\n}\n\npause(){\n // Show resume, hide pause\n $('.resumable-progress .progress-resume-link').show();\n $('.resumable-progress .progress-pause-link').hide();\n}\ncancel(){\n$('.resumable-file-progress').html('canceled');\n}\nredirectHandler()\n{\n  var video_id=document.getElementById('video_id').value;\n  this.setState({video_id:video_id})\n  // this.props.history.push(`/upload/description/${video_id}`);\n}\nformContent=()=>{\n  var video_id=document.getElementById('video_id').value;\n  // this.setState({video_id:video_id});\n  this.props.history.push(`/dashboard/seller/uploadDetails/${video_id}`)\n}\n  render() {\n    return (\n      <div class=\"page-body-wrapper\" style={{backgroundColor:'white'}}>\n        <div class=\"file_upload\">\n          <div class=\"container\">\n            <h1>Upload Your Valuable Content</h1>\n            <div class=\"file-upload\">\n              <div class=\"image-upload-wrap\">\n                <div class=\"col-12 col-md-12 mx-auto ml-8\">\n                  <div class=\"drag-text\">\n                    <h6 class=\"text-center\">File Upload</h6>\n                    <img src=\"img/upload_icon.png\" class=\"mx-auto ml-8\"/>\n                  </div>\n                  <div class=\"text-center\" >\n                  <div id=\"resumable-error\" style={{display: \"none\"}}>\n                      Resumable not supported\n                  </div>\n                  <div class=\"col-md-12\">\n                    <div id=\"resumable-drop\">\n                      <div id=\"file_upload_button\" class=\"mt-16\">\n                        <span class=\"btn btn-success fileinput-button\">\n                          <i class=\"glyphicon glyphicon-plus\"></i>\n                          <button type=\"button\" class=\"btn btn-success fileinput-button\" id=\"resumable-browse\" data-url={`${CHUNK_UPLOAD_SERVICE}/${this.state.email}`} >Select Files</button>\n                        </span>\n                      </div>\n                    </div>\n                    <Link to={`/dashboard/seller`}>\n                      <button type=\"button\" class=\"btn btn-warning\" aria-label=\"Pause upload\" id=\"cancel-upload-btn\" style={{display: \"none\"}}>\n                        <span class=\"glyphicon glyphicon-pause \" aria-hidden=\"true\"></span> Cancel upload\n                      </button>\n                    </Link>\n                    {/*<button type=\"button\" class=\"btn btn-warning\" aria-label=\"Pause upload\" id=\"pause-upload-btn\" style={{display: \"none\"}}>\n                        <span class=\"glyphicon glyphicon-pause \" aria-hidden=\"true\"></span> Pause upload-\n                    </button>\n                    <button type=\"button\" class=\"btn btn-info\" aria-label=\"Start upload\" id=\"start-upload-btn\" style={{display: \"none\"}}>\n                        <span class=\"glyphicon glyphicon-upload\" aria-hidden=\"true\"></span> Start upload\n                    </button>*/}\n                  </div>\n                  <br/>\n                <div class=\"col-lg-offset-2 col-lg-12\" id=\"progress_bar_status\" style={{display:'none'}}>\n                <p>\n                 <Progress  percent={this.state.percentage}/>\n                 <div id=\"show_percentage\" ></div>\n                </p>\n              </div>\n              <div class=\"col-md-12\">\n                <ul id=\"file-upload-list\" class=\"list-styled\"  style={{display: \"none\",backgroundColor:'rgba(0,0,0,0.1)', color:'black'}}>\n                </ul>\n              </div>\n              <input type=\"hidden\" id=\"video_id\"/>\n              <button class=\"btn btn-primary pull-right\" id=\"save_button\" style={{display:'none'}} onClick={this.formContent}>Next</button>\n            </div>\n            <br/>\n            <br/>\n          </div>\n        </div>\n            </div>\n          </div>\n          <div class=\"clearfix\"></div>\n        </div>\n      </div>\n        )\n\n      }\n    }\nexport default withRouter(VOD);\n// {this.state.showTable && <Paging total={this.state.total} clicked={this.pagingContent.bind(this)} first={this.state.first} rows={this.state.rows} search={this.state.search}/>}\n"],"sourceRoot":""}